'use strict';
const _0x54ca62 = _0x5254;
(function (_0x31e10f, _0x41dc59) {
    const _0x26e32d = _0x5254, _0x263ff2 = _0x31e10f();
    while (!![]) {
        try {
            const _0x268fa6 = -parseInt(_0x26e32d(0x270)) / (-0x13ed + 0x1 * -0xd29 + 0x2117) * (parseInt(_0x26e32d(0x244)) / (-0x2657 + -0x9d1 + 0x302a)) + -parseInt(_0x26e32d(0x227)) / (-0x4 * 0x403 + 0x3 * -0x89 + 0x26 * 0x77) + parseInt(_0x26e32d(0x26f)) / (-0x1 * 0xc73 + -0x22ba + 0xfbb * 0x3) + parseInt(_0x26e32d(0x274)) / (0xb6e + -0x2342 + 0x17d9) + -parseInt(_0x26e32d(0x1f3)) / (0xf0 * 0xf + 0x128f * 0x2 + -0x3328) * (parseInt(_0x26e32d(0x209)) / (0x21e8 + 0x3 * 0x259 + -0x28ec)) + -parseInt(_0x26e32d(0x278)) / (-0x643 + 0xc * -0x21c + -0x57 * -0x5d) + parseInt(_0x26e32d(0x23b)) / (-0x1 * -0x11b + -0xb0 * 0x2e + 0x1e8e);
            if (_0x268fa6 === _0x41dc59)
                break;
            else
                _0x263ff2['push'](_0x263ff2['shift']());
        } catch (_0xbb3d91) {
            _0x263ff2['push'](_0x263ff2['shift']());
        }
    }
}(_0x53f6, -0x4c0f * -0x25 + 0x41 * -0x1719 + 0x4b146));
var __awaiter = this && this[_0x54ca62(0x22a)] || function (_0x49bbfa, _0x918e0f, _0x4661c8, _0x47ef56) {
        const _0x32f5c0 = _0x54ca62, _0x24c68a = {
                'pzipE': function (_0x2ab3ee, _0x175bde) {
                    return _0x2ab3ee(_0x175bde);
                },
                'TXzuQ': function (_0x2bc91d, _0x268c88) {
                    return _0x2bc91d instanceof _0x268c88;
                },
                'eketh': function (_0x665ac0, _0x4788f0) {
                    return _0x665ac0(_0x4788f0);
                },
                'MyCJR': function (_0xfe2623, _0x423620) {
                    return _0xfe2623(_0x423620);
                },
                'ueBtV': function (_0x3091ec, _0xa4a9f9) {
                    return _0x3091ec(_0xa4a9f9);
                },
                'BYCXv': _0x32f5c0(0x223),
                'BDYAW': function (_0x3fea34, _0x458920) {
                    return _0x3fea34(_0x458920);
                }
            };
        function _0x403f39(_0x5d0376) {
            const _0x3ffc4d = _0x32f5c0;
            return _0x24c68a[_0x3ffc4d(0x203)](_0x5d0376, _0x4661c8) ? _0x5d0376 : new _0x4661c8(function (_0x187baa) {
                const _0x1b833b = _0x3ffc4d;
                _0x24c68a[_0x1b833b(0x21e)](_0x187baa, _0x5d0376);
            });
        }
        return new (_0x4661c8 || (_0x4661c8 = Promise))(function (_0x25cd1f, _0x5598f1) {
            const _0x354eae = _0x32f5c0, _0x52c3ba = {
                    'sxQHH': function (_0x4cec77, _0x17b835) {
                        const _0x15d202 = _0x5254;
                        return _0x24c68a[_0x15d202(0x27a)](_0x4cec77, _0x17b835);
                    },
                    'pEddL': function (_0x3e649e, _0x81aa07) {
                        const _0x1b7c0c = _0x5254;
                        return _0x24c68a[_0x1b7c0c(0x27a)](_0x3e649e, _0x81aa07);
                    },
                    'iEXdk': _0x24c68a[_0x354eae(0x24a)],
                    'iuXgd': function (_0x490bc6, _0x3d079c) {
                        const _0x4ccd14 = _0x354eae;
                        return _0x24c68a[_0x4ccd14(0x21e)](_0x490bc6, _0x3d079c);
                    }
                };
            function _0x55bf3e(_0x52d73b) {
                const _0x5c0bb4 = _0x354eae;
                try {
                    _0x52c3ba[_0x5c0bb4(0x1f4)](_0x4d4ae3, _0x47ef56[_0x5c0bb4(0x261)](_0x52d73b));
                } catch (_0x13e66f) {
                    _0x52c3ba[_0x5c0bb4(0x1f4)](_0x5598f1, _0x13e66f);
                }
            }
            function _0x6cb21e(_0x21371c) {
                const _0x4efe4b = _0x354eae;
                try {
                    _0x52c3ba[_0x4efe4b(0x216)](_0x4d4ae3, _0x47ef56[_0x52c3ba[_0x4efe4b(0x24b)]](_0x21371c));
                } catch (_0x1d42a7) {
                    _0x52c3ba[_0x4efe4b(0x255)](_0x5598f1, _0x1d42a7);
                }
            }
            function _0x4d4ae3(_0x42367f) {
                const _0x431065 = _0x354eae;
                _0x42367f[_0x431065(0x266)] ? _0x24c68a[_0x431065(0x20f)](_0x25cd1f, _0x42367f[_0x431065(0x23a)]) : _0x24c68a[_0x431065(0x251)](_0x403f39, _0x42367f[_0x431065(0x23a)])[_0x431065(0x26e)](_0x55bf3e, _0x6cb21e);
            }
            _0x24c68a[_0x354eae(0x269)](_0x4d4ae3, (_0x47ef56 = _0x47ef56[_0x354eae(0x250)](_0x49bbfa, _0x918e0f || []))[_0x354eae(0x261)]());
        });
    }, __importDefault = this && this[_0x54ca62(0x25f) + _0x54ca62(0x23e)] || function (_0xb21873) {
        const _0x46d76b = _0x54ca62;
        return _0xb21873 && _0xb21873[_0x46d76b(0x20a)] ? _0xb21873 : { 'default': _0xb21873 };
    };
const _0xe509c1 = {};
function _0x53f6() {
    const _0x4ed65c = [
        'message',
        'id:\x20',
        './socketCh',
        'apply',
        'MyCJR',
        'socket.io',
        'findByPk',
        'use',
        'iuXgd',
        'jTZnb',
        'ent\x20discon',
        'user',
        'HPjbB',
        'User',
        'split',
        'tenantId',
        'ired,\x20auth',
        'disconnect',
        '__importDe',
        ':notificat',
        'next',
        'email',
        'vwsVW',
        'Server',
        'tenant',
        'done',
        'lastOnline',
        'ogger',
        'BDYAW',
        '../utils/l',
        'Client\x20joi',
        'toString',
        'Client\x20con',
        'then',
        '2929772zXseex',
        '419116zexFMX',
        'attributes',
        'pingInterv',
        'getIO',
        '4155090mPRkmz',
        'logger',
        'isValid',
        'pingTimeou',
        '1916008fGslQf',
        'DgvqD',
        'ueBtV',
        'hwlSU',
        '1|4|3|2|0',
        'pkIrG',
        '1199994tRzDPh',
        'sxQHH',
        'prZQT',
        'oined\x20noti',
        'yNZcu',
        'Socket\x20exp',
        'tZLRv',
        'boEtO',
        'FNenZ',
        '\x20tickets\x20c',
        'status',
        'VurBY',
        'ned\x20a\x20tick',
        'aneff',
        './decodeTo',
        'Lsqgy',
        'TXzuQ',
        'AppError',
        'ogpFW',
        'kenSocket',
        'join',
        'data',
        '28nzZOtY',
        '__esModule',
        'riWtB',
        'assign',
        'oined\x20to\x20',
        'tokenInval',
        'eketh',
        'et\x20channel',
        'handshake',
        'auth',
        'kHhNn',
        'tion\x20error',
        '../models/',
        'pEddL',
        ':joinTicke',
        'emit',
        'profile',
        'Socket\x20IO\x20',
        'id:',
        'A\x20client\x20j',
        'name',
        'pzipE',
        'origin',
        'info',
        ':joinChatB',
        'initIO',
        'throw',
        'cors',
        'token',
        'Pwiyh',
        '2713704xJjSdJ',
        'hannel\x20',
        'nected\x20,\x20',
        '__awaiter',
        ':joinNotif',
        'iRXdt',
        'connection',
        'authentica',
        'SOCKET\x20Cli',
        'entication',
        'ion',
        'nected\x20in\x20',
        'ydKXA',
        'fication\x20c',
        'WVGAo',
        'COTkO',
        '\x20warning.',
        'defineProp',
        'erty',
        'value',
        '12989952jesYph',
        'default',
        'ication',
        'fault',
        'JLsyW',
        'register',
        'CFqkR',
        'warn',
        '../errors/',
        '2kQzVmm',
        'not\x20initia',
        'lastLogin',
        'at/Chat',
        'hannel.',
        'zSMtP',
        'BYCXv',
        'iEXdk',
        'lized'
    ];
    _0x53f6 = function () {
        return _0x4ed65c;
    };
    return _0x53f6();
}
_0xe509c1[_0x54ca62(0x23a)] = !![], Object[_0x54ca62(0x238) + _0x54ca62(0x239)](exports, _0x54ca62(0x20a), _0xe509c1), exports[_0x54ca62(0x273)] = exports[_0x54ca62(0x222)] = void (0x6 * -0x3cb + -0x21b4 + 0x3876);
const socket_io_1 = require(_0x54ca62(0x252)), AppError_1 = __importDefault(require(_0x54ca62(0x243) + _0x54ca62(0x204))), decodeTokenSocket_1 = __importDefault(require(_0x54ca62(0x201) + _0x54ca62(0x206))), logger_1 = require(_0x54ca62(0x26a) + _0x54ca62(0x268)), User_1 = __importDefault(require(_0x54ca62(0x215) + _0x54ca62(0x25a))), Chat_1 = __importDefault(require(_0x54ca62(0x24f) + _0x54ca62(0x247)));
function _0x5254(_0x34e3e0, _0x1410e6) {
    const _0x337423 = _0x53f6();
    return _0x5254 = function (_0x5c4ca9, _0x19ad57) {
        _0x5c4ca9 = _0x5c4ca9 - (0x11ca + 0x5 * 0x135 + -0x15e2);
        let _0x426f87 = _0x337423[_0x5c4ca9];
        return _0x426f87;
    }, _0x5254(_0x34e3e0, _0x1410e6);
}
let io;
const initIO = _0x4e70f6 => {
    const _0x49304e = _0x54ca62, _0x1c4925 = {
            'ydKXA': function (_0x2bd54e, _0x5b7910) {
                return _0x2bd54e === _0x5b7910;
            },
            'iRXdt': function (_0xa7334, _0x8f3513) {
                return _0xa7334 === _0x8f3513;
            },
            'boEtO': function (_0x5a4141, _0x3cd152) {
                return _0x5a4141 === _0x3cd152;
            },
            'vwsVW': function (_0x32bcb4, _0x43f3a7) {
                return _0x32bcb4 === _0x43f3a7;
            },
            'yNZcu': _0x49304e(0x1f8) + _0x49304e(0x25d) + _0x49304e(0x230) + _0x49304e(0x237),
            'aneff': function (_0x4f0f18, _0x503056) {
                return _0x4f0f18 === _0x503056;
            },
            'JLsyW': function (_0xc00220, _0xd8d5a6) {
                return _0xc00220 === _0xd8d5a6;
            },
            'Pwiyh': function (_0x53f50d, _0x6446a) {
                return _0x53f50d(_0x6446a);
            },
            'COTkO': function (_0x5362f7, _0x48a704) {
                return _0x5362f7(_0x48a704);
            },
            'tZLRv': _0x49304e(0x25c),
            'VurBY': _0x49304e(0x21d),
            'pkIrG': _0x49304e(0x262),
            'Lsqgy': _0x49304e(0x219),
            'ogpFW': _0x49304e(0x1fd),
            'prZQT': _0x49304e(0x246),
            'CFqkR': _0x49304e(0x267),
            'riWtB': function (_0x1b6aa) {
                return _0x1b6aa();
            },
            'WVGAo': function (_0x60d54f, _0xd4e58e) {
                return _0x60d54f(_0xd4e58e);
            },
            'HPjbB': _0x49304e(0x22e) + _0x49304e(0x214),
            'DgvqD': function (_0x228186, _0x5196c2) {
                return _0x228186(_0x5196c2);
            },
            'kHhNn': _0x49304e(0x26d) + _0x49304e(0x232) + _0x49304e(0x265),
            'jTZnb': _0x49304e(0x1f1),
            'zSMtP': _0x49304e(0x25e),
            'FNenZ': _0x49304e(0x22d)
        }, _0x138866 = {};
    _0x138866[_0x49304e(0x21f)] = '*';
    const _0x6dfab9 = {};
    return _0x6dfab9[_0x49304e(0x224)] = _0x138866, _0x6dfab9[_0x49304e(0x277) + 't'] = 0x1d4c0, _0x6dfab9[_0x49304e(0x272) + 'al'] = 0xafc8, io = new socket_io_1[(_0x49304e(0x264))](_0x4e70f6, _0x6dfab9), io[_0x49304e(0x254)]((_0xda9c56, _0x273cc8) => __awaiter(void (-0x37 * 0x9d + -0x27d * 0x6 + 0x30a9), void (-0x18b4 + 0xd99 + 0xb1b), void (0x58 * -0xb + -0x1 * -0x16 + 0x3b2), function* () {
        const _0x4067eb = _0x49304e;
        var _0x316e55, _0x444d60, _0xd134ec;
        try {
            const _0x15c3ee = _0x1c4925[_0x4067eb(0x233)](_0x444d60 = _0x1c4925[_0x4067eb(0x22c)](_0x316e55 = _0x1c4925[_0x4067eb(0x22c)](_0xda9c56, null) || _0x1c4925[_0x4067eb(0x1fa)](_0xda9c56, void (0x9ad + 0x4a0 + -0xe4d)) ? void (-0xb78 + -0x26c9 + 0x3241) : _0xda9c56[_0x4067eb(0x211)], null) || _0x1c4925[_0x4067eb(0x22c)](_0x316e55, void (0x1178 + -0xabe + -0x6ba)) ? void (0xe * -0x207 + 0x2097 + -0x435) : _0x316e55[_0x4067eb(0x212)], null) || _0x1c4925[_0x4067eb(0x263)](_0x444d60, void (0x1487 + 0xa53 + -0x16 * 0x167)) ? void (-0xee + -0x1ecd + 0x1fbb) : _0x444d60[_0x4067eb(0x225)];
            if (!_0x15c3ee)
                throw new Error(_0x1c4925[_0x4067eb(0x1f7)]);
            const _0x3610e1 = (-0x3 * -0x9cf + 0x1502 + -0x326f, decodeTokenSocket_1[_0x4067eb(0x23c)])(_0x15c3ee);
            if (_0x3610e1[_0x4067eb(0x276)]) {
                const _0x478d55 = _0x1c4925[_0x4067eb(0x200)](_0xd134ec = _0x1c4925[_0x4067eb(0x200)](_0xda9c56, null) || _0x1c4925[_0x4067eb(0x200)](_0xda9c56, void (-0xd32 * 0x2 + -0x1168 + -0x15e6 * -0x2)) ? void (0x511 * -0x3 + -0x2 * 0x81 + 0x1035) : _0xda9c56[_0x4067eb(0x211)], null) || _0x1c4925[_0x4067eb(0x23f)](_0xd134ec, void (0x51b + 0x593 + 0xaae * -0x1)) ? void (-0xb * -0x137 + 0x4b5 * -0x6 + 0x125 * 0xd) : _0xd134ec[_0x4067eb(0x212)];
                _0xda9c56[_0x4067eb(0x211)][_0x4067eb(0x212)] = Object[_0x4067eb(0x20c)](Object[_0x4067eb(0x20c)](Object[_0x4067eb(0x20c)]({}, _0x478d55), _0x3610e1[_0x4067eb(0x208)]), {
                    'id': _0x1c4925[_0x4067eb(0x226)](String, _0x3610e1[_0x4067eb(0x208)]['id']),
                    'tenantId': _0x1c4925[_0x4067eb(0x236)](String, _0x3610e1[_0x4067eb(0x208)][_0x4067eb(0x25c)])
                });
                const _0x43fc22 = {};
                _0x43fc22[_0x4067eb(0x271)] = [
                    'id',
                    _0x1c4925[_0x4067eb(0x1f9)],
                    _0x1c4925[_0x4067eb(0x1fe)],
                    _0x1c4925[_0x4067eb(0x1f2)],
                    _0x1c4925[_0x4067eb(0x202)],
                    _0x1c4925[_0x4067eb(0x205)],
                    _0x1c4925[_0x4067eb(0x1f5)],
                    _0x1c4925[_0x4067eb(0x241)]
                ];
                const _0x11b007 = yield User_1[_0x4067eb(0x23c)][_0x4067eb(0x253)](_0x3610e1[_0x4067eb(0x208)]['id'], _0x43fc22);
                _0xda9c56[_0x4067eb(0x211)][_0x4067eb(0x212)][_0x4067eb(0x258)] = _0x11b007, _0x1c4925[_0x4067eb(0x20b)](_0x273cc8);
            }
            _0x1c4925[_0x4067eb(0x235)](_0x273cc8, new Error(_0x1c4925[_0x4067eb(0x259)]));
        } catch (_0x2672b9) {
            logger_1[_0x4067eb(0x275)][_0x4067eb(0x242)](_0x4067eb(0x20e) + _0x4067eb(0x24e) + _0xda9c56), _0xda9c56[_0x4067eb(0x218)](_0x4067eb(0x20e) + _0x4067eb(0x21b) + _0xda9c56['id']), _0x1c4925[_0x4067eb(0x279)](_0x273cc8, new Error(_0x1c4925[_0x4067eb(0x259)]));
        }
    })), io['on'](_0x1c4925[_0x49304e(0x1fb)], _0x2e592a => {
        const _0x5b4eab = _0x49304e, {tenantId: _0x3a10e0} = _0x2e592a[_0x5b4eab(0x211)][_0x5b4eab(0x212)];
        if (_0x3a10e0) {
            const _0x409c46 = {};
            _0x409c46[_0x5b4eab(0x24d)] = _0x1c4925[_0x5b4eab(0x213)], _0x409c46[_0x5b4eab(0x208)] = _0x2e592a[_0x5b4eab(0x211)][_0x5b4eab(0x212)], logger_1[_0x5b4eab(0x275)][_0x5b4eab(0x220)](_0x409c46);
            try {
                const _0x4c748b = _0x1c4925[_0x5b4eab(0x256)][_0x5b4eab(0x25b)]('|');
                let _0x23b445 = 0x24ad + -0x9 * -0x117 + 0x5 * -0x94c;
                while (!![]) {
                    switch (_0x4c748b[_0x23b445++]) {
                    case '0':
                        Chat_1[_0x5b4eab(0x23c)][_0x5b4eab(0x240)](_0x2e592a);
                        continue;
                    case '1':
                        _0x2e592a[_0x5b4eab(0x207)](_0x3a10e0[_0x5b4eab(0x26c)]());
                        continue;
                    case '2':
                        _0x2e592a['on'](_0x3a10e0 + (_0x5b4eab(0x217) + 'ts'), _0x3c0707 => {
                            const _0x22ab40 = _0x5b4eab;
                            logger_1[_0x22ab40(0x275)][_0x22ab40(0x220)](_0x22ab40(0x21c) + _0x22ab40(0x20d) + _0x3a10e0 + ':' + _0x3c0707 + (_0x22ab40(0x1fc) + _0x22ab40(0x248))), _0x2e592a[_0x22ab40(0x207)](_0x3a10e0 + ':' + _0x3c0707);
                        });
                        continue;
                    case '3':
                        _0x2e592a['on'](_0x3a10e0 + (_0x5b4eab(0x22b) + _0x5b4eab(0x23d)), () => {
                            const _0x57e06d = _0x5b4eab;
                            logger_1[_0x57e06d(0x275)][_0x57e06d(0x220)](_0x57e06d(0x21c) + _0x57e06d(0x1f6) + _0x57e06d(0x234) + _0x57e06d(0x228) + _0x3a10e0 + (_0x57e06d(0x260) + _0x57e06d(0x231))), _0x2e592a[_0x57e06d(0x207)](_0x3a10e0 + (_0x57e06d(0x260) + _0x57e06d(0x231)));
                        });
                        continue;
                    case '4':
                        _0x2e592a['on'](_0x3a10e0 + (_0x5b4eab(0x221) + 'ox'), _0x55ae15 => {
                            const _0x2f0b3e = _0x5b4eab;
                            logger_1[_0x2f0b3e(0x275)][_0x2f0b3e(0x220)](_0x2f0b3e(0x26b) + _0x2f0b3e(0x1ff) + _0x2f0b3e(0x210) + '\x20' + _0x3a10e0 + ':' + _0x55ae15), _0x2e592a[_0x2f0b3e(0x207)](_0x3a10e0 + ':' + _0x55ae15);
                        });
                        continue;
                    }
                    break;
                }
            } catch (_0x1915ef) {
            }
        }
        _0x2e592a['on'](_0x1c4925[_0x5b4eab(0x249)], _0x414b18 => {
            const _0x446935 = _0x5b4eab, _0x106751 = {};
            _0x106751[_0x446935(0x24d)] = _0x446935(0x22f) + _0x446935(0x257) + _0x446935(0x229) + _0x3a10e0 + ',\x20' + _0x414b18, logger_1[_0x446935(0x275)][_0x446935(0x220)](_0x106751);
        });
    }), io;
};
exports[_0x54ca62(0x222)] = initIO;
const getIO = () => {
    const _0x578ba7 = _0x54ca62, _0x270a81 = {};
    _0x270a81[_0x578ba7(0x27b)] = _0x578ba7(0x21a) + _0x578ba7(0x245) + _0x578ba7(0x24c);
    const _0x16385d = _0x270a81;
    if (!io)
        throw new AppError_1[(_0x578ba7(0x23c))](_0x16385d[_0x578ba7(0x27b)]);
    return io;
};
exports[_0x54ca62(0x273)] = getIO;