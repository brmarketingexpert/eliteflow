'use strict';
const _0x43f9ff = _0x19cc;
(function (_0x5313d9, _0x4c9d9c) {
    const _0x50f2f6 = _0x19cc, _0x59028c = _0x5313d9();
    while (!![]) {
        try {
            const _0x358d6a = parseInt(_0x50f2f6(0x17f)) / (-0x19e8 + -0xb67 + -0x10 * -0x255) + parseInt(_0x50f2f6(0x143)) / (-0x1 * -0x2513 + 0x1272 + -0x3783) * (parseInt(_0x50f2f6(0x131)) / (-0x158 + -0x1c9f + -0x4ff * -0x6)) + parseInt(_0x50f2f6(0x140)) / (-0x1c41 + 0x1cea + -0xa5) + parseInt(_0x50f2f6(0x14e)) / (-0xfa3 + 0x1 * 0x823 + -0xaf * -0xb) * (parseInt(_0x50f2f6(0x179)) / (0x3b * -0x22 + 0xb2c + -0x350)) + parseInt(_0x50f2f6(0x174)) / (0x2271 * 0x1 + -0xeef + -0x137b) + -parseInt(_0x50f2f6(0x12b)) / (-0x1547 + -0x9c2 * 0x4 + 0x3c57) + -parseInt(_0x50f2f6(0x136)) / (-0x1762 + 0x1d * 0x36 + 0x114d);
            if (_0x358d6a === _0x4c9d9c)
                break;
            else
                _0x59028c['push'](_0x59028c['shift']());
        } catch (_0x4a19bc) {
            _0x59028c['push'](_0x59028c['shift']());
        }
    }
}(_0x1076, 0x2 * -0xa3ff + 0xbf3a + 0x26fde * 0x1));
function _0x19cc(_0x5e7021, _0x270f09) {
    const _0x327cc2 = _0x1076();
    return _0x19cc = function (_0x3c9038, _0x1e6c00) {
        _0x3c9038 = _0x3c9038 - (0x180 + -0x1587 + 0x1531);
        let _0x34bc3f = _0x327cc2[_0x3c9038];
        return _0x34bc3f;
    }, _0x19cc(_0x5e7021, _0x270f09);
}
var __awaiter = this && this[_0x43f9ff(0x16e)] || function (_0x5b80fc, _0x1281c7, _0xad505e, _0x4caa8d) {
        const _0x1549d5 = _0x43f9ff, _0x57f464 = {
                'zDrwN': function (_0x5dd500, _0x4c2ddb) {
                    return _0x5dd500(_0x4c2ddb);
                },
                'dOrBh': function (_0x2ede09, _0x5e6918) {
                    return _0x2ede09 instanceof _0x5e6918;
                },
                'AEKpR': function (_0x444bbf, _0x397445) {
                    return _0x444bbf(_0x397445);
                },
                'OCPgs': _0x1549d5(0x170)
            };
        function _0x2b0d34(_0x20d485) {
            const _0x535114 = _0x1549d5;
            return _0x57f464[_0x535114(0x173)](_0x20d485, _0xad505e) ? _0x20d485 : new _0xad505e(function (_0x325f97) {
                const _0x2e4166 = _0x535114;
                _0x57f464[_0x2e4166(0x138)](_0x325f97, _0x20d485);
            });
        }
        return new (_0xad505e || (_0xad505e = Promise))(function (_0x137289, _0x53f747) {
            const _0x1ee4b8 = _0x1549d5, _0x4a69ad = {
                    'DxzpK': function (_0x54c090, _0x189731) {
                        const _0xd52578 = _0x19cc;
                        return _0x57f464[_0xd52578(0x15f)](_0x54c090, _0x189731);
                    },
                    'nIZdl': function (_0x62a3a1, _0xdda7fb) {
                        const _0x242209 = _0x19cc;
                        return _0x57f464[_0x242209(0x138)](_0x62a3a1, _0xdda7fb);
                    },
                    'QnXkH': _0x57f464[_0x1ee4b8(0x130)],
                    'rrwDe': function (_0x42f254, _0x39d61b) {
                        const _0x27fddb = _0x1ee4b8;
                        return _0x57f464[_0x27fddb(0x15f)](_0x42f254, _0x39d61b);
                    }
                };
            function _0xe7b099(_0x571ca2) {
                const _0x3b1a1e = _0x1ee4b8;
                try {
                    _0x4a69ad[_0x3b1a1e(0x153)](_0x4998bf, _0x4caa8d[_0x3b1a1e(0x142)](_0x571ca2));
                } catch (_0x55a966) {
                    _0x4a69ad[_0x3b1a1e(0x12d)](_0x53f747, _0x55a966);
                }
            }
            function _0x3cf20b(_0x59ac9a) {
                const _0x4f2fc8 = _0x1ee4b8;
                try {
                    _0x4a69ad[_0x4f2fc8(0x12d)](_0x4998bf, _0x4caa8d[_0x4a69ad[_0x4f2fc8(0x149)]](_0x59ac9a));
                } catch (_0x8bb150) {
                    _0x4a69ad[_0x4f2fc8(0x12d)](_0x53f747, _0x8bb150);
                }
            }
            function _0x4998bf(_0x3541b4) {
                const _0x29abe7 = _0x1ee4b8;
                _0x3541b4[_0x29abe7(0x16f)] ? _0x4a69ad[_0x29abe7(0x12d)](_0x137289, _0x3541b4[_0x29abe7(0x16b)]) : _0x4a69ad[_0x29abe7(0x14b)](_0x2b0d34, _0x3541b4[_0x29abe7(0x16b)])[_0x29abe7(0x15a)](_0xe7b099, _0x3cf20b);
            }
            _0x57f464[_0x1ee4b8(0x138)](_0x4998bf, (_0x4caa8d = _0x4caa8d[_0x1ee4b8(0x17d)](_0x5b80fc, _0x1281c7 || []))[_0x1ee4b8(0x142)]());
        });
    }, __importDefault = this && this[_0x43f9ff(0x15d) + _0x43f9ff(0x180)] || function (_0x3c323f) {
        const _0x13f181 = _0x43f9ff;
        return _0x3c323f && _0x3c323f[_0x13f181(0x13d)] ? _0x3c323f : { 'default': _0x3c323f };
    };
const _0x9f9993 = {};
function _0x1076() {
    const _0x156f50 = [
        'zJRDl',
        '213328cffLtS',
        'h\x20this\x20ID.',
        'nIZdl',
        'ERROR_NOT_',
        'instagram',
        'OCPgs',
        '3pYRyNg',
        'telegramId',
        'date-fns',
        'getIO',
        'message\x20af',
        '1694007rJYbSt',
        'vgnyD',
        'zDrwN',
        'Message',
        ':appMessag',
        'AGE',
        'findOne',
        '__esModule',
        'ticket',
        'messenger',
        '857564IdIPWn',
        'ugpbN',
        'next',
        '19062bdOKcS',
        'FOUND_MESS',
        'AppError',
        'default',
        'include',
        'ENUsI',
        'QnXkH',
        'sDYrn',
        'rrwDe',
        'whatsappId',
        'parseJSON',
        '1655QkQPIk',
        '../libs/tb',
        'gyLmc',
        'whatsapp',
        'ter\x202h\x20sen',
        'DxzpK',
        'delete',
        'NoLnp',
        'channel',
        'createdAt',
        'zvcTb',
        'age',
        'then',
        'deleteMess',
        'QFLvG',
        '__importDe',
        'cket',
        'AEKpR',
        'InHours',
        'oQzgm',
        'zYBww',
        'QQMew',
        'ZsCeV',
        'tenantId',
        'ded',
        'getTbot',
        'difference',
        '../models/',
        'Ticket',
        'value',
        'update',
        'essage',
        '__awaiter',
        'done',
        'throw',
        'defineProp',
        'telegram',
        'dOrBh',
        '485751lAOORR',
        '\x20found\x20wit',
        'emit',
        './GetWbotM',
        'where',
        '186YoghjL',
        'isDeleted',
        'tenant:',
        'model',
        'apply',
        '../libs/so',
        '36011cbKgMS',
        'fault',
        'erty',
        'messageId',
        'jHQwu',
        'contact',
        '../errors/',
        'XVSad',
        'No\x20message',
        'No\x20delete\x20'
    ];
    _0x1076 = function () {
        return _0x156f50;
    };
    return _0x1076();
}
_0x9f9993[_0x43f9ff(0x16b)] = !![], Object[_0x43f9ff(0x171) + _0x43f9ff(0x181)](exports, _0x43f9ff(0x13d), _0x9f9993);
const date_fns_1 = require(_0x43f9ff(0x133)), Message_1 = __importDefault(require(_0x43f9ff(0x169) + _0x43f9ff(0x139))), Ticket_1 = __importDefault(require(_0x43f9ff(0x169) + _0x43f9ff(0x16a))), tbot_1 = require(_0x43f9ff(0x14f) + 'ot'), GetWbotMessage_1 = __importDefault(require(_0x43f9ff(0x177) + _0x43f9ff(0x16d))), AppError_1 = __importDefault(require(_0x43f9ff(0x185) + _0x43f9ff(0x145))), socket_1 = require(_0x43f9ff(0x17e) + _0x43f9ff(0x15e)), DeleteMessageSystem = (_0x1a333f, _0x5d1bf5, _0x409fff) => __awaiter(void (0x1639 * 0x1 + -0x18df + 0x2a6), void (-0x13 * 0xd4 + 0x1899 * -0x1 + -0x19d * -0x19), void (0x25f * -0x3 + 0x6 * 0x3a1 + -0x4e3 * 0x3), function* () {
        const _0x3c1db9 = _0x43f9ff, _0x4985a5 = {};
        _0x4985a5[_0x3c1db9(0x12a)] = _0x3c1db9(0x13e), _0x4985a5[_0x3c1db9(0x150)] = _0x3c1db9(0x184), _0x4985a5[_0x3c1db9(0x164)] = _0x3c1db9(0x187) + _0x3c1db9(0x175) + _0x3c1db9(0x12c), _0x4985a5[_0x3c1db9(0x162)] = function (_0x1d3265, _0x5e7970) {
            return _0x1d3265 === _0x5e7970;
        }, _0x4985a5[_0x3c1db9(0x186)] = function (_0x239ce6, _0x12740d) {
            return _0x239ce6 > _0x12740d;
        }, _0x4985a5[_0x3c1db9(0x14a)] = _0x3c1db9(0x188) + _0x3c1db9(0x135) + _0x3c1db9(0x152) + _0x3c1db9(0x166), _0x4985a5[_0x3c1db9(0x141)] = _0x3c1db9(0x151), _0x4985a5[_0x3c1db9(0x155)] = _0x3c1db9(0x12e) + _0x3c1db9(0x144) + _0x3c1db9(0x13b), _0x4985a5[_0x3c1db9(0x161)] = function (_0x9f2390, _0x1b21a4) {
            return _0x9f2390 === _0x1b21a4;
        }, _0x4985a5[_0x3c1db9(0x15c)] = _0x3c1db9(0x172), _0x4985a5[_0x3c1db9(0x148)] = function (_0x4299c3, _0x315549) {
            return _0x4299c3 === _0x315549;
        }, _0x4985a5[_0x3c1db9(0x183)] = _0x3c1db9(0x12f), _0x4985a5[_0x3c1db9(0x158)] = function (_0x586570, _0x5d4159) {
            return _0x586570 === _0x5d4159;
        }, _0x4985a5[_0x3c1db9(0x137)] = _0x3c1db9(0x13f), _0x4985a5[_0x3c1db9(0x163)] = _0x3c1db9(0x16c);
        const _0x55f19b = _0x4985a5, _0x507e6a = {};
        _0x507e6a['id'] = _0x1a333f;
        const _0x154aef = {};
        _0x154aef[_0x3c1db9(0x165)] = _0x409fff;
        const _0x25fd58 = {};
        _0x25fd58[_0x3c1db9(0x17c)] = Ticket_1[_0x3c1db9(0x146)], _0x25fd58['as'] = _0x55f19b[_0x3c1db9(0x12a)], _0x25fd58[_0x3c1db9(0x147)] = [_0x55f19b[_0x3c1db9(0x150)]], _0x25fd58[_0x3c1db9(0x178)] = _0x154aef;
        const _0x21ba28 = {};
        _0x21ba28[_0x3c1db9(0x178)] = _0x507e6a, _0x21ba28[_0x3c1db9(0x147)] = [_0x25fd58];
        const _0x34628d = yield Message_1[_0x3c1db9(0x146)][_0x3c1db9(0x13c)](_0x21ba28);
        if (!_0x34628d)
            throw new AppError_1[(_0x3c1db9(0x146))](_0x55f19b[_0x3c1db9(0x164)]);
        const _0x1afabd = (-0x173c + 0x335 * -0x9 + 0x3419, date_fns_1[_0x3c1db9(0x168) + _0x3c1db9(0x160)])(new Date(), (0x199f + 0xe32 + -0x27d1, date_fns_1[_0x3c1db9(0x14d)])(_0x55f19b[_0x3c1db9(0x162)](_0x34628d, null) || _0x55f19b[_0x3c1db9(0x162)](_0x34628d, void (-0xa82 + 0x2242 + -0x17c0)) ? void (-0x8e * -0xb + -0x30c + -0x30e) : _0x34628d[_0x3c1db9(0x157)]));
        if (_0x55f19b[_0x3c1db9(0x186)](_0x1afabd, 0xf7a * 0x1 + 0x1 * -0x22be + 0x1346))
            throw new AppError_1[(_0x3c1db9(0x146))](_0x55f19b[_0x3c1db9(0x14a)]);
        const {ticket: _0x28e6fc} = _0x34628d;
        if (_0x55f19b[_0x3c1db9(0x162)](_0x28e6fc[_0x3c1db9(0x156)], _0x55f19b[_0x3c1db9(0x141)]) && _0x5d1bf5) {
            const _0x455ed9 = yield (-0x91d * 0x2 + -0xe7 * 0x22 + -0x2 * -0x1874, GetWbotMessage_1[_0x3c1db9(0x146)])(_0x28e6fc, _0x5d1bf5);
            if (!_0x455ed9)
                throw new AppError_1[(_0x3c1db9(0x146))](_0x55f19b[_0x3c1db9(0x155)]);
            yield _0x455ed9[_0x3c1db9(0x154)](!![]);
        }
        if (_0x55f19b[_0x3c1db9(0x161)](_0x28e6fc[_0x3c1db9(0x156)], _0x55f19b[_0x3c1db9(0x15c)])) {
            const _0x3b867e = yield (0x2327 + 0x3 * -0x22f + -0x1c9a * 0x1, tbot_1[_0x3c1db9(0x167)])(_0x28e6fc[_0x3c1db9(0x14c)]);
            yield _0x3b867e[_0x3c1db9(0x172)][_0x3c1db9(0x15b) + _0x3c1db9(0x159)](_0x28e6fc[_0x3c1db9(0x184)][_0x3c1db9(0x132)], +_0x34628d[_0x3c1db9(0x182)]);
        }
        if (_0x55f19b[_0x3c1db9(0x148)](_0x28e6fc[_0x3c1db9(0x156)], _0x55f19b[_0x3c1db9(0x183)]))
            return;
        if (_0x55f19b[_0x3c1db9(0x158)](_0x28e6fc[_0x3c1db9(0x156)], _0x55f19b[_0x3c1db9(0x137)]))
            return;
        const _0x4abb3f = {};
        _0x4abb3f[_0x3c1db9(0x17a)] = !![], yield _0x34628d[_0x3c1db9(0x16c)](_0x4abb3f);
        const _0x3a1b61 = (-0x17de + -0x1fe8 * -0x1 + 0x93 * -0xe, socket_1[_0x3c1db9(0x134)])();
        _0x3a1b61['to'](_0x3c1db9(0x17b) + _0x409fff + ':' + _0x28e6fc['id'])[_0x3c1db9(0x176)](_0x3c1db9(0x17b) + _0x409fff + (_0x3c1db9(0x13a) + 'e'), {
            'action': _0x55f19b[_0x3c1db9(0x163)],
            'message': _0x34628d,
            'ticket': _0x28e6fc,
            'contact': _0x28e6fc[_0x3c1db9(0x184)]
        });
    });
exports[_0x43f9ff(0x146)] = DeleteMessageSystem;