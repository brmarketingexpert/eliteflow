'use strict';
function _0x3298() {
    const _0x1dd029 = [
        'QSKzj',
        'ctive',
        '122168OxRukD',
        '91bApbdV',
        'isActive',
        'rvices/Cre',
        'ticketId',
        'nXZan',
        'start',
        'findByPk',
        'mBwnr',
        's/ChatFlow',
        'etService',
        'EZCGW',
        'whatsappId',
        'ChatFlow',
        'lqPjo',
        'next',
        'Contact',
        '__importDe',
        'zmtwq',
        '188940oSEICQ',
        '4312UrwATE',
        '82JQJixS',
        '__esModule',
        'key',
        'rtsAg',
        'Setting',
        'heVvM',
        'hzTdz',
        'from',
        'default',
        's/Whatsapp',
        'Service',
        '__awaiter',
        's/TicketSe',
        'chatBot',
        'flow',
        'number',
        'Service/Sh',
        '../service',
        '../models/',
        'then',
        'findOne',
        'fault',
        'chatFlowId',
        'fmmrg',
        'update',
        'lineList',
        '59018tTgUgP',
        'channel',
        'kQGJf',
        'lkHqD',
        'value',
        'aMBNe',
        'apply',
        'erty',
        'userId',
        'type',
        'done',
        '22629UuNMID',
        'CkYBY',
        '64270GQtLdL',
        'botTicketA',
        'YcAsQ',
        'throw',
        '12tIAifo',
        'sContactTe',
        'vyApf',
        'owWhatsApp',
        'ECefU',
        'tenantId',
        '55CBrIZO',
        'find',
        '324UaRTmC',
        'Services/I',
        'contactId',
        'defineProp',
        'ateLogTick',
        'isGroup',
        'SQSUX',
        'isDeleted',
        '726154skJdDq',
        'where'
    ];
    _0x3298 = function () {
        return _0x1dd029;
    };
    return _0x3298();
}
const _0x362542 = _0x47eb;
(function (_0x8f98f8, _0xea9119) {
    const _0x485704 = _0x47eb, _0x26eb73 = _0x8f98f8();
    while (!![]) {
        try {
            const _0x1c1f1a = parseInt(_0x485704(0x105)) / (0x15 * -0x43 + 0x22b6 * 0x1 + -0x1d36) + -parseInt(_0x485704(0xeb)) / (-0x108 + 0x168 + -0x5e) * (-parseInt(_0x485704(0x110)) / (-0x11ef + -0x5d2 * -0x5 + -0xb28)) + -parseInt(_0x485704(0x12a)) / (0x1169 * 0x2 + 0x391 * -0x1 + 0x2d7 * -0xb) * (parseInt(_0x485704(0x11c)) / (-0x1 * -0x1f63 + -0x127d + -0xce1)) + parseInt(_0x485704(0x13d)) / (0x12d2 + -0x6 * -0x60d + 0x92f * -0x6) + parseInt(_0x485704(0x12b)) / (0x9a1 + -0x267 * -0xd + -0x28d5) * (-parseInt(_0x485704(0xea)) / (-0x1 * -0xc9d + -0x8a8 + -0x3ed)) + -parseInt(_0x485704(0x11e)) / (0x113 + -0x7ea + 0x6e0) * (-parseInt(_0x485704(0x112)) / (0x7bb + 0x1 * -0x1baa + 0x1 * 0x13f9)) + parseInt(_0x485704(0x126)) / (0x24a9 + -0x96e + -0x1b30) * (-parseInt(_0x485704(0x116)) / (0x1213 + -0xf53 + 0x2b4 * -0x1));
            if (_0x1c1f1a === _0xea9119)
                break;
            else
                _0x26eb73['push'](_0x26eb73['shift']());
        } catch (_0x5e26c3) {
            _0x26eb73['push'](_0x26eb73['shift']());
        }
    }
}(_0x3298, -0x1c6cf + -0x1 * -0x1271e + 0x40381));
var __awaiter = this && this[_0x362542(0xf6)] || function (_0x376373, _0x4603ab, _0x1d5cd8, _0x543cb7) {
        const _0x88a56d = _0x362542, _0x2aeff5 = {
                'CkYBY': function (_0xc4e1ce, _0x1cb3e2) {
                    return _0xc4e1ce(_0x1cb3e2);
                },
                'kQGJf': function (_0x5c7de7, _0x4b190b) {
                    return _0x5c7de7 instanceof _0x4b190b;
                },
                'lkHqD': function (_0x50907d, _0x54bb76) {
                    return _0x50907d(_0x54bb76);
                },
                'mBwnr': function (_0x2640fd, _0x295395) {
                    return _0x2640fd(_0x295395);
                },
                'QSKzj': function (_0x561b96, _0x3b0427) {
                    return _0x561b96(_0x3b0427);
                },
                'ECefU': _0x88a56d(0x115),
                'YcAsQ': function (_0x5a38a6, _0xb190af) {
                    return _0x5a38a6(_0xb190af);
                },
                'aMBNe': function (_0x4c7c02, _0x2e7339) {
                    return _0x4c7c02(_0x2e7339);
                },
                'fmmrg': function (_0x3e99c7, _0x88bbe6) {
                    return _0x3e99c7(_0x88bbe6);
                }
            };
        function _0x2e2334(_0x53dc61) {
            const _0x1f4751 = _0x88a56d, _0xba970a = {
                    'EZCGW': function (_0x3fe3af, _0x119e54) {
                        const _0x50b091 = _0x47eb;
                        return _0x2aeff5[_0x50b091(0x111)](_0x3fe3af, _0x119e54);
                    }
                };
            return _0x2aeff5[_0x1f4751(0x107)](_0x53dc61, _0x1d5cd8) ? _0x53dc61 : new _0x1d5cd8(function (_0x2069c6) {
                const _0x15ec61 = _0x1f4751;
                _0xba970a[_0x15ec61(0x135)](_0x2069c6, _0x53dc61);
            });
        }
        return new (_0x1d5cd8 || (_0x1d5cd8 = Promise))(function (_0x11d2f9, _0x2e8a7a) {
            const _0x3abf7e = _0x88a56d, _0x5b15f7 = {
                    'heVvM': function (_0x1e26b6, _0x30be75) {
                        const _0x1e5909 = _0x47eb;
                        return _0x2aeff5[_0x1e5909(0x114)](_0x1e26b6, _0x30be75);
                    },
                    'lqPjo': function (_0x14b558, _0x4ad4a2) {
                        const _0x5cfe4e = _0x47eb;
                        return _0x2aeff5[_0x5cfe4e(0x10a)](_0x14b558, _0x4ad4a2);
                    }
                };
            function _0x59c3a8(_0xc080cb) {
                const _0x1d4fa7 = _0x47eb;
                try {
                    _0x2aeff5[_0x1d4fa7(0x108)](_0x1a6d5c, _0x543cb7[_0x1d4fa7(0x139)](_0xc080cb));
                } catch (_0x53df3f) {
                    _0x2aeff5[_0x1d4fa7(0x132)](_0x2e8a7a, _0x53df3f);
                }
            }
            function _0x5675de(_0x24a831) {
                const _0x509146 = _0x47eb;
                try {
                    _0x2aeff5[_0x509146(0x128)](_0x1a6d5c, _0x543cb7[_0x2aeff5[_0x509146(0x11a)]](_0x24a831));
                } catch (_0x155c0f) {
                    _0x2aeff5[_0x509146(0x128)](_0x2e8a7a, _0x155c0f);
                }
            }
            function _0x1a6d5c(_0x5c1abf) {
                const _0x39ee72 = _0x47eb;
                _0x5c1abf[_0x39ee72(0x10f)] ? _0x5b15f7[_0x39ee72(0xf0)](_0x11d2f9, _0x5c1abf[_0x39ee72(0x109)]) : _0x5b15f7[_0x39ee72(0x138)](_0x2e2334, _0x5c1abf[_0x39ee72(0x109)])[_0x39ee72(0xfe)](_0x59c3a8, _0x5675de);
            }
            _0x2aeff5[_0x3abf7e(0x102)](_0x1a6d5c, (_0x543cb7 = _0x543cb7[_0x3abf7e(0x10b)](_0x376373, _0x4603ab || []))[_0x3abf7e(0x139)]());
        });
    }, __importDefault = this && this[_0x362542(0x13b) + _0x362542(0x100)] || function (_0x13d5f9) {
        const _0x5a4ba3 = _0x362542;
        return _0x13d5f9 && _0x13d5f9[_0x5a4ba3(0xec)] ? _0x13d5f9 : { 'default': _0x13d5f9 };
    };
function _0x47eb(_0x31c982, _0x5b8dbe) {
    const _0x5b9e97 = _0x3298();
    return _0x47eb = function (_0x1a6385, _0x15f8dc) {
        _0x1a6385 = _0x1a6385 - (0x16f * -0x13 + -0x738 + -0x235f * -0x1);
        let _0x5cba30 = _0x5b9e97[_0x1a6385];
        return _0x5cba30;
    }, _0x47eb(_0x31c982, _0x5b8dbe);
}
const _0x1bb1f2 = {};
_0x1bb1f2[_0x362542(0x109)] = !![], Object[_0x362542(0x121) + _0x362542(0x10c)](exports, _0x362542(0xec), _0x1bb1f2);
const Contact_1 = __importDefault(require(_0x362542(0xfd) + _0x362542(0x13a))), Setting_1 = __importDefault(require(_0x362542(0xfd) + _0x362542(0xef))), ChatFlow_1 = __importDefault(require(_0x362542(0xfd) + _0x362542(0x137))), CreateLogTicketService_1 = __importDefault(require(_0x362542(0xfc) + _0x362542(0xf7) + _0x362542(0x12d) + _0x362542(0x122) + _0x362542(0x134))), IsContactTest_1 = __importDefault(require(_0x362542(0xfc) + _0x362542(0x133) + _0x362542(0x11f) + _0x362542(0x117) + 'st')), ShowWhatsAppService_1 = __importDefault(require(_0x362542(0xfc) + _0x362542(0xf4) + _0x362542(0xfb) + _0x362542(0x119) + _0x362542(0xf5))), CheckChatBotFlowWelcome = _0x3333c2 => __awaiter(void (0x1f65 * -0x1 + 0x47d * 0x1 + 0x6ba * 0x4), void (-0x3ad * 0x4 + -0xbe3 * 0x1 + 0x1a97), void (0x6 * 0x10d + -0x17 * 0x15d + 0x190d), function* () {
        const _0x383c24 = _0x362542, _0x4efd73 = {};
        _0x4efd73[_0x383c24(0x12f)] = _0x383c24(0x113) + _0x383c24(0x129), _0x4efd73[_0x383c24(0x13c)] = function (_0x2a6c67, _0x4735cc) {
            return _0x2a6c67 === _0x4735cc;
        }, _0x4efd73[_0x383c24(0xee)] = function (_0x59619f, _0x1a386b) {
            return _0x59619f === _0x1a386b;
        }, _0x4efd73[_0x383c24(0x124)] = function (_0x25837d, _0x13d876) {
            return _0x25837d === _0x13d876;
        }, _0x4efd73[_0x383c24(0x118)] = function (_0x1227e8, _0x3dcab3) {
            return _0x1227e8 === _0x3dcab3;
        }, _0x4efd73[_0x383c24(0xf1)] = _0x383c24(0xf8);
        const _0x12a9c2 = _0x4efd73;
        if (_0x3333c2[_0x383c24(0x10d)] || _0x3333c2[_0x383c24(0x123)])
            return;
        const _0x586b57 = {};
        _0x586b57[_0x383c24(0xed)] = _0x12a9c2[_0x383c24(0x12f)], _0x586b57[_0x383c24(0x11b)] = _0x3333c2[_0x383c24(0x11b)];
        const _0x4b25ed = {};
        _0x4b25ed[_0x383c24(0x127)] = _0x586b57;
        const _0x2784f0 = yield Setting_1[_0x383c24(0xf3)][_0x383c24(0xff)](_0x4b25ed), _0x536e71 = {};
        _0x536e71['id'] = _0x3333c2[_0x383c24(0x136)], _0x536e71[_0x383c24(0x11b)] = _0x3333c2[_0x383c24(0x11b)];
        const _0x24c871 = yield (0x79f * 0x2 + -0x4c * -0x14 + -0x152e, ShowWhatsAppService_1[_0x383c24(0xf3)])(_0x536e71), _0x379442 = (_0x12a9c2[_0x383c24(0x13c)](_0x24c871, null) || _0x12a9c2[_0x383c24(0x13c)](_0x24c871, void (-0x1 * 0x12a7 + -0x1bc8 + 0x2e6f * 0x1)) ? void (-0x1c4 + -0x76 * -0x2a + -0x1198) : _0x24c871[_0x383c24(0x101)]) || (_0x12a9c2[_0x383c24(0xee)](_0x2784f0, null) || _0x12a9c2[_0x383c24(0x124)](_0x2784f0, void (-0x137e * -0x1 + 0x20c3 * 0x1 + -0x15 * 0x27d)) ? void (0x2 * -0x98f + -0x2 * -0xf5b + -0xb98) : _0x2784f0[_0x383c24(0x109)]);
        if (!_0x379442)
            return;
        const _0x5a99b7 = {};
        _0x5a99b7['id'] = +_0x379442, _0x5a99b7[_0x383c24(0x11b)] = _0x3333c2[_0x383c24(0x11b)], _0x5a99b7[_0x383c24(0x12c)] = !![], _0x5a99b7[_0x383c24(0x125)] = ![];
        const _0x884367 = {};
        _0x884367[_0x383c24(0x127)] = _0x5a99b7;
        const _0x10882f = yield ChatFlow_1[_0x383c24(0xf3)][_0x383c24(0xff)](_0x884367);
        if (!_0x10882f)
            return;
        const _0x454103 = yield Contact_1[_0x383c24(0xf3)][_0x383c24(0x131)](_0x3333c2[_0x383c24(0x120)]), {celularTeste: _0x34a6d3} = _0x10882f, _0x1bf11d = _0x12a9c2[_0x383c24(0x124)](_0x454103, null) || _0x12a9c2[_0x383c24(0x118)](_0x454103, void (-0x827 * -0x4 + 0xfaa + -0x3046)) ? void (0x43 * 0x51 + 0x2bf * 0xa + 0x30a9 * -0x1) : _0x454103[_0x383c24(0xfa)];
        if (yield (0x1063 * 0x2 + 0xa59 + -0x2b1f, IsContactTest_1[_0x383c24(0xf3)])(_0x1bf11d, _0x34a6d3, _0x3333c2[_0x383c24(0x106)]))
            return;
        const _0x532499 = _0x10882f[_0x383c24(0xf9)][_0x383c24(0x104)][_0x383c24(0x11d)](_0x244641 => _0x244641[_0x383c24(0xf2)] === _0x383c24(0x130));
        yield _0x3333c2[_0x383c24(0x103)]({
            'chatFlowId': _0x10882f['id'],
            'stepChatFlow': _0x532499['to'],
            'lastInteractionBot': new Date()
        });
        const _0x2ca3c0 = {};
        _0x2ca3c0[_0x383c24(0x11b)] = _0x3333c2[_0x383c24(0x11b)], _0x2ca3c0[_0x383c24(0x12e)] = _0x3333c2['id'], _0x2ca3c0[_0x383c24(0x10e)] = _0x12a9c2[_0x383c24(0xf1)], yield (0xcb * -0x7 + -0x16b5 * -0x1 + -0x1128, CreateLogTicketService_1[_0x383c24(0xf3)])(_0x2ca3c0);
    });
exports[_0x362542(0xf3)] = CheckChatBotFlowWelcome;