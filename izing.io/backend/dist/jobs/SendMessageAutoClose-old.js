'use strict';
const _0x1085f7 = _0x4f3c;
(function (_0x1170dd, _0x4e7b28) {
    const _0x1dae52 = _0x4f3c, _0x229c4e = _0x1170dd();
    while (!![]) {
        try {
            const _0x5b8d7b = parseInt(_0x1dae52(0x10c)) / (0x1 * 0x2487 + 0x26cb + -0x1 * 0x4b51) * (-parseInt(_0x1dae52(0xfd)) / (-0x216a + -0x58c * 0x4 + -0x4 * -0xde7)) + parseInt(_0x1dae52(0x109)) / (-0x1810 + 0x2 * 0xd83 + -0x2f3) * (-parseInt(_0x1dae52(0x11e)) / (-0xb * -0xa7 + -0x9 * 0x4d + -0x474)) + parseInt(_0x1dae52(0x161)) / (-0xe75 + -0x23e2 + -0x16 * -0x24a) + -parseInt(_0x1dae52(0xf0)) / (-0x52 * -0x4e + -0xfd * -0x26 + -0x3e84) * (-parseInt(_0x1dae52(0x14f)) / (0x701 + -0x26b7 + -0x41 * -0x7d)) + parseInt(_0x1dae52(0x14d)) / (-0xf62 + 0x1 * -0xd21 + -0x1 * -0x1c8b) + parseInt(_0x1dae52(0x11d)) / (0x2f7 + -0x1b33 + -0x1845 * -0x1) * (parseInt(_0x1dae52(0x138)) / (0x192d + 0x1560 + -0xf3 * 0x31)) + parseInt(_0x1dae52(0x144)) / (-0x5 * -0x3c9 + 0x153c + -0x281e) * (-parseInt(_0x1dae52(0xf3)) / (0x44 * 0x49 + 0xf3 * 0x13 + -0x2561));
            if (_0x5b8d7b === _0x4e7b28)
                break;
            else
                _0x229c4e['push'](_0x229c4e['shift']());
        } catch (_0x31f1db) {
            _0x229c4e['push'](_0x229c4e['shift']());
        }
    }
}(_0x1ffe, -0x10d128 + 0x29ff * 0x5c + 0x25 * 0x5bab));
var __awaiter = this && this[_0x1085f7(0x172)] || function (_0x21f48c, _0x1f2fbd, _0x45e827, _0x185144) {
        const _0x29f0e9 = _0x1085f7, _0x10e3cc = {
                'Npehk': function (_0x5cb0a2, _0x3b2734) {
                    return _0x5cb0a2(_0x3b2734);
                },
                'PTUZv': function (_0x4dc465, _0x1211e6) {
                    return _0x4dc465 instanceof _0x1211e6;
                },
                'wrHKB': function (_0x4e971b, _0x782c83) {
                    return _0x4e971b(_0x782c83);
                },
                'dHAqp': function (_0x3f4288, _0x76017b) {
                    return _0x3f4288(_0x76017b);
                },
                'wWBgj': function (_0x539d34, _0x22d07e) {
                    return _0x539d34(_0x22d07e);
                },
                'wSNVs': _0x29f0e9(0x135),
                'DyHUX': function (_0x18b30d, _0x2a3906) {
                    return _0x18b30d(_0x2a3906);
                }
            };
        function _0x5cf420(_0x2e24b8) {
            const _0x40ed41 = _0x29f0e9;
            return _0x10e3cc[_0x40ed41(0x118)](_0x2e24b8, _0x45e827) ? _0x2e24b8 : new _0x45e827(function (_0x3d3cd8) {
                const _0x44576a = _0x40ed41;
                _0x10e3cc[_0x44576a(0x151)](_0x3d3cd8, _0x2e24b8);
            });
        }
        return new (_0x45e827 || (_0x45e827 = Promise))(function (_0x21fd90, _0x3cc6eb) {
            const _0x4cd5cb = _0x29f0e9, _0x51db17 = {
                    'xfDLA': function (_0x268dfe, _0x203af2) {
                        const _0x84efe9 = _0x4f3c;
                        return _0x10e3cc[_0x84efe9(0x136)](_0x268dfe, _0x203af2);
                    },
                    'jwiId': function (_0x28f778, _0x1c8a5e) {
                        const _0xd6a0e7 = _0x4f3c;
                        return _0x10e3cc[_0xd6a0e7(0x115)](_0x28f778, _0x1c8a5e);
                    },
                    'JgrCE': _0x10e3cc[_0x4cd5cb(0x129)]
                };
            function _0x3ed6f5(_0x3dc9c) {
                const _0x44b247 = _0x4cd5cb;
                try {
                    _0x51db17[_0x44b247(0x11a)](_0x26f16f, _0x185144[_0x44b247(0x13e)](_0x3dc9c));
                } catch (_0x497585) {
                    _0x51db17[_0x44b247(0xf5)](_0x3cc6eb, _0x497585);
                }
            }
            function _0x3da406(_0x342c84) {
                const _0x2b1a9 = _0x4cd5cb;
                try {
                    _0x51db17[_0x2b1a9(0x11a)](_0x26f16f, _0x185144[_0x51db17[_0x2b1a9(0x10e)]](_0x342c84));
                } catch (_0x39c685) {
                    _0x51db17[_0x2b1a9(0x11a)](_0x3cc6eb, _0x39c685);
                }
            }
            function _0x26f16f(_0x449f97) {
                const _0x1d4852 = _0x4cd5cb;
                _0x449f97[_0x1d4852(0x108)] ? _0x10e3cc[_0x1d4852(0x151)](_0x21fd90, _0x449f97[_0x1d4852(0x149)]) : _0x10e3cc[_0x1d4852(0x148)](_0x5cf420, _0x449f97[_0x1d4852(0x149)])[_0x1d4852(0x15c)](_0x3ed6f5, _0x3da406);
            }
            _0x10e3cc[_0x4cd5cb(0x114)](_0x26f16f, (_0x185144 = _0x185144[_0x4cd5cb(0x102)](_0x21f48c, _0x1f2fbd || []))[_0x4cd5cb(0x13e)]());
        });
    }, __importDefault = this && this[_0x1085f7(0x146) + _0x1085f7(0x163)] || function (_0x2469af) {
        const _0x210df2 = _0x1085f7;
        return _0x2469af && _0x2469af[_0x210df2(0x10d)] ? _0x2469af : { 'default': _0x2469af };
    };
const _0x45f37e = {};
_0x45f37e[_0x1085f7(0x149)] = !![], Object[_0x1085f7(0x13f) + _0x1085f7(0x176)](exports, _0x1085f7(0x10d), _0x45f37e);
const logger_1 = require(_0x1085f7(0x122) + _0x1085f7(0x155)), wbot_1 = require(_0x1085f7(0x147) + 'ot'), Ticket_1 = __importDefault(require(_0x1085f7(0x150) + _0x1085f7(0xf1))), Setting_1 = __importDefault(require(_0x1085f7(0x150) + _0x1085f7(0x15f))), Tenant_1 = __importDefault(require(_0x1085f7(0x150) + _0x1085f7(0x103))), Contact_1 = __importDefault(require(_0x1085f7(0x150) + _0x1085f7(0x131))), ShowTicketService_1 = __importDefault(require(_0x1085f7(0x141) + _0x1085f7(0x121) + _0x1085f7(0x14e) + _0x1085f7(0x110) + _0x1085f7(0x145))), socketEmit_1 = __importDefault(require(_0x1085f7(0x16c) + _0x1085f7(0x132) + 't')), _0x2cf84e = {};
_0x2cf84e[_0x1085f7(0x11b)] = _0x1085f7(0x175), _0x2cf84e[_0x1085f7(0x165)] = (0x431 * 0x1c + -0x2 * -0x2efc + -0x64 * -0x3b) * (0x2dd * 0x4 + 0x17ee * 0x1 + -0x2358);
const _0x10ac5e = {};
_0x10ac5e[_0x1085f7(0x165)] = 0xea60, _0x10ac5e[_0x1085f7(0x10f)] = 0xa, _0x10ac5e[_0x1085f7(0x133) + 'n'] = 0xea60, _0x10ac5e[_0x1085f7(0x15d)] = _0x2cf84e, exports[_0x1085f7(0xf6)] = {
    'key': _0x1085f7(0x112) + _0x1085f7(0x160),
    'options': _0x10ac5e,
    'handle'() {
        const _0x213529 = _0x1085f7, _0x3de8c2 = {
                'jNPrs': _0x213529(0x112) + _0x213529(0x160) + _0x213529(0x137),
                'xjjFy': _0x213529(0x130),
                'ztwWx': _0x213529(0x107),
                'rdnFn': _0x213529(0x164),
                'vKJtB': _0x213529(0x177) + _0x213529(0x128),
                'pnUGF': _0x213529(0x134) + _0x213529(0x16b),
                'JVMhT': function (_0x4ca8ce, _0x2e4220) {
                    return _0x4ca8ce === _0x2e4220;
                },
                'TdjOM': function (_0x184702, _0x3aefce) {
                    return _0x184702 === _0x3aefce;
                },
                'NcPKE': _0x213529(0x12f),
                'mgkmr': _0x213529(0x166),
                'yYerJ': function (_0x4b1a2e, _0x3bb039) {
                    return _0x4b1a2e / _0x3bb039;
                },
                'SHHIt': function (_0x1e5a49, _0x21cbb6) {
                    return _0x1e5a49 / _0x21cbb6;
                },
                'wHqtv': function (_0x2bc573, _0x50fb71) {
                    return _0x2bc573 * _0x50fb71;
                },
                'qHpiu': function (_0x42b4f1, _0x274d2c) {
                    return _0x42b4f1(_0x274d2c);
                },
                'GPkmi': function (_0x35dcd9, _0xd34139) {
                    return _0x35dcd9 === _0xd34139;
                },
                'zwULa': function (_0xdd2044, _0x5bd0c8) {
                    return _0xdd2044 > _0x5bd0c8;
                },
                'TjLfx': function (_0x4a741f, _0x309d11) {
                    return _0x4a741f - _0x309d11;
                },
                'ZIogD': function (_0x9adcca, _0x311faa) {
                    return _0x9adcca !== _0x311faa;
                },
                'JXcIQ': function (_0x50852b, _0x462721) {
                    return _0x50852b !== _0x462721;
                },
                'vmeeK': _0x213529(0xf4) + _0x213529(0x10b),
                'MxPoF': _0x213529(0x116),
                'PDrcn': _0x213529(0x13c) + _0x213529(0x170),
                'EbJnf': _0x213529(0x105) + _0x213529(0xfa) + _0x213529(0x10a),
                'BkpPL': _0x213529(0x100) + _0x213529(0x13b) + _0x213529(0x14c),
                'jemly': _0x213529(0xfc) + _0x213529(0x112) + _0x213529(0x160),
                'yOMFe': function (_0x1819cd, _0x22d985, _0x293ed8, _0x50ce75, _0x4aed54) {
                    return _0x1819cd(_0x22d985, _0x293ed8, _0x50ce75, _0x4aed54);
                }
            };
        var _0x5147e8;
        return _0x3de8c2[_0x213529(0x14a)](__awaiter, this, void (-0x658 * -0x4 + 0xc * 0xf9 + -0x250c), void (0x455 * -0x1 + -0x7 * 0x3d7 + 0x1f36), function* () {
            const _0x475057 = _0x213529;
            logger_1[_0x475057(0xff)][_0x475057(0x174)](_0x3de8c2[_0x475057(0x12e)]);
            try {
                const _0x482b60 = {};
                _0x482b60[_0x475057(0x104)] = [[
                        _0x3de8c2[_0x475057(0x162)],
                        _0x3de8c2[_0x475057(0x157)]
                    ]];
                const _0x394359 = yield Tenant_1[_0x475057(0xf6)][_0x475057(0x12a)](_0x482b60);
                for (const _0x104b68 of _0x394359) {
                    const _0x51bfde = _0x104b68['id'], _0x48528f = {};
                    _0x48528f[_0x475057(0x156)] = _0x3de8c2[_0x475057(0x159)], _0x48528f[_0x475057(0x11f)] = _0x51bfde;
                    const _0x34a459 = {};
                    _0x34a459[_0x475057(0x15a)] = _0x48528f;
                    const _0x2ba639 = yield Setting_1[_0x475057(0xf6)][_0x475057(0xf2)](_0x34a459), _0x271a42 = {};
                    _0x271a42[_0x475057(0x156)] = _0x3de8c2[_0x475057(0x111)], _0x271a42[_0x475057(0x11f)] = _0x51bfde;
                    const _0x4394e8 = {};
                    _0x4394e8[_0x475057(0x15a)] = _0x271a42;
                    const _0x549536 = yield Setting_1[_0x475057(0xf6)][_0x475057(0xf2)](_0x4394e8), _0x4de0b6 = {};
                    _0x4de0b6[_0x475057(0x156)] = _0x3de8c2[_0x475057(0x12d)], _0x4de0b6[_0x475057(0x11f)] = _0x51bfde;
                    const _0x165d0b = {};
                    _0x165d0b[_0x475057(0x15a)] = _0x4de0b6;
                    const _0xd3f160 = yield Setting_1[_0x475057(0xf6)][_0x475057(0xf2)](_0x165d0b);
                    if (_0x3de8c2[_0x475057(0x127)](_0x3de8c2[_0x475057(0x124)](_0x2ba639, null) || _0x3de8c2[_0x475057(0x127)](_0x2ba639, void (-0x2cf * -0x2 + -0xef * 0xd + 0x685)) ? void (0x138b + 0x7ff + -0x2c1 * 0xa) : _0x2ba639[_0x475057(0x149)], _0x3de8c2[_0x475057(0x16e)])) {
                        const _0x244901 = {};
                        _0x244901[_0x475057(0x11f)] = _0x51bfde, _0x244901[_0x475057(0x171)] = _0x3de8c2[_0x475057(0x140)];
                        const _0x4d76a9 = {};
                        _0x4d76a9[_0x475057(0x15a)] = _0x244901;
                        const _0x536008 = yield Ticket_1[_0x475057(0xf6)][_0x475057(0x12a)](_0x4d76a9);
                        for (const _0x97e74 of _0x536008) {
                            const _0x9b553a = Math[_0x475057(0x126)](_0x3de8c2[_0x475057(0x12b)](new Date()[_0x475057(0x16f)](), -0x1 * 0xfa1 + -0x2 * -0x3be + -0x1 * -0xc0d)), _0xb5c108 = Math[_0x475057(0x126)](_0x3de8c2[_0x475057(0x125)](_0x97e74[_0x475057(0x117) + _0x475057(0x153)], -0x11 * -0x13c + -0xa * -0xe5 + -0xd03 * 0x2)), _0x3b2536 = _0x549536 ? _0x3de8c2[_0x475057(0x12c)](_0x3de8c2[_0x475057(0xfe)](parseInt, _0x3de8c2[_0x475057(0xf8)](_0x549536, null) || _0x3de8c2[_0x475057(0x124)](_0x549536, void (0x1 * -0x4c7 + -0x2e7 * -0xd + -0x20f4)) ? void (-0x15a2 + -0x1b0d * -0x1 + -0x13 * 0x49) : _0x549536[_0x475057(0x149)]), -0x16 * -0x32 + 0x3d0 * 0x2 + -0xbb0) : -0x4 * -0x2c5 + -0x16e1 + 0x3 * 0x3ef;
                            if (_0x3de8c2[_0x475057(0x169)](_0x3de8c2[_0x475057(0x158)](_0x9b553a, _0xb5c108), _0x3b2536)) {
                                const _0x311ba1 = _0x3de8c2[_0x475057(0xf9)](_0x5147e8 = _0x3de8c2[_0x475057(0x124)](_0xd3f160, null) || _0x3de8c2[_0x475057(0x124)](_0xd3f160, void (0x901 + 0x18 * 0x199 + -0x2f59)) ? void (-0x1 * 0x215f + 0xf33 + 0x916 * 0x2) : _0xd3f160[_0x475057(0x149)], null) && _0x3de8c2[_0x475057(0x15e)](_0x5147e8, void (0x907 + 0x403 * 0x4 + -0x1913)) ? _0x5147e8 : _0x3de8c2[_0x475057(0x119)];
                                if (_0x97e74[_0x475057(0x152)] && _0x97e74[_0x475057(0x143)]) {
                                    const _0x5200ae = {};
                                    _0x5200ae['id'] = _0x97e74[_0x475057(0x139)];
                                    const _0xe0b479 = {};
                                    _0xe0b479[_0x475057(0x15a)] = _0x5200ae;
                                    const _0x237061 = yield Contact_1[_0x475057(0xf6)][_0x475057(0xf2)](_0xe0b479), _0x1da486 = (-0xa49 * -0x1 + -0x6 * 0x3 + -0xa37, wbot_1[_0x475057(0x168)])(_0x97e74[_0x475057(0x152)]);
                                    try {
                                        const _0x2fbc6c = yield _0x1da486[_0x475057(0x16a) + 'e']((_0x3de8c2[_0x475057(0xf8)](_0x237061, null) || _0x3de8c2[_0x475057(0x127)](_0x237061, void (-0xb56 + -0xfa5 + 0x1afb)) ? void (0x7a6 + 0x242e + 0x3 * -0xe9c) : _0x237061[_0x475057(0x13a)]) + _0x475057(0x101), _0x311ba1), _0x59dd4c = {};
                                        _0x59dd4c[_0x475057(0x142)] = _0x2fbc6c, _0x59dd4c[_0x475057(0x120)] = _0x97e74;
                                        const _0x18132c = _0x59dd4c;
                                        try {
                                            const _0x513bb1 = {};
                                            _0x513bb1[_0x475057(0x171)] = _0x3de8c2[_0x475057(0x123)], _0x513bb1[_0x475057(0x143)] = ![], yield _0x97e74[_0x475057(0x11c)](_0x513bb1);
                                            const _0x15e13b = {};
                                            _0x15e13b['id'] = _0x97e74['id'], _0x15e13b[_0x475057(0x11f)] = _0x97e74[_0x475057(0x11f)];
                                            const _0x224dad = yield (-0x8ad + 0x1a * -0x157 + 0x2b83, ShowTicketService_1[_0x475057(0xf6)])(_0x15e13b), _0x35b1e9 = {};
                                            _0x35b1e9[_0x475057(0x11f)] = _0x97e74[_0x475057(0x11f)], _0x35b1e9[_0x475057(0x11b)] = _0x3de8c2[_0x475057(0x16d)], _0x35b1e9[_0x475057(0x167)] = _0x224dad, (-0x19e + 0x1fde + -0x1e40, socketEmit_1[_0x475057(0xf6)])(_0x35b1e9);
                                        } catch (_0x19d593) {
                                            console[_0x475057(0x14b)](_0x3de8c2[_0x475057(0x154)], _0x19d593);
                                        }
                                        return _0x18132c;
                                    } catch (_0x1cef29) {
                                        console[_0x475057(0x14b)](_0x3de8c2[_0x475057(0x113)], _0x1cef29);
                                    }
                                } else
                                    try {
                                        const _0x1770d3 = {};
                                        _0x1770d3[_0x475057(0x171)] = _0x3de8c2[_0x475057(0x123)], yield _0x97e74[_0x475057(0x11c)](_0x1770d3);
                                        const _0x1ec457 = {};
                                        _0x1ec457['id'] = _0x97e74['id'], _0x1ec457[_0x475057(0x11f)] = _0x97e74[_0x475057(0x11f)];
                                        const _0x22f4e8 = yield (-0x1bd * 0x2 + -0x2ab * 0x1 + 0x79 * 0xd, ShowTicketService_1[_0x475057(0xf6)])(_0x1ec457), _0x55d3e6 = {};
                                        _0x55d3e6[_0x475057(0x11f)] = _0x97e74[_0x475057(0x11f)], _0x55d3e6[_0x475057(0x11b)] = _0x3de8c2[_0x475057(0x16d)], _0x55d3e6[_0x475057(0x167)] = _0x22f4e8, (-0x26b * 0x7 + 0x14 * 0x14e + -0x92b * 0x1, socketEmit_1[_0x475057(0xf6)])(_0x55d3e6);
                                    } catch (_0x21103e) {
                                        console[_0x475057(0x14b)](_0x3de8c2[_0x475057(0x154)], _0x21103e);
                                    }
                            }
                        }
                    }
                }
            } catch (_0x4e9191) {
                logger_1[_0x475057(0xff)][_0x475057(0x173)](_0x475057(0xf7) + _0x475057(0x106) + _0x475057(0x13d) + _0x475057(0xfb) + _0x4e9191);
            }
            logger_1[_0x475057(0xff)][_0x475057(0x174)](_0x3de8c2[_0x475057(0x15b)]);
        });
    }
};
function _0x4f3c(_0x251d4f, _0x3f4b3d) {
    const _0x3e4fa2 = _0x1ffe();
    return _0x4f3c = function (_0x1f5224, _0x53e5a7) {
        _0x1f5224 = _0x1f5224 - (-0x20b7 + 0x60 * 0x15 + -0x19c7 * -0x1);
        let _0x4ff3df = _0x3e4fa2[_0x1f5224];
        return _0x4ff3df;
    }, _0x4f3c(_0x251d4f, _0x3f4b3d);
}
function _0x1ffe() {
    const _0x42ce71 = [
        'payload',
        'getWbot',
        'zwULa',
        'sendMessag',
        'essage',
        '../helpers',
        'PDrcn',
        'NcPKE',
        'getTime',
        'ate',
        'status',
        '__awaiter',
        'warn',
        'info',
        'fixed',
        'erty',
        'autoCloseT',
        '84CKYQIP',
        'Ticket',
        'findOne',
        '12NmmtOL',
        'Mensagem\x20p',
        'jwiId',
        'default',
        'Error\x20ao\x20r',
        'GPkmi',
        'ZIogD',
        'ualizar\x20o\x20',
        'to:\x20',
        'Finalized\x20',
        '2njFzFM',
        'qHpiu',
        'logger',
        'Erro\x20ao\x20en',
        '@c.us',
        'apply',
        'Tenant',
        'order',
        'Erro\x20ao\x20at',
        'ealizar\x20au',
        'ASC',
        'done',
        '81WYxRpM',
        'ticket:',
        'adrão',
        '487449sKaKny',
        '__esModule',
        'JgrCE',
        'attempts',
        'wTicketSer',
        'vKJtB',
        'SendMessag',
        'BkpPL',
        'DyHUX',
        'wWBgj',
        'closed',
        'lastMessag',
        'PTUZv',
        'vmeeK',
        'xfDLA',
        'type',
        'update',
        '9NElwet',
        '68052sXBeAG',
        'tenantId',
        'ticket',
        's/TicketSe',
        '../utils/l',
        'MxPoF',
        'TdjOM',
        'SHHIt',
        'floor',
        'JVMhT',
        'ime',
        'wSNVs',
        'findAll',
        'yYerJ',
        'wHqtv',
        'pnUGF',
        'jNPrs',
        'enabled',
        'name',
        'Contact',
        '/socketEmi',
        'jobExpireI',
        'autoCloseM',
        'throw',
        'dHAqp',
        '\x20Initiated',
        '2803530UOtabQ',
        'contactId',
        'number',
        'viar\x20mensa',
        'ticket:upd',
        'tofechamen',
        'next',
        'defineProp',
        'mgkmr',
        '../service',
        'message',
        'lastCall',
        '20229209iFzWEq',
        'vice',
        '__importDe',
        '../libs/wb',
        'wrHKB',
        'value',
        'yOMFe',
        'error',
        'gem:',
        '11893056hHVCMp',
        'rvices/Sho',
        '437171WlwpVA',
        '../models/',
        'Npehk',
        'whatsappId',
        'eAt',
        'EbJnf',
        'ogger',
        'key',
        'ztwWx',
        'TjLfx',
        'rdnFn',
        'where',
        'jemly',
        'then',
        'backoff',
        'JXcIQ',
        'Setting',
        'eAutoClose',
        '4498715XEqTqB',
        'xjjFy',
        'fault',
        'autoClose',
        'delay',
        'open'
    ];
    _0x1ffe = function () {
        return _0x42ce71;
    };
    return _0x1ffe();
}