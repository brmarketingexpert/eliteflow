'use strict';
function _0x79dd() {
    const _0x45fa80 = [
        'content-di',
        'url',
        'iZsSO',
        'eStream',
        'timestamp',
        'reateMessa',
        'then',
        'split',
        'rraFh',
        'attachment',
        '978260rMiBQO',
        'ofRjy',
        'ers/getQuo',
        'stream',
        'erty',
        'defineProp',
        'VSnFJ',
        'text',
        'wPsEx',
        'XMZcK',
        'sposition',
        'LOAD',
        'createWrit',
        'geService',
        'parameters',
        'method',
        'pfvzw',
        'jeVyt',
        'zpfff',
        'NZonG',
        'default',
        'throw',
        '261ycPNuJ',
        'BwkYV',
        'ERROR\x20DONW',
        '__esModule',
        'trOGC',
        'ageId',
        'CjNpq',
        'join',
        '5780418qNoHNe',
        'cELQp',
        '106400jJOnwT',
        'tenantId',
        'DreFB',
        'messageDat',
        'faYCs',
        'received',
        'finish',
        '5mzzzmL',
        'error',
        '207bONolX',
        'WBvEs',
        'fromMe',
        '../Message',
        'VuJUm',
        'apply',
        'filename',
        'type',
        'message',
        'done',
        '../../help',
        'pipe',
        'NrbXJ',
        'fault',
        'getTime',
        'oQOMo',
        'data',
        'update',
        '__awaiter',
        'pNvWF',
        'parse',
        'public',
        'wCrpW',
        'VolMn',
        'payload',
        'sDRDC',
        'message_id',
        '62788LQtcwP',
        'RvkkQ',
        'all',
        'edLTW',
        'reply_to',
        '4674725GPAIve',
        'responseTy',
        'GET',
        'Services/C',
        'axios',
        'content-ty',
        '451374poGdTU',
        'next',
        'QOJJb',
        'qOmBn',
        'value',
        'map',
        '16YvKYCA',
        'kJGzp',
        'path',
        'OaLFd',
        'UjqJv',
        'headers',
        '__importDe',
        '1033376hJATCb',
        'mid',
        'QiTNN',
        'tedForMess'
    ];
    _0x79dd = function () {
        return _0x45fa80;
    };
    return _0x79dd();
}
const _0x30a118 = _0x3482;
(function (_0x17e306, _0x235eb9) {
    const _0x59860a = _0x3482, _0x4d043e = _0x17e306();
    while (!![]) {
        try {
            const _0x220014 = -parseInt(_0x59860a(0x195)) / (0x1 * 0xf2f + -0x593 * -0x1 + 0x14c1 * -0x1) + parseInt(_0x59860a(0x1a3)) / (0xb5 * -0xa + -0x1d * -0x12b + 0x1acb * -0x1) + -parseInt(_0x59860a(0x162)) / (0xb7d + -0x103b + 0x4c1) * (-parseInt(_0x59860a(0x17d)) / (-0x1ee7 + 0xe89 + 0x1062)) + -parseInt(_0x59860a(0x160)) / (-0x8c4 + 0x4 * 0x547 + 0x277 * -0x5) * (-parseInt(_0x59860a(0x157)) / (-0x7 * 0x2ab + -0x1 * 0x63d + 0x18f0)) + -parseInt(_0x59860a(0x188)) / (-0xd56 + -0x1481 + -0x5a5 * -0x6) * (parseInt(_0x59860a(0x18e)) / (0x937 + 0x29f * -0xb + 0x13a6)) + -parseInt(_0x59860a(0x14f)) / (0x31 * -0xad + -0x2467 * -0x1 + 0x341 * -0x1) * (parseInt(_0x59860a(0x159)) / (-0x1f6a * -0x1 + 0x1aef + -0xfd * 0x3b)) + -parseInt(_0x59860a(0x182)) / (0x3 * 0xa6c + 0x7 * -0x1d9 + 0x124a * -0x1);
            if (_0x220014 === _0x235eb9)
                break;
            else
                _0x4d043e['push'](_0x4d043e['shift']());
        } catch (_0x1abf54) {
            _0x4d043e['push'](_0x4d043e['shift']());
        }
    }
}(_0x79dd, -0x95 * 0x1bb7 + -0xd * 0xc6da + 0x5ff9a * 0x6));
var __awaiter = this && this[_0x30a118(0x174)] || function (_0x318f9f, _0x303437, _0x7036bb, _0x1180ca) {
        const _0x3f4f7a = _0x30a118, _0x2d60be = {
                'jeVyt': function (_0x1da497, _0x181968) {
                    return _0x1da497(_0x181968);
                },
                'cELQp': function (_0x260cdf, _0x51b603) {
                    return _0x260cdf instanceof _0x51b603;
                },
                'edLTW': function (_0x3b24b1, _0x62ebfa) {
                    return _0x3b24b1(_0x62ebfa);
                },
                'CjNpq': _0x3f4f7a(0x14e),
                'wCrpW': function (_0x1c330f, _0x333a53) {
                    return _0x1c330f(_0x333a53);
                },
                'QOJJb': function (_0x32e949, _0x321af2) {
                    return _0x32e949(_0x321af2);
                },
                'VolMn': function (_0x20ccd6, _0x1cdeef) {
                    return _0x20ccd6(_0x1cdeef);
                }
            };
        function _0x175755(_0x8aa61e) {
            const _0x350325 = _0x3f4f7a, _0xa40be3 = {
                    'zpfff': function (_0x401d4e, _0x2d6b87) {
                        const _0x32d027 = _0x3482;
                        return _0x2d60be[_0x32d027(0x14a)](_0x401d4e, _0x2d6b87);
                    }
                };
            return _0x2d60be[_0x350325(0x158)](_0x8aa61e, _0x7036bb) ? _0x8aa61e : new _0x7036bb(function (_0x3085a7) {
                const _0x58f7f7 = _0x350325;
                _0xa40be3[_0x58f7f7(0x14b)](_0x3085a7, _0x8aa61e);
            });
        }
        return new (_0x7036bb || (_0x7036bb = Promise))(function (_0x302161, _0x5ee158) {
            const _0x3078c2 = _0x3f4f7a, _0x110daa = {
                    'qOmBn': function (_0x7a9896, _0x30ee09) {
                        const _0x13cdda = _0x3482;
                        return _0x2d60be[_0x13cdda(0x18a)](_0x7a9896, _0x30ee09);
                    },
                    'XMZcK': function (_0x11976b, _0x144582) {
                        const _0x2600ff = _0x3482;
                        return _0x2d60be[_0x2600ff(0x179)](_0x11976b, _0x144582);
                    }
                };
            function _0x102b03(_0x49ce75) {
                const _0x1c67c9 = _0x3482;
                try {
                    _0x110daa[_0x1c67c9(0x18b)](_0x1503c9, _0x1180ca[_0x1c67c9(0x189)](_0x49ce75));
                } catch (_0x4dc2bb) {
                    _0x110daa[_0x1c67c9(0x142)](_0x5ee158, _0x4dc2bb);
                }
            }
            function _0x5e4325(_0xe3c29b) {
                const _0x20e5f8 = _0x3482;
                try {
                    _0x2d60be[_0x20e5f8(0x180)](_0x1503c9, _0x1180ca[_0x2d60be[_0x20e5f8(0x155)]](_0xe3c29b));
                } catch (_0x3c63cf) {
                    _0x2d60be[_0x20e5f8(0x180)](_0x5ee158, _0x3c63cf);
                }
            }
            function _0x1503c9(_0x16010a) {
                const _0xafd700 = _0x3482;
                _0x16010a[_0xafd700(0x16b)] ? _0x2d60be[_0xafd700(0x180)](_0x302161, _0x16010a[_0xafd700(0x18c)]) : _0x2d60be[_0xafd700(0x178)](_0x175755, _0x16010a[_0xafd700(0x18c)])[_0xafd700(0x19f)](_0x102b03, _0x5e4325);
            }
            _0x2d60be[_0x3078c2(0x18a)](_0x1503c9, (_0x1180ca = _0x1180ca[_0x3078c2(0x167)](_0x318f9f, _0x303437 || []))[_0x3078c2(0x189)]());
        });
    }, __importDefault = this && this[_0x30a118(0x194) + _0x30a118(0x16f)] || function (_0x3f702c) {
        const _0x1a9dac = _0x30a118;
        return _0x3f702c && _0x3f702c[_0x1a9dac(0x152)] ? _0x3f702c : { 'default': _0x3f702c };
    };
const _0x265593 = {};
_0x265593[_0x30a118(0x18c)] = !![], Object[_0x30a118(0x1a8) + _0x30a118(0x1a7)](exports, _0x30a118(0x152), _0x265593);
function _0x3482(_0x2300c6, _0x38bf0d) {
    const _0x2bc825 = _0x79dd();
    return _0x3482 = function (_0x40f5ee, _0x478411) {
        _0x40f5ee = _0x40f5ee - (-0x7af + 0x19 * 0x1 + 0x8d6);
        let _0x140d1a = _0x2bc825[_0x40f5ee];
        return _0x140d1a;
    }, _0x3482(_0x2300c6, _0x38bf0d);
}
const path_1 = require(_0x30a118(0x190)), axios_1 = __importDefault(require(_0x30a118(0x186))), fs_1 = require('fs'), content_disposition_1 = __importDefault(require(_0x30a118(0x199) + _0x30a118(0x143))), CreateMessageService_1 = __importDefault(require(_0x30a118(0x165) + _0x30a118(0x185) + _0x30a118(0x19e) + _0x30a118(0x146))), getQuotedForMessageId_1 = __importDefault(require(_0x30a118(0x16c) + _0x30a118(0x1a5) + _0x30a118(0x198) + _0x30a118(0x154))), downloadFile = (_0x1807d6, _0x4d9469) => __awaiter(void (0x1b4 * 0xa + 0xc76 + 0x2f3 * -0xa), void (-0x4c6 + 0xc91 + -0x7cb), void (-0x131f + 0x22b7 * -0x1 + 0x35d6), function* () {
        const _0x606908 = _0x30a118, _0x74f851 = {
                'rraFh': function (_0x2188e7, _0x349dc2) {
                    return _0x2188e7(_0x349dc2);
                },
                'UjqJv': _0x606908(0x151) + _0x606908(0x144),
                'WBvEs': function (_0x320866, _0x411e30) {
                    return _0x320866(_0x411e30);
                },
                'VuJUm': _0x606908(0x15f),
                'pfvzw': _0x606908(0x161),
                'ofRjy': _0x606908(0x184),
                'iZsSO': _0x606908(0x1a6),
                'kJGzp': _0x606908(0x199) + _0x606908(0x143),
                'faYCs': function (_0x5334b8, _0x765cc4) {
                    return _0x5334b8 === _0x765cc4;
                },
                'DreFB': function (_0x123ae8, _0x1e443a) {
                    return _0x123ae8 === _0x1e443a;
                },
                'NrbXJ': function (_0x15b9da, _0x22adf3) {
                    return _0x15b9da === _0x22adf3;
                },
                'trOGC': function (_0xc00e93, _0x584302) {
                    return _0xc00e93 === _0x584302;
                },
                'pNvWF': _0x606908(0x187) + 'pe',
                'RvkkQ': _0x606908(0x177)
            };
        var _0x3e8533;
        const _0x3bd0a6 = {};
        _0x3bd0a6[_0x606908(0x19a)] = _0x1807d6, _0x3bd0a6[_0x606908(0x148)] = _0x74f851[_0x606908(0x1a4)], _0x3bd0a6[_0x606908(0x183) + 'pe'] = _0x74f851[_0x606908(0x19b)];
        const _0x55c8bc = yield (0x2c0 + 0x5b2 + -0x872, axios_1[_0x606908(0x14d)])(_0x3bd0a6), _0x1d648f = {};
        _0x1d648f[_0x606908(0x147)] = {};
        const _0x3dd00f = _0x55c8bc[_0x606908(0x193)][_0x74f851[_0x606908(0x18f)]] ? content_disposition_1[_0x606908(0x14d)][_0x606908(0x176)](_0x55c8bc[_0x606908(0x193)][_0x74f851[_0x606908(0x18f)]] || '') : _0x1d648f;
        let _0x1cfb48 = '';
        const _0x467332 = _0x74f851[_0x606908(0x15d)](_0x3e8533 = _0x74f851[_0x606908(0x15b)](_0x3dd00f, null) || _0x74f851[_0x606908(0x16e)](_0x3dd00f, void (0xc45 + -0x21c8 + 0x1583)) ? void (-0x17 * 0x1a3 + 0x306 + 0x229f) : _0x3dd00f[_0x606908(0x147)], null) || _0x74f851[_0x606908(0x153)](_0x3e8533, void (-0x1a48 + 0x19f + -0x6b * -0x3b)) ? void (0x1 * -0x17b7 + 0x5f0 + -0x3 * -0x5ed) : _0x3e8533[_0x606908(0x168)];
        if (_0x467332) {
            const _0x589a5d = _0x3dd00f[_0x606908(0x147)][_0x606908(0x168)];
            _0x1cfb48 = new Date()[_0x606908(0x170)]() + '-' + _0x589a5d;
        } else {
            const _0x460627 = _0x55c8bc[_0x606908(0x193)][_0x74f851[_0x606908(0x175)]], _0x48244f = _0x460627[_0x606908(0x1a0)]('/')[-0x1 * 0x2540 + 0x40b * -0x3 + -0x2a * -0x12d];
            _0x1cfb48 = _0x4d9469 + '-' + new Date()[_0x606908(0x170)]() + '.' + _0x48244f;
        }
        const _0x4130d2 = (0x3db + -0x589 + 0x56 * 0x5, path_1[_0x606908(0x156)])(__dirname, '..', '..', '..', _0x74f851[_0x606908(0x17e)], _0x1cfb48);
        return yield new Promise((_0x1ec4f8, _0x56b2a5) => {
            const _0x1af4a1 = _0x606908;
            _0x55c8bc[_0x1af4a1(0x172)][_0x1af4a1(0x16d)]((0x20d1 + -0x5 * 0x38b + -0xf1a * 0x1, fs_1[_0x1af4a1(0x145) + _0x1af4a1(0x19c)])(_0x4130d2))['on'](_0x74f851[_0x1af4a1(0x166)], () => __awaiter(void (0xe * 0x274 + -0x289 * 0x1 + 0x1 * -0x1fcf), void (-0x1800 + 0x1424 + 0x3dc), void (0x2291 + -0x1 * -0x24a1 + -0x4732 * 0x1), function* () {
                const _0x3808af = _0x1af4a1;
                return _0x74f851[_0x3808af(0x1a1)](_0x1ec4f8, _0x1cfb48);
            }))['on'](_0x74f851[_0x1af4a1(0x149)], _0x25521f => {
                const _0x4e4e9b = _0x1af4a1;
                console[_0x4e4e9b(0x161)](_0x74f851[_0x4e4e9b(0x192)], _0x25521f), _0x74f851[_0x4e4e9b(0x163)](_0x56b2a5, new Error(_0x25521f));
            });
        }), _0x1cfb48;
    }), MessengerVerifyMediaMessage = (_0x4939d9, _0xbba898, _0x258331, _0x3690d1) => __awaiter(void (-0x184a * -0x1 + 0x2ce + -0x1b18), void (-0x486 * -0x3 + 0xd31 * 0x2 + -0x1 * 0x27f4), void (0x47 * -0x67 + -0x110d + 0x2d9e), function* () {
        const _0x1d0fa4 = _0x30a118, _0x463b28 = {
                'QiTNN': function (_0xb17e22, _0x1fd820, _0x588893) {
                    return _0xb17e22(_0x1fd820, _0x588893);
                },
                'OaLFd': function (_0x8b60a1, _0x19e168) {
                    return _0x8b60a1 === _0x19e168;
                },
                'VSnFJ': function (_0x253c7a, _0x2b84d7) {
                    return _0x253c7a === _0x2b84d7;
                },
                'oQOMo': function (_0x3ae7f7, _0x1a6f54) {
                    return _0x3ae7f7 === _0x1a6f54;
                },
                'sDRDC': function (_0x4b22f0, _0xedf779) {
                    return _0x4b22f0 === _0xedf779;
                },
                'NZonG': function (_0x24b6e4, _0x65a7bc) {
                    return _0x24b6e4 === _0x65a7bc;
                },
                'wPsEx': function (_0x46de00, _0x9ff060) {
                    return _0x46de00 > _0x9ff060;
                },
                'BwkYV': _0x1d0fa4(0x15e)
            };
        let _0x47ab99;
        yield Promise[_0x1d0fa4(0x17f)](_0xbba898[_0x1d0fa4(0x16a)][_0x1d0fa4(0x1a2) + 's'][_0x1d0fa4(0x18d)]((_0x2e7889, _0x1308a1) => __awaiter(void (-0x265 * 0x1 + -0x1348 + 0x15ad * 0x1), void (0x670 + -0x3 * 0x56e + 0x9da), void (0xd5b * -0x1 + 0x1723 * 0x1 + -0x9c8), function* () {
            const _0x46e7c1 = _0x1d0fa4;
            var _0x1f8fad, _0x7c7019, _0x2ed30a, _0xcd440e;
            const _0x2e7052 = _0x258331['id'] + '_' + _0xbba898[_0x46e7c1(0x17c)];
            _0x47ab99 = yield _0x463b28[_0x46e7c1(0x197)](downloadFile, _0x2e7889[_0x46e7c1(0x17a)][_0x46e7c1(0x19a)], _0x2e7052);
            let _0x21a0db;
            if (_0x463b28[_0x46e7c1(0x191)](_0x7c7019 = _0x463b28[_0x46e7c1(0x1a9)](_0x1f8fad = _0x463b28[_0x46e7c1(0x191)](_0xbba898, null) || _0x463b28[_0x46e7c1(0x1a9)](_0xbba898, void (-0x3 * 0xc31 + 0x231a + 0x179)) ? void (0x81 * 0x11 + -0x13 * 0x13b + 0xed0) : _0xbba898[_0x46e7c1(0x16a)], null) || _0x463b28[_0x46e7c1(0x1a9)](_0x1f8fad, void (-0x5c1 + 0x23d8 + -0x1 * 0x1e17)) ? void (0x636 + -0x1 * 0x586 + -0x4 * 0x2c) : _0x1f8fad[_0x46e7c1(0x181)], null) || _0x463b28[_0x46e7c1(0x171)](_0x7c7019, void (0x7ab + 0x4 * 0x182 + 0x1f5 * -0x7)) ? void (0x5fb * 0x5 + -0x922 + -0x14c5) : _0x7c7019[_0x46e7c1(0x196)]) {
                const _0x2df369 = yield (-0x44 * 0x20 + -0x22ae * -0x1 + -0x1a2e, getQuotedForMessageId_1[_0x46e7c1(0x14d)])(_0xbba898[_0x46e7c1(0x16a)][_0x46e7c1(0x181)][_0x46e7c1(0x196)], _0x258331[_0x46e7c1(0x15a)]);
                _0x21a0db = (_0x463b28[_0x46e7c1(0x17b)](_0x2df369, null) || _0x463b28[_0x46e7c1(0x14c)](_0x2df369, void (-0x69d + 0x1e9d + -0x200 * 0xc)) ? void (-0x1 * -0x1537 + 0x858 + 0xa1 * -0x2f) : _0x2df369['id']) || undefined;
            }
            const _0x408e67 = {
                'messageId': _0x463b28[_0x46e7c1(0x141)](_0x1308a1, 0x1866 + 0x56c + -0x1dd2) ? _0xbba898[_0x46e7c1(0x17c)] + '__' + _0x1308a1 : _0xbba898[_0x46e7c1(0x17c)] || '',
                'ticketId': _0x258331['id'],
                'contactId': _0x3690d1['id'],
                'body': (_0x463b28[_0x46e7c1(0x14c)](_0x2ed30a = _0xbba898[_0x46e7c1(0x16a)], null) || _0x463b28[_0x46e7c1(0x191)](_0x2ed30a, void (0x7f4 + 0x183b + -0x6b * 0x4d)) ? void (-0x24d9 + -0x159a + 0xd * 0x47f) : _0x2ed30a[_0x46e7c1(0x140)]) || '',
                'fromMe': _0xbba898[_0x46e7c1(0x164)],
                'read': ![],
                'mediaUrl': _0x47ab99,
                'mediaType': _0xbba898[_0x46e7c1(0x169)],
                'quotedMsgId': _0x21a0db,
                'timestamp': +_0xbba898[_0x46e7c1(0x19d)],
                'status': _0x463b28[_0x46e7c1(0x150)]
            };
            yield _0x258331[_0x46e7c1(0x173)]({
                'lastMessage': (_0x463b28[_0x46e7c1(0x1a9)](_0xcd440e = _0xbba898[_0x46e7c1(0x16a)], null) || _0x463b28[_0x46e7c1(0x191)](_0xcd440e, void (-0x179f + -0x23 * 0x5f + -0x2c * -0xd5)) ? void (0x976 + -0xd * -0xe5 + -0x1517) : _0xcd440e[_0x46e7c1(0x140)]) || _0x47ab99 || '',
                'lastMessageAt': new Date()[_0x46e7c1(0x170)](),
                'answered': ![]
            });
            const _0x376618 = {};
            _0x376618[_0x46e7c1(0x15c) + 'a'] = _0x408e67, _0x376618[_0x46e7c1(0x15a)] = _0x258331[_0x46e7c1(0x15a)], yield (-0x1c67 + 0x1 * -0x2b + 0x2e * 0x9f, CreateMessageService_1[_0x46e7c1(0x14d)])(_0x376618);
        })));
    });
exports[_0x30a118(0x14d)] = MessengerVerifyMediaMessage;