'use strict';
const _0x553b6a = _0x394d;
(function (_0x5b8796, _0x588463) {
    const _0x53c287 = _0x394d, _0x42c995 = _0x5b8796();
    while (!![]) {
        try {
            const _0x4306e4 = parseInt(_0x53c287(0x10d)) / (0x17 * 0x125 + 0x1ab0 + -0x3502) + parseInt(_0x53c287(0x152)) / (0x74d + 0xe2a + -0x1575) * (parseInt(_0x53c287(0x112)) / (-0x640 + 0x1 * 0x2011 + 0x19ce * -0x1)) + -parseInt(_0x53c287(0x131)) / (-0x266a + 0x21f8 + 0x476) * (parseInt(_0x53c287(0x14a)) / (-0x11 * 0x23c + 0xf1 * 0x8 + 0x1 * 0x1e79)) + -parseInt(_0x53c287(0x116)) / (-0x25fe + 0x210 * -0xb + 0x3cb4) + parseInt(_0x53c287(0xdc)) / (0x32 * 0xab + 0x2f + -0x218e) + parseInt(_0x53c287(0x111)) / (0x22cf + 0x1081 + -0x223 * 0x18) * (parseInt(_0x53c287(0x135)) / (-0x1 * -0x21a7 + -0xfc6 * -0x2 + -0x412a)) + parseInt(_0x53c287(0xfb)) / (0x1b59 + -0x78b * 0x1 + -0x4 * 0x4f1) * (parseInt(_0x53c287(0x149)) / (0x1 * 0x163d + -0x1eb3 + 0x881));
            if (_0x4306e4 === _0x588463)
                break;
            else
                _0x42c995['push'](_0x42c995['shift']());
        } catch (_0x561fd7) {
            _0x42c995['push'](_0x42c995['shift']());
        }
    }
}(_0x3fa9, 0xd8b * -0x44 + 0x58ecb + 0xaa786));
var __awaiter = this && this[_0x553b6a(0x122)] || function (_0x94c09f, _0x487d1c, _0x11e150, _0x532872) {
        const _0x52c36e = _0x553b6a, _0x3cd8f2 = {
                'sPRqL': function (_0x113107, _0x2626ba) {
                    return _0x113107(_0x2626ba);
                },
                'OaFie': function (_0x286a4e, _0x1b02cd) {
                    return _0x286a4e instanceof _0x1b02cd;
                },
                'Cajvq': function (_0x9647e0, _0x43fcd1) {
                    return _0x9647e0(_0x43fcd1);
                },
                'wXNrV': function (_0x25d8db, _0x43eeda) {
                    return _0x25d8db(_0x43eeda);
                },
                'gSLHW': _0x52c36e(0x119),
                'AqdrE': function (_0x5d8aba, _0x11a15e) {
                    return _0x5d8aba(_0x11a15e);
                }
            };
        function _0x21617f(_0x1d83dd) {
            const _0x4486d5 = _0x52c36e, _0x4d13d6 = {
                    'OVyIe': function (_0x228dec, _0x335ca3) {
                        const _0xea8288 = _0x394d;
                        return _0x3cd8f2[_0xea8288(0x104)](_0x228dec, _0x335ca3);
                    }
                };
            return _0x3cd8f2[_0x4486d5(0xf1)](_0x1d83dd, _0x11e150) ? _0x1d83dd : new _0x11e150(function (_0x4966c9) {
                const _0x22ddfd = _0x4486d5;
                _0x4d13d6[_0x22ddfd(0x13b)](_0x4966c9, _0x1d83dd);
            });
        }
        return new (_0x11e150 || (_0x11e150 = Promise))(function (_0x3c5590, _0x153e43) {
            const _0x35d56b = _0x52c36e, _0x2e1eb5 = {
                    'eebGW': function (_0x9b6db2, _0x4e95b1) {
                        const _0x134ca0 = _0x394d;
                        return _0x3cd8f2[_0x134ca0(0x10e)](_0x9b6db2, _0x4e95b1);
                    },
                    'DvOon': function (_0x584c3a, _0x20a169) {
                        const _0x273955 = _0x394d;
                        return _0x3cd8f2[_0x273955(0x13f)](_0x584c3a, _0x20a169);
                    },
                    'TgrvH': _0x3cd8f2[_0x35d56b(0x12d)]
                };
            function _0x41e68b(_0x2e2e65) {
                const _0x1aa1c9 = _0x35d56b;
                try {
                    _0x2e1eb5[_0x1aa1c9(0xe5)](_0x1a9237, _0x532872[_0x1aa1c9(0xef)](_0x2e2e65));
                } catch (_0x5b1acb) {
                    _0x2e1eb5[_0x1aa1c9(0xe5)](_0x153e43, _0x5b1acb);
                }
            }
            function _0x539b1c(_0xdaa979) {
                const _0x79ace3 = _0x35d56b;
                try {
                    _0x2e1eb5[_0x79ace3(0x123)](_0x1a9237, _0x532872[_0x2e1eb5[_0x79ace3(0x14f)]](_0xdaa979));
                } catch (_0x189a53) {
                    _0x2e1eb5[_0x79ace3(0xe5)](_0x153e43, _0x189a53);
                }
            }
            function _0x1a9237(_0x56771d) {
                const _0x3b7872 = _0x35d56b;
                _0x56771d[_0x3b7872(0xe7)] ? _0x3cd8f2[_0x3b7872(0x104)](_0x3c5590, _0x56771d[_0x3b7872(0xe4)]) : _0x3cd8f2[_0x3b7872(0x13f)](_0x21617f, _0x56771d[_0x3b7872(0xe4)])[_0x3b7872(0x10f)](_0x41e68b, _0x539b1c);
            }
            _0x3cd8f2[_0x35d56b(0x114)](_0x1a9237, (_0x532872 = _0x532872[_0x35d56b(0xf4)](_0x94c09f, _0x487d1c || []))[_0x35d56b(0xef)]());
        });
    }, __importDefault = this && this[_0x553b6a(0x137) + _0x553b6a(0xdd)] || function (_0x4937bf) {
        const _0x210d1e = _0x553b6a;
        return _0x4937bf && _0x4937bf[_0x210d1e(0xfc)] ? _0x4937bf : { 'default': _0x4937bf };
    };
const _0x8891d0 = {};
_0x8891d0[_0x553b6a(0xe4)] = !![], Object[_0x553b6a(0x113) + _0x553b6a(0x120)](exports, _0x553b6a(0xfc), _0x8891d0);
function _0x394d(_0xbce5d7, _0x132477) {
    const _0x458860 = _0x3fa9();
    return _0x394d = function (_0xf642f2, _0x24f373) {
        _0xf642f2 = _0xf642f2 - (0x4 * -0x29b + -0xdf * 0x2a + -0x1 * -0x2fdb);
        let _0xa0c736 = _0x458860[_0xf642f2];
        return _0xa0c736;
    }, _0x394d(_0xbce5d7, _0x132477);
}
const logger_1 = require(_0x553b6a(0x143) + _0x553b6a(0x12c)), FindOrCreateTicketService_1 = __importDefault(require(_0x553b6a(0x136) + _0x553b6a(0x11a) + _0x553b6a(0x146) + _0x553b6a(0x148) + _0x553b6a(0x12b))), messengerBot_1 = require(_0x553b6a(0x142) + _0x553b6a(0xfa) + _0x553b6a(0x107)), MessengerVerifyContact_1 = __importDefault(require(_0x553b6a(0x12a) + _0x553b6a(0x106) + _0x553b6a(0xe8))), MessengerVerifyMessage_1 = __importDefault(require(_0x553b6a(0x12a) + _0x553b6a(0x125) + _0x553b6a(0xe9))), MessengerVerifyMediaMessage_1 = __importDefault(require(_0x553b6a(0x12a) + _0x553b6a(0xed) + _0x553b6a(0xdb))), VerifyStepsChatFlowTicket_1 = __importDefault(require(_0x553b6a(0x108) + _0x553b6a(0x105) + _0x553b6a(0xee) + _0x553b6a(0x153) + _0x553b6a(0x11c))), MessengerMarkRead_1 = __importDefault(require(_0x553b6a(0x12a) + _0x553b6a(0x134))), MessengerShowChannel_1 = __importDefault(require(_0x553b6a(0x12a) + _0x553b6a(0x133) + 'el')), VerifyBusinessHours_1 = __importDefault(require(_0x553b6a(0x121) + _0x553b6a(0x100) + _0x553b6a(0x11e) + _0x553b6a(0x115) + _0x553b6a(0x10b))), getMessageType = _0x3ef577 => {
        const _0x5a865b = _0x553b6a, _0x5884af = {};
        _0x5884af[_0x5a865b(0xde)] = function (_0x584831, _0x17abaa) {
            return _0x584831 > _0x17abaa;
        }, _0x5884af[_0x5a865b(0x147)] = _0x5a865b(0xeb), _0x5884af[_0x5a865b(0xe2)] = function (_0x16a4f1, _0x2aae50) {
            return _0x16a4f1 === _0x2aae50;
        }, _0x5884af[_0x5a865b(0x14d)] = _0x5a865b(0x14b), _0x5884af[_0x5a865b(0xf8)] = _0x5a865b(0x145), _0x5884af[_0x5a865b(0x11b)] = function (_0xd61580, _0xb77565) {
            return _0xd61580 === _0xb77565;
        }, _0x5884af[_0x5a865b(0xec)] = _0x5a865b(0x141), _0x5884af[_0x5a865b(0x132)] = _0x5a865b(0x11f), _0x5884af[_0x5a865b(0x13d)] = function (_0x8eecd3, _0x14a209) {
            return _0x8eecd3 === _0x14a209;
        }, _0x5884af[_0x5a865b(0xe0)] = _0x5a865b(0x127), _0x5884af[_0x5a865b(0xfe)] = _0x5a865b(0xe1);
        const _0x31bbfb = _0x5884af, {attachments: _0x211ba7} = _0x3ef577, _0x1486c0 = _0x211ba7 && _0x31bbfb[_0x5a865b(0xde)](_0x211ba7[_0x5a865b(0x126)], -0x13 * -0xf + -0x1b3d + 0x8 * 0x344);
        if (_0x3ef577[_0x5a865b(0xeb)] && !_0x1486c0)
            return _0x31bbfb[_0x5a865b(0x147)];
        if (_0x1486c0 && _0x31bbfb[_0x5a865b(0xe2)](_0x211ba7[-0x15d0 + -0x554 + 0x1b24][_0x5a865b(0x130)], _0x31bbfb[_0x5a865b(0x14d)]))
            return _0x31bbfb[_0x5a865b(0x14d)];
        if (_0x1486c0 && _0x31bbfb[_0x5a865b(0xe2)](_0x211ba7[0xdd7 + -0x1904 + 0x1 * 0xb2d][_0x5a865b(0x130)], _0x31bbfb[_0x5a865b(0xf8)]))
            return _0x31bbfb[_0x5a865b(0xf8)];
        if (_0x1486c0 && _0x31bbfb[_0x5a865b(0x11b)](_0x211ba7[-0x1 * -0x23b + -0x400 + -0x97 * -0x3][_0x5a865b(0x130)], _0x31bbfb[_0x5a865b(0xec)]))
            return _0x31bbfb[_0x5a865b(0xec)];
        if (_0x1486c0 && _0x31bbfb[_0x5a865b(0x11b)](_0x211ba7[-0x1bc * 0x4 + -0x44 * -0x6b + -0x157c][_0x5a865b(0x130)], _0x31bbfb[_0x5a865b(0x132)]))
            return _0x31bbfb[_0x5a865b(0x132)];
        if (_0x1486c0 && _0x31bbfb[_0x5a865b(0x13d)](_0x211ba7[0x14d0 + -0x4fb + -0x1 * 0xfd5][_0x5a865b(0x130)], _0x31bbfb[_0x5a865b(0xe0)]))
            return _0x31bbfb[_0x5a865b(0xe0)];
        if (_0x1486c0 && _0x31bbfb[_0x5a865b(0x11b)](_0x211ba7[-0x9c9 + 0x13a + 0x88f][_0x5a865b(0x130)], _0x31bbfb[_0x5a865b(0xfe)]))
            return _0x31bbfb[_0x5a865b(0xfe)];
    }, MessengerHandleMessage = _0xcf19aa => __awaiter(void (0xd * 0x1cd + 0x11f7 + -0x2960), void (-0x1bec + 0x2 * 0x68c + -0xd * -0x124), void (0x1976 + -0x165e + -0x24 * 0x16), function* () {
        const _0x445f26 = _0x553b6a, _0x4b3b46 = {
                'tKokY': function (_0x52e1f0, _0x2b703b) {
                    return _0x52e1f0 !== _0x2b703b;
                },
                'dvNVe': _0x445f26(0xea),
                'TkouW': function (_0x221ccb, _0x5ac419) {
                    return _0x221ccb === _0x5ac419;
                },
                'Geyso': function (_0x2550dc, _0x575d01) {
                    return _0x2550dc === _0x575d01;
                },
                'llftA': function (_0x3ff4ae, _0x3188cc) {
                    return _0x3ff4ae === _0x3188cc;
                },
                'ikhMP': function (_0x58ca1a, _0x19e6a4) {
                    return _0x58ca1a(_0x19e6a4);
                },
                'cWGno': function (_0x1587ca, _0x3fda1d) {
                    return _0x1587ca === _0x3fda1d;
                },
                'fsifV': function (_0x46d9a7, _0xd477e8) {
                    return _0x46d9a7 === _0xd477e8;
                },
                'ZSmOa': function (_0xfb0735, _0x5098af) {
                    return _0xfb0735 === _0x5098af;
                },
                'FIAQl': _0x445f26(0x128),
                'MMdXk': function (_0xc515ca, _0x3c793a) {
                    return _0xc515ca === _0x3c793a;
                },
                'YFnfv': function (_0x5a1126, _0x145cd4) {
                    return _0x5a1126 === _0x145cd4;
                },
                'DmNOD': function (_0x5db23d) {
                    return _0x5db23d();
                },
                'cpzZQ': function (_0x18079e, _0x584921) {
                    return _0x18079e !== _0x584921;
                },
                'FZgtU': _0x445f26(0xeb)
            };
        return new Promise((_0x1ee7e3, _0x16876e) => {
            ((() => __awaiter(void (0x13be + 0x1c70 + -0x6e2 * 0x7), void (0x4f * -0x5 + -0x78d * 0x2 + 0x10a5), void (0x387 + -0x1 * 0x173d + 0x13b6), function* () {
                const _0x50dc24 = _0x394d;
                var _0x2164fc;
                let _0x2dfdad, _0x36c3a0;
                const _0x4619e6 = -0xbc8 + -0xc0 * 0xd + 0x1589;
                try {
                    if (_0x4b3b46[_0x50dc24(0x103)](_0xcf19aa[_0x50dc24(0x102)], _0x4b3b46[_0x50dc24(0x129)]))
                        return;
                    const _0x8a0209 = _0xcf19aa[_0x50dc24(0xdf)][_0x50dc24(0x144)](), _0x10c379 = _0x4b3b46[_0x50dc24(0x12e)](_0x8a0209, null) || _0x4b3b46[_0x50dc24(0x12f)](_0x8a0209, void (0x1 * -0x230e + -0x1 * 0x87 + -0x1 * -0x2395)) ? void (-0x6cc + -0x6f * 0x12 + 0xe9a) : _0x8a0209[_0x50dc24(0xda)][_0x50dc24(0x144)](), _0x31e4f9 = {};
                    _0x31e4f9[_0x50dc24(0x13a)] = _0x8a0209['id'], _0x2dfdad = yield (0x229b + -0x2593 + 0x2f8, MessengerShowChannel_1[_0x50dc24(0xf9)])(_0x31e4f9);
                    if (!_0x2dfdad)
                        return;
                    const _0x59c512 = yield (-0x3 * 0x717 + 0x1e85 + -0x940, messengerBot_1[_0x50dc24(0x154) + _0x50dc24(0x117)])(_0x2dfdad['id']);
                    if (!(_0x4b3b46[_0x50dc24(0xfd)](_0x10c379, null) || _0x4b3b46[_0x50dc24(0xfd)](_0x10c379, void (-0x10b6 + -0x12da + 0x2390)) ? void (-0x1 * -0xae3 + -0x1981 + 0xe9e) : _0x10c379[_0x50dc24(0x150)]) && _0x10c379[_0x50dc24(0x139)]) {
                        (-0x3 * -0x6f5 + -0x40 * -0x6d + 0x61 * -0x7f, MessengerMarkRead_1[_0x50dc24(0xf9)])(_0x10c379, _0x2dfdad[_0x50dc24(0xf7)]);
                        return;
                    }
                    _0x36c3a0 = yield (-0x61d * -0x2 + 0x1 * -0x4f1 + -0x749, MessengerVerifyContact_1[_0x50dc24(0xf9)])(_0x10c379[_0x50dc24(0xff)], _0x59c512, _0x2dfdad[_0x50dc24(0xf7)]);
                    const _0x5b811c = Object[_0x50dc24(0x110)](Object[_0x50dc24(0x110)]({}, _0x10c379), {
                            'type': _0x4b3b46[_0x50dc24(0x11d)](getMessageType, _0x10c379[_0x50dc24(0x150)]),
                            'fromMe': ![],
                            'body': (_0x4b3b46[_0x50dc24(0x12f)](_0x2164fc = _0x4b3b46[_0x50dc24(0xe6)](_0x10c379, null) || _0x4b3b46[_0x50dc24(0xf5)](_0x10c379, void (-0x307 * 0x1 + -0x3fb + 0x702)) ? void (0x2519 * 0x1 + -0x963 + -0x2 * 0xddb) : _0x10c379[_0x50dc24(0x150)], null) || _0x4b3b46[_0x50dc24(0x124)](_0x2164fc, void (-0x57 * -0x17 + 0x23ef * 0x1 + -0x578 * 0x8)) ? void (-0xbde + 0xd36 + -0x8 * 0x2b) : _0x2164fc[_0x50dc24(0xeb)]) || '',
                            'timestamp': _0x10c379[_0x50dc24(0x10a)],
                            'message_id': _0x10c379[_0x50dc24(0x150)][_0x50dc24(0x140)]
                        }), _0x3f0d2a = {};
                    _0x3f0d2a[_0x50dc24(0x155)] = _0x36c3a0, _0x3f0d2a[_0x50dc24(0xf2)] = _0x2dfdad['id'], _0x3f0d2a[_0x50dc24(0xf6) + _0x50dc24(0x14c)] = _0x4619e6, _0x3f0d2a[_0x50dc24(0xf7)] = _0x2dfdad[_0x50dc24(0xf7)], _0x3f0d2a[_0x50dc24(0x138)] = _0x5b811c, _0x3f0d2a[_0x50dc24(0xe3)] = _0x4b3b46[_0x50dc24(0x10c)];
                    const _0x5b9fa7 = yield (-0x59 * -0x22 + -0x1 * 0x1d09 + -0x27 * -0x71, FindOrCreateTicketService_1[_0x50dc24(0xf9)])(_0x3f0d2a);
                    if (_0x4b3b46[_0x50dc24(0x13e)](_0x5b9fa7, null) || _0x4b3b46[_0x50dc24(0x118)](_0x5b9fa7, void (0x138 * -0x17 + 0xd7 * 0x5 + 0x17d5)) ? void (0x1837 + 0x2000 + -0x7b * 0x75) : _0x5b9fa7[_0x50dc24(0xf0) + _0x50dc24(0xf3)]) {
                        _0x4b3b46[_0x50dc24(0xd9)](_0x1ee7e3);
                        return;
                    }
                    if (_0x4b3b46[_0x50dc24(0x13e)](_0x5b9fa7, null) || _0x4b3b46[_0x50dc24(0xf5)](_0x5b9fa7, void (0x3d * 0x16 + -0x3d * 0x5f + 0x1165)) ? void (-0x1c60 + -0x1 * -0x1337 + -0x14f * -0x7) : _0x5b9fa7[_0x50dc24(0x151) + _0x50dc24(0xf3)]) {
                        _0x4b3b46[_0x50dc24(0xd9)](_0x1ee7e3);
                        return;
                    }
                    _0x4b3b46[_0x50dc24(0x101)](_0x5b811c[_0x50dc24(0x130)], _0x4b3b46[_0x50dc24(0x13c)]) ? yield (-0x1a08 + 0x15d2 + 0x436, MessengerVerifyMediaMessage_1[_0x50dc24(0xf9)])(_0x2dfdad, _0x5b811c, _0x5b9fa7, _0x36c3a0) : yield (-0xd * -0x125 + 0xf2 * 0xb + 0x86d * -0x3, MessengerVerifyMessage_1[_0x50dc24(0xf9)])(_0x5b811c, _0x5b9fa7, _0x36c3a0), yield (-0x12d4 + 0x1b06 + -0x832 * 0x1, VerifyStepsChatFlowTicket_1[_0x50dc24(0xf9)])(_0x5b811c, _0x5b9fa7), yield (0x25 * -0x99 + 0xb73 + 0xaaa, VerifyBusinessHours_1[_0x50dc24(0xf9)])(_0x5b811c, _0x5b9fa7), _0x4b3b46[_0x50dc24(0xd9)](_0x1ee7e3);
                } catch (_0x3bd35e) {
                    logger_1[_0x50dc24(0x109)][_0x50dc24(0x14e)](_0x3bd35e), _0x4b3b46[_0x50dc24(0x11d)](_0x16876e, _0x3bd35e);
                }
            }))());
        });
    });
exports[_0x553b6a(0xf9)] = MessengerHandleMessage;
function _0x3fa9() {
    const _0x5928c3 = [
        'page',
        'text',
        'lOLGM',
        'rVerifyMed',
        'VerifyStep',
        'next',
        'isCampaign',
        'OaFie',
        'whatsappId',
        'Message',
        'apply',
        'fsifV',
        'unreadMess',
        'tenantId',
        'sTAeh',
        'default',
        '/messenger',
        '390uXRvbc',
        '__esModule',
        'llftA',
        'MAHZI',
        'sender',
        'vices/help',
        'cpzZQ',
        'object',
        'tKokY',
        'sPRqL',
        'wServices/',
        'rVerifyCon',
        'Bot',
        '../ChatFlo',
        'logger',
        'timestamp',
        'urs',
        'FIAQl',
        '412459yyzycd',
        'wXNrV',
        'then',
        'assign',
        '8392WWqRTL',
        '1381881RIpHeu',
        'defineProp',
        'AqdrE',
        'BusinessHo',
        '6433674Vfvccq',
        'erBot',
        'YFnfv',
        'throw',
        'ervices/Fi',
        'CJjCL',
        'icket',
        'ikhMP',
        'ers/Verify',
        'location',
        'erty',
        '../WbotSer',
        '__awaiter',
        'DvOon',
        'ZSmOa',
        'rVerifyMes',
        'length',
        'file',
        'messenger',
        'dvNVe',
        './Messenge',
        'ice',
        's/logger',
        'gSLHW',
        'TkouW',
        'Geyso',
        'type',
        '6324024SjOxWU',
        'kECsH',
        'rShowChann',
        'rMarkRead',
        '9648XqHyya',
        '../TicketS',
        '__importDe',
        'msg',
        'read',
        'fbPageId',
        'OVyIe',
        'FZgtU',
        'ttDVv',
        'MMdXk',
        'Cajvq',
        'mid',
        'video',
        '../../libs',
        '../../util',
        'shift',
        'audio',
        'ndOrCreate',
        'FaOil',
        'TicketServ',
        '17567BGhizY',
        '5iRdjkf',
        'image',
        'ages',
        'vvzNC',
        'error',
        'TgrvH',
        'message',
        'isFarewell',
        '6wPpyxp',
        'sChatFlowT',
        'getMesseng',
        'contact',
        'DmNOD',
        'messaging',
        'iaMessage',
        '3492013OnGvNG',
        'fault',
        'sTCTf',
        'entry',
        'kaEbp',
        'fallback',
        'oCnYI',
        'channel',
        'value',
        'eebGW',
        'cWGno',
        'done',
        'tact',
        'sage'
    ];
    _0x3fa9 = function () {
        return _0x5928c3;
    };
    return _0x3fa9();
}