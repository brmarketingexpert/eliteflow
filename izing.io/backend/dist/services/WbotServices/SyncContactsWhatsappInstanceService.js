'use strict';
const _0x42d046 = _0x18ca;
(function (_0x160a6d, _0x413ce5) {
    const _0x4abd57 = _0x18ca, _0x267d9b = _0x160a6d();
    while (!![]) {
        try {
            const _0x415bf4 = -parseInt(_0x4abd57(0x25e)) / (-0x12d * 0xc + -0x1e86 + -0xd * -0x36f) * (parseInt(_0x4abd57(0x21a)) / (-0x21a5 + -0x63 * -0x33 + 0xdee)) + parseInt(_0x4abd57(0x210)) / (-0x19a9 * 0x1 + -0x874 + 0x2220) * (parseInt(_0x4abd57(0x213)) / (0x1787 + -0x1 * -0x16f9 + -0x6a4 * 0x7)) + -parseInt(_0x4abd57(0x20f)) / (-0x2 * 0x283 + 0x7ea * 0x1 + 0x69 * -0x7) * (parseInt(_0x4abd57(0x21b)) / (0x28 * -0xa3 + -0xc9a * -0x1 + 0x44c * 0x3)) + parseInt(_0x4abd57(0x235)) / (-0x241f + 0x96b * -0x2 + 0x36fc) + parseInt(_0x4abd57(0x20b)) / (-0x1731 + -0x12 * 0x1d + 0x1 * 0x1943) * (parseInt(_0x4abd57(0x215)) / (0x1661 + -0x9d6 + 0x641 * -0x2)) + -parseInt(_0x4abd57(0x245)) / (0x19e2 + 0x1d8d + 0x1277 * -0x3) * (-parseInt(_0x4abd57(0x201)) / (-0x1107 + 0x16a9 + 0x1b * -0x35)) + parseInt(_0x4abd57(0x249)) / (0x1 * 0x15d + -0x1204 + -0x357 * -0x5) * (parseInt(_0x4abd57(0x1fc)) / (0x2e8 + -0xe7d * -0x1 + -0x1158));
            if (_0x415bf4 === _0x413ce5)
                break;
            else
                _0x267d9b['push'](_0x267d9b['shift']());
        } catch (_0x464256) {
            _0x267d9b['push'](_0x267d9b['shift']());
        }
    }
}(_0x4e25, -0x54586 + 0x23e07 + -0x1c1 * -0x359));
var __awaiter = this && this[_0x42d046(0x248)] || function (_0x1d38d7, _0x3d995b, _0x3ec701, _0x5d6823) {
        const _0x507fc0 = _0x42d046, _0x44cd0b = {
                'pAfBv': function (_0x4b51e3, _0x4ea5a3) {
                    return _0x4b51e3(_0x4ea5a3);
                },
                'ecAlU': function (_0x137873, _0x4a1fa8) {
                    return _0x137873 instanceof _0x4a1fa8;
                },
                'Kuqxm': function (_0x5c904d, _0x39807a) {
                    return _0x5c904d(_0x39807a);
                },
                'ojUkR': function (_0x3ae4ea, _0x1432d5) {
                    return _0x3ae4ea(_0x1432d5);
                },
                'ZhCzj': function (_0x1c0638, _0x56fac8) {
                    return _0x1c0638(_0x56fac8);
                },
                'utUTg': _0x507fc0(0x252),
                'przSv': function (_0x6f5cbb, _0x55afaa) {
                    return _0x6f5cbb(_0x55afaa);
                }
            };
        function _0x296d09(_0xcc0b22) {
            const _0x3f05a1 = _0x507fc0, _0x470236 = {
                    'aQeAd': function (_0x529f63, _0x1b8398) {
                        const _0x5e15c4 = _0x18ca;
                        return _0x44cd0b[_0x5e15c4(0x23c)](_0x529f63, _0x1b8398);
                    }
                };
            return _0x44cd0b[_0x3f05a1(0x257)](_0xcc0b22, _0x3ec701) ? _0xcc0b22 : new _0x3ec701(function (_0x4b5ee2) {
                const _0x179052 = _0x3f05a1;
                _0x470236[_0x179052(0x216)](_0x4b5ee2, _0xcc0b22);
            });
        }
        return new (_0x3ec701 || (_0x3ec701 = Promise))(function (_0x25cc20, _0x3426b3) {
            const _0x3bb3f2 = _0x507fc0, _0x67a429 = {
                    'pRKKn': function (_0x453244, _0x316074) {
                        const _0x1b8099 = _0x18ca;
                        return _0x44cd0b[_0x1b8099(0x21f)](_0x453244, _0x316074);
                    },
                    'QsuIr': function (_0x23fb4b, _0x215137) {
                        const _0x3398eb = _0x18ca;
                        return _0x44cd0b[_0x3398eb(0x238)](_0x23fb4b, _0x215137);
                    }
                };
            function _0x359e57(_0x414011) {
                const _0x3d687f = _0x18ca;
                try {
                    _0x44cd0b[_0x3d687f(0x21f)](_0x95234f, _0x5d6823[_0x3d687f(0x1fe)](_0x414011));
                } catch (_0x453bd7) {
                    _0x44cd0b[_0x3d687f(0x1fa)](_0x3426b3, _0x453bd7);
                }
            }
            function _0x645a72(_0x11980e) {
                const _0x2004d8 = _0x18ca;
                try {
                    _0x44cd0b[_0x2004d8(0x232)](_0x95234f, _0x5d6823[_0x44cd0b[_0x2004d8(0x1f2)]](_0x11980e));
                } catch (_0x51ea86) {
                    _0x44cd0b[_0x2004d8(0x21f)](_0x3426b3, _0x51ea86);
                }
            }
            function _0x95234f(_0x1f77cc) {
                const _0xfe9700 = _0x18ca;
                _0x1f77cc[_0xfe9700(0x22c)] ? _0x67a429[_0xfe9700(0x205)](_0x25cc20, _0x1f77cc[_0xfe9700(0x256)]) : _0x67a429[_0xfe9700(0x24f)](_0x296d09, _0x1f77cc[_0xfe9700(0x256)])[_0xfe9700(0x24a)](_0x359e57, _0x645a72);
            }
            _0x44cd0b[_0x3bb3f2(0x1fa)](_0x95234f, (_0x5d6823 = _0x5d6823[_0x3bb3f2(0x225)](_0x1d38d7, _0x3d995b || []))[_0x3bb3f2(0x1fe)]());
        });
    }, __importDefault = this && this[_0x42d046(0x24e) + _0x42d046(0x25a)] || function (_0x51ee39) {
        const _0x4040e3 = _0x42d046;
        return _0x51ee39 && _0x51ee39[_0x4040e3(0x20e)] ? _0x51ee39 : { 'default': _0x51ee39 };
    };
const _0x48af85 = {};
function _0x18ca(_0x1c3869, _0x2abe98) {
    const _0x34a5cd = _0x4e25();
    return _0x18ca = function (_0x467399, _0x24ba65) {
        _0x467399 = _0x467399 - (-0x52 * 0x6d + -0x1d51 + 0x422c);
        let _0xd38d05 = _0x34a5cd[_0x467399];
        return _0xd38d05;
    }, _0x18ca(_0x1c3869, _0x2abe98);
}
_0x48af85[_0x42d046(0x256)] = !![], Object[_0x42d046(0x202) + _0x42d046(0x208)](exports, _0x42d046(0x20e), _0x48af85);
const sequelize_1 = require(_0x42d046(0x251)), wbot_1 = require(_0x42d046(0x200) + _0x42d046(0x219)), Contact_1 = __importDefault(require(_0x42d046(0x1ff) + _0x42d046(0x203))), AppError_1 = __importDefault(require(_0x42d046(0x243) + _0x42d046(0x22d) + 'r')), logger_1 = require(_0x42d046(0x20d) + _0x42d046(0x1fb)), SyncContactsWhatsappInstanceService = (_0x1cd4fc, _0x5b2e79) => __awaiter(void (-0xb4f + -0x205b * -0x1 + -0x2 * 0xa86), void (0x19 * -0x3 + 0x8a8 + -0x85d), void (0x2110 + 0x11 * 0x1cd + -0x1 * 0x3fad), function* () {
        const _0x4e4772 = _0x42d046, _0x46e456 = {};
        _0x46e456[_0x4e4772(0x23f)] = function (_0x5e95df, _0x484f4a) {
            return _0x5e95df || _0x484f4a;
        }, _0x46e456[_0x4e4772(0x1f7)] = _0x4e4772(0x211), _0x46e456[_0x4e4772(0x242)] = _0x4e4772(0x240) + _0x4e4772(0x21d) + _0x4e4772(0x217) + 'PP', _0x46e456[_0x4e4772(0x228)] = function (_0x13b3f1, _0x4a4d87) {
            return _0x13b3f1 === _0x4a4d87;
        };
        const _0x2d8951 = _0x46e456;
        var _0x168a20;
        const _0x4dffca = (-0x13 * 0x59 + -0x11 * -0x1a7 + -0x4 * 0x55f, wbot_1[_0x4e4772(0x224)])(_0x1cd4fc);
        let _0x4546f4;
        try {
            _0x4546f4 = yield _0x4dffca[_0x4e4772(0x207) + 's']();
        } catch (_0x2bc362) {
            logger_1[_0x4e4772(0x24b)][_0x4e4772(0x222)](_0x4e4772(0x236) + _0x4e4772(0x230) + _0x4e4772(0x1f5) + _0x4e4772(0x204) + _0x4e4772(0x212) + _0x4e4772(0x25f) + _0x4e4772(0x22f) + _0x4e4772(0x22b) + _0x2bc362);
        }
        if (!_0x4546f4)
            throw new AppError_1[(_0x4e4772(0x1fd))](_0x2d8951[_0x4e4772(0x242)], -0x268e + 0x711 + -0x5 * -0x69d);
        try {
            const _0x97d07d = [];
            yield Promise[_0x4e4772(0x20a)](_0x4546f4[_0x4e4772(0x237)](({
                name: _0x4104c2,
                pushname: _0x3b3de4,
                id: _0x5ed036,
                isGroup: _0x5ecece
            }) => __awaiter(void (0x14e1 + 0x4a * 0x10 + -0x1 * 0x1981), void (-0x418 + -0xbf7 * -0x3 + -0x1fcd), void (-0x1473 + 0x1 * 0x1d0 + 0x12a3), function* () {
                const _0x1a82e3 = _0x4e4772;
                if (_0x2d8951[_0x1a82e3(0x23f)](_0x4104c2, _0x3b3de4) && !_0x5ecece && _0x5ed036[_0x1a82e3(0x23b)][_0x1a82e3(0x20c)](_0x2d8951[_0x1a82e3(0x1f7)])) {
                    const _0x40e1a0 = {
                        'name': _0x4104c2 && _0x4104c2[_0x1a82e3(0x21c)]('\x27', '') || _0x3b3de4 && _0x3b3de4[_0x1a82e3(0x21c)]('\x27', ''),
                        'number': _0x5ed036[_0x1a82e3(0x233)],
                        'tenantId': _0x5b2e79
                    };
                    _0x97d07d[_0x1a82e3(0x221)](_0x40e1a0);
                }
            })));
            if (_0x97d07d[_0x4e4772(0x1f9)]) {
                const _0x41a90a = new Date()[_0x4e4772(0x254)](), _0x35c972 = _0x4e4772(0x255) + _0x4e4772(0x259) + _0x4e4772(0x23d) + _0x4e4772(0x24d) + _0x4e4772(0x1f3) + _0x4e4772(0x250) + _0x4e4772(0x22e) + _0x4e4772(0x209) + _0x4e4772(0x226) + _0x4e4772(0x24c) + _0x97d07d[_0x4e4772(0x237)](_0x2ef836 => {
                        const _0x1f3f6a = _0x4e4772;
                        return '(\x27' + _0x2ef836[_0x1f3f6a(0x25c)] + (_0x1f3f6a(0x206) + _0x1f3f6a(0x229)) + _0x2ef836[_0x1f3f6a(0x231)] + (_0x1f3f6a(0x206) + _0x1f3f6a(0x229)) + _0x2ef836[_0x1f3f6a(0x223)] + (_0x1f3f6a(0x206) + _0x1f3f6a(0x229)) + _0x41a90a + (_0x1f3f6a(0x25b) + _0x1f3f6a(0x253) + _0x1f3f6a(0x258)) + _0x41a90a + (_0x1f3f6a(0x25b) + _0x1f3f6a(0x239));
                    })[_0x4e4772(0x234)](',') + (_0x4e4772(0x218) + _0x4e4772(0x21e) + _0x4e4772(0x23a) + _0x4e4772(0x1f3) + _0x4e4772(0x23e) + _0x4e4772(0x22a) + _0x4e4772(0x247) + _0x4e4772(0x1f8) + _0x4e4772(0x220) + _0x4e4772(0x1f4) + _0x4e4772(0x1f1) + _0x4e4772(0x227)), _0x4d8afe = {};
                _0x4d8afe[_0x4e4772(0x246)] = sequelize_1[_0x4e4772(0x1f6)][_0x4e4772(0x25d)], _0x4d8afe[_0x4e4772(0x214)] = console[_0x4e4772(0x241)], yield _0x2d8951[_0x4e4772(0x228)](_0x168a20 = Contact_1[_0x4e4772(0x1fd)][_0x4e4772(0x251)], null) || _0x2d8951[_0x4e4772(0x228)](_0x168a20, void (0x1a12 + 0x1228 + -0x2c3a)) ? void (-0x23a2 + -0x23cf + 0x1 * 0x4771) : _0x168a20[_0x4e4772(0x244)](_0x35c972, _0x4d8afe);
            }
        } catch (_0x53b4d9) {
            console[_0x4e4772(0x222)](_0x53b4d9);
            throw new Error(_0x53b4d9);
        }
    });
exports[_0x42d046(0x1fd)] = SyncContactsWhatsappInstanceService;
function _0x4e25() {
    const _0x4263a5 = [
        'QsuIr',
        'd\x22,\x20\x22creat',
        'sequelize',
        'throw',
        'mp,\x0a\x20\x20\x20\x20\x20\x20',
        'toJSON',
        'INSERT\x20INT',
        'value',
        'ecAlU',
        '\x20\x20\x20\x20\x20\x20\x27',
        'O\x20\x22Contact',
        'fault',
        '\x27::timesta',
        'number',
        'INSERT',
        '335721fVwscS',
        'connection',
        'DED.\x22numbe',
        'utUTg',
        ',\x20\x22tenantI',
        'r\x22\x20=\x20EXCLU',
        'pp\x20contact',
        'QueryTypes',
        'SIHcy',
        'LUDED.\x22nam',
        'length',
        'ojUkR',
        's/logger',
        '126698BIzUbj',
        'default',
        'next',
        '../../mode',
        '../../libs',
        '11gADxIB',
        'defineProp',
        'ls/Contact',
        's\x20from\x20pho',
        'pRKKn',
        '\x27,\x0a\x20\x20\x20\x20\x20\x20\x20',
        'getContact',
        'erty',
        'datedAt\x22)\x20',
        'all',
        '8ahdPGe',
        'includes',
        '../../util',
        '__esModule',
        '9075SLCaBZ',
        '37998CPWNab',
        'c.us',
        'ne.\x20Check\x20',
        '92DDWIUi',
        'logging',
        '116541VlpyGX',
        'aQeAd',
        'STS_WHATSA',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20O',
        '/wbot',
        '2quYkOZ',
        '114WddmqY',
        'replace',
        'TS_NOT_EXI',
        'N\x20CONFLICT',
        'Kuqxm',
        'e\x22,\x20\x22numbe',
        'push',
        'error',
        'tenantId',
        'getWbot',
        'apply',
        'VALUES\x0a\x20\x20\x20',
        'r\x22;',
        'XKCFb',
        '\x20\x20\x20\x20\x20\x27',
        'ATE\x20SET\x20\x22n',
        'rror:\x20',
        'done',
        'rs/AppErro',
        'edAt\x22,\x20\x22up',
        '\x20page.\x20|\x20E',
        'get\x20whatsa',
        'name',
        'ZhCzj',
        'user',
        'join',
        '947016PocvPR',
        'Could\x20not\x20',
        'map',
        'przSv',
        'mp)',
        '\x20(\x22number\x22',
        'server',
        'pAfBv',
        's\x22\x20(\x22numbe',
        'd\x22)\x20DO\x20UPD',
        'EXfFO',
        'ERR_CONTAC',
        'log',
        'bzxVF',
        '../../erro',
        'query',
        '584410zbhgua',
        'type',
        'ame\x22\x20=\x20EXC',
        '__awaiter',
        '72zBDOyE',
        'then',
        'logger',
        '\x20\x20\x20\x20\x20',
        'r\x22,\x20\x22name\x22',
        '__importDe'
    ];
    _0x4e25 = function () {
        return _0x4263a5;
    };
    return _0x4e25();
}