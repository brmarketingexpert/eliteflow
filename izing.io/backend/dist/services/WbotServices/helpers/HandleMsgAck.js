'use strict';
const _0x2e3d02 = _0x4473;
(function (_0x5c6a08, _0x1b63fe) {
    const _0x24a072 = _0x4473, _0x1338c3 = _0x5c6a08();
    while (!![]) {
        try {
            const _0x1ab910 = -parseInt(_0x24a072(0x184)) / (-0x1 * 0x1307 + -0x34f + 0x1657 * 0x1) + -parseInt(_0x24a072(0x151)) / (-0x77d * 0x1 + 0x5ae * 0x3 + -0x15d * 0x7) + -parseInt(_0x24a072(0x185)) / (-0x6b * 0x24 + 0x5 * -0x177 + 0x1662) * (parseInt(_0x24a072(0x15e)) / (-0x5d2 * -0x1 + -0x166 * 0x10 + 0x7 * 0x25e)) + parseInt(_0x24a072(0x187)) / (-0x2511 + 0xfda + -0x714 * -0x3) * (-parseInt(_0x24a072(0x17d)) / (0x1524 + 0x6d1 * -0x5 + 0xcf7)) + parseInt(_0x24a072(0x16c)) / (0x2015 + -0x7e4 + -0x182a) * (-parseInt(_0x24a072(0x145)) / (-0x109f + 0x209 * 0x1 + 0x2 * 0x74f)) + -parseInt(_0x24a072(0x183)) / (-0x584 * 0x7 + -0x2482 + 0x1 * 0x4b27) + parseInt(_0x24a072(0x176)) / (-0xf44 + -0x107b + 0x1fc9);
            if (_0x1ab910 === _0x1b63fe)
                break;
            else
                _0x1338c3['push'](_0x1338c3['shift']());
        } catch (_0x5c175e) {
            _0x1338c3['push'](_0x1338c3['shift']());
        }
    }
}(_0x1065, 0x84efd + -0x1cf * -0x551 + -0xa8f3f));
function _0x4473(_0x4d3ba6, _0x347bd6) {
    const _0x40db23 = _0x1065();
    return _0x4473 = function (_0x220d59, _0x3e94fc) {
        _0x220d59 = _0x220d59 - (0x1675 + -0x25bd * -0x1 + -0x3aee);
        let _0x7d030f = _0x40db23[_0x220d59];
        return _0x7d030f;
    }, _0x4473(_0x4d3ba6, _0x347bd6);
}
var __awaiter = this && this[_0x2e3d02(0x17c)] || function (_0x3fa6d5, _0x2e100a, _0x1877d5, _0x5b643a) {
        const _0x439fd7 = _0x2e3d02, _0x93b6db = {
                'fQPQi': function (_0x167c31, _0x194e45) {
                    return _0x167c31(_0x194e45);
                },
                'yIRcZ': function (_0x59bcbe, _0x4b2993) {
                    return _0x59bcbe instanceof _0x4b2993;
                },
                'pXqAn': _0x439fd7(0x17e),
                'LGWdQ': function (_0x22d2cc, _0x45fd60) {
                    return _0x22d2cc(_0x45fd60);
                },
                'CnNGC': function (_0x100726, _0x1f2ad3) {
                    return _0x100726(_0x1f2ad3);
                }
            };
        function _0x3b8415(_0x34e72f) {
            const _0x538f58 = _0x439fd7, _0x4cd7fe = {
                    'DdMbN': function (_0x29d04e, _0x19ef58) {
                        const _0x456663 = _0x4473;
                        return _0x93b6db[_0x456663(0x174)](_0x29d04e, _0x19ef58);
                    }
                };
            return _0x93b6db[_0x538f58(0x14f)](_0x34e72f, _0x1877d5) ? _0x34e72f : new _0x1877d5(function (_0x8721ec) {
                const _0x5d8dce = _0x538f58;
                _0x4cd7fe[_0x5d8dce(0x152)](_0x8721ec, _0x34e72f);
            });
        }
        return new (_0x1877d5 || (_0x1877d5 = Promise))(function (_0x3d3fbc, _0x1b2659) {
            const _0x426ed7 = _0x439fd7, _0x2cadca = {
                    'fgSPv': function (_0x355178, _0xa91fc7) {
                        const _0x31be51 = _0x4473;
                        return _0x93b6db[_0x31be51(0x197)](_0x355178, _0xa91fc7);
                    },
                    'jRbUp': function (_0x5f0b9d, _0x2a10c8) {
                        const _0x121513 = _0x4473;
                        return _0x93b6db[_0x121513(0x197)](_0x5f0b9d, _0x2a10c8);
                    },
                    'qbYJy': function (_0x4e0ca1, _0xe80e2) {
                        const _0x15aa00 = _0x4473;
                        return _0x93b6db[_0x15aa00(0x15c)](_0x4e0ca1, _0xe80e2);
                    }
                };
            function _0x16b040(_0x53e4a3) {
                const _0x38f252 = _0x4473;
                try {
                    _0x2cadca[_0x38f252(0x182)](_0x295893, _0x5b643a[_0x38f252(0x175)](_0x53e4a3));
                } catch (_0x44bfaf) {
                    _0x2cadca[_0x38f252(0x15f)](_0x1b2659, _0x44bfaf);
                }
            }
            function _0x4d55ac(_0x522186) {
                const _0x21474e = _0x4473;
                try {
                    _0x93b6db[_0x21474e(0x174)](_0x295893, _0x5b643a[_0x93b6db[_0x21474e(0x155)]](_0x522186));
                } catch (_0x27893b) {
                    _0x93b6db[_0x21474e(0x197)](_0x1b2659, _0x27893b);
                }
            }
            function _0x295893(_0x37466f) {
                const _0x1f571b = _0x4473;
                _0x37466f[_0x1f571b(0x150)] ? _0x2cadca[_0x1f571b(0x15d)](_0x3d3fbc, _0x37466f[_0x1f571b(0x146)]) : _0x2cadca[_0x1f571b(0x15f)](_0x3b8415, _0x37466f[_0x1f571b(0x146)])[_0x1f571b(0x171)](_0x16b040, _0x4d55ac);
            }
            _0x93b6db[_0x426ed7(0x197)](_0x295893, (_0x5b643a = _0x5b643a[_0x426ed7(0x158)](_0x3fa6d5, _0x2e100a || []))[_0x426ed7(0x175)]());
        });
    }, __importDefault = this && this[_0x2e3d02(0x180) + _0x2e3d02(0x179)] || function (_0x3b2b6d) {
        const _0x2d7841 = _0x2e3d02;
        return _0x3b2b6d && _0x3b2b6d[_0x2d7841(0x166)] ? _0x3b2b6d : { 'default': _0x3b2b6d };
    };
const _0x1bbd74 = {};
_0x1bbd74[_0x2e3d02(0x146)] = !![], Object[_0x2e3d02(0x163) + _0x2e3d02(0x159)](exports, _0x2e3d02(0x166), _0x1bbd74);
function _0x1065() {
    const _0xe09e00 = [
        '19274dJtCMy',
        'DdMbN',
        'Status',
        'axbOe',
        'pXqAn',
        'apiConfig',
        'YQWky',
        'apply',
        'erty',
        'tenantId',
        'ibs/Queue',
        'CnNGC',
        'qbYJy',
        '129112KxlWZW',
        'jRbUp',
        'chat:ack',
        'update',
        'ack',
        'defineProp',
        '../../../u',
        'authToken',
        '__esModule',
        'odels/Mess',
        'CZcYb',
        'tils/logge',
        'externalKe',
        'YyrAB',
        '7TVUOca',
        'elpers/soc',
        'ticket',
        'ZlxVt',
        'oZPVN',
        'then',
        'odels/Tick',
        'zBYtn',
        'fQPQi',
        'next',
        '32620880uvypCv',
        'odels/ApiM',
        'urlMessage',
        'fault',
        '../../../h',
        'itUeM',
        '__awaiter',
        '1036428DQIkWT',
        'throw',
        'hookMessag',
        '__importDe',
        'add',
        'fgSPv',
        '5535531WwDeWo',
        '926261lYrYmq',
        '27UlExYi',
        '../../../m',
        '5IfqBMH',
        'essage',
        'pTLHL',
        'default',
        'age',
        'payload',
        'where',
        'contact',
        'cxNbQ',
        'error',
        'HtyCm',
        'WebHooksAP',
        '../../../l',
        'odels/Camp',
        'logger',
        'quotedMsg',
        'LGWdQ',
        'eStatus',
        '6122160PnZKKE',
        'value',
        'SYBIG',
        'url',
        'findOne',
        'messageId',
        'ketEmit',
        'iIoDN',
        'aignContac',
        'type',
        'yIRcZ',
        'done'
    ];
    _0x1065 = function () {
        return _0xe09e00;
    };
    return _0x1065();
}
const Message_1 = __importDefault(require(_0x2e3d02(0x186) + _0x2e3d02(0x167) + _0x2e3d02(0x18b))), Ticket_1 = __importDefault(require(_0x2e3d02(0x186) + _0x2e3d02(0x172) + 'et')), logger_1 = require(_0x2e3d02(0x164) + _0x2e3d02(0x169) + 'r'), CampaignContacts_1 = __importDefault(require(_0x2e3d02(0x186) + _0x2e3d02(0x194) + _0x2e3d02(0x14d) + 'ts')), ApiMessage_1 = __importDefault(require(_0x2e3d02(0x186) + _0x2e3d02(0x177) + _0x2e3d02(0x188))), socketEmit_1 = __importDefault(require(_0x2e3d02(0x17a) + _0x2e3d02(0x16d) + _0x2e3d02(0x14b))), Queue_1 = __importDefault(require(_0x2e3d02(0x193) + _0x2e3d02(0x15b))), HandleMsgAck = (_0x427a8c, _0x23975d) => __awaiter(void (0x1bfd + -0x2670 + 0x5 * 0x217), void (-0x21e7 + -0xb92 + 0x2d79), void (0x25b9 + 0x1 * -0x2363 + -0x2e * 0xd), function* () {
        const _0x3ecbaf = _0x2e3d02, _0x1a2f1c = {};
        _0x1a2f1c[_0x3ecbaf(0x170)] = function (_0x22135c, _0x135586) {
            return _0x22135c === _0x135586;
        }, _0x1a2f1c[_0x3ecbaf(0x168)] = _0x3ecbaf(0x18e), _0x1a2f1c[_0x3ecbaf(0x17b)] = _0x3ecbaf(0x16e), _0x1a2f1c[_0x3ecbaf(0x157)] = _0x3ecbaf(0x15a), _0x1a2f1c[_0x3ecbaf(0x173)] = _0x3ecbaf(0x156), _0x1a2f1c[_0x3ecbaf(0x16f)] = _0x3ecbaf(0x196), _0x1a2f1c[_0x3ecbaf(0x147)] = _0x3ecbaf(0x160), _0x1a2f1c[_0x3ecbaf(0x14c)] = function (_0x36cd2b, _0x139fe0) {
            return _0x36cd2b === _0x139fe0;
        }, _0x1a2f1c[_0x3ecbaf(0x16b)] = function (_0x415abe, _0x184b17) {
            return _0x415abe === _0x184b17;
        }, _0x1a2f1c[_0x3ecbaf(0x191)] = function (_0x1df8a1, _0x315678) {
            return _0x1df8a1 === _0x315678;
        }, _0x1a2f1c[_0x3ecbaf(0x189)] = function (_0xfd1c35, _0x240d35) {
            return _0xfd1c35 === _0x240d35;
        }, _0x1a2f1c[_0x3ecbaf(0x18f)] = _0x3ecbaf(0x17f) + _0x3ecbaf(0x144), _0x1a2f1c[_0x3ecbaf(0x154)] = _0x3ecbaf(0x192) + 'I';
        const _0xb46d6f = _0x1a2f1c;
        yield new Promise(_0x550304 => setTimeout(_0x550304, -0x127 * -0x1f + 0x3c * -0x20 + 0x1 * -0x1a45));
        if (_0xb46d6f[_0x3ecbaf(0x170)](_0x23975d, null))
            return;
        try {
            const _0x1046f4 = {};
            _0x1046f4[_0x3ecbaf(0x14a)] = _0x427a8c['id']['id'];
            const _0x3df7f9 = yield Message_1[_0x3ecbaf(0x18a)][_0x3ecbaf(0x149)]({
                'where': _0x1046f4,
                'include': [
                    _0xb46d6f[_0x3ecbaf(0x168)],
                    {
                        'model': Ticket_1[_0x3ecbaf(0x18a)],
                        'as': _0xb46d6f[_0x3ecbaf(0x17b)],
                        'attributes': [
                            'id',
                            _0xb46d6f[_0x3ecbaf(0x157)],
                            _0xb46d6f[_0x3ecbaf(0x173)]
                        ]
                    },
                    {
                        'model': Message_1[_0x3ecbaf(0x18a)],
                        'as': _0xb46d6f[_0x3ecbaf(0x16f)],
                        'include': [_0xb46d6f[_0x3ecbaf(0x168)]]
                    }
                ]
            });
            if (_0x3df7f9) {
                const _0x14bffe = {};
                _0x14bffe[_0x3ecbaf(0x162)] = _0x23975d, yield _0x3df7f9[_0x3ecbaf(0x161)](_0x14bffe);
                const {ticket: _0x566516} = _0x3df7f9, _0x215844 = {};
                _0x215844[_0x3ecbaf(0x15a)] = _0x566516[_0x3ecbaf(0x15a)], _0x215844[_0x3ecbaf(0x14e)] = _0xb46d6f[_0x3ecbaf(0x147)], _0x215844[_0x3ecbaf(0x18c)] = _0x3df7f9, (-0xdbe + -0x1099 * -0x1 + -0x2db, socketEmit_1[_0x3ecbaf(0x18a)])(_0x215844);
                const _0x5a464a = _0x566516[_0x3ecbaf(0x156)] || {};
                if ((_0xb46d6f[_0x3ecbaf(0x14c)](_0x5a464a, null) || _0xb46d6f[_0x3ecbaf(0x16b)](_0x5a464a, void (-0x1 * -0xf89 + -0x5e6 * -0x2 + 0x1b55 * -0x1)) ? void (-0x14 + 0x1 * -0x1fcc + 0x1fe0) : _0x5a464a[_0x3ecbaf(0x16a) + 'y']) && (_0xb46d6f[_0x3ecbaf(0x191)](_0x5a464a, null) || _0xb46d6f[_0x3ecbaf(0x16b)](_0x5a464a, void (-0x6b * 0x49 + -0x23a8 + -0xd * -0x517)) ? void (-0x505 * -0x1 + 0x1be5 + -0x2fe * 0xb) : _0x5a464a[_0x3ecbaf(0x178) + _0x3ecbaf(0x153)])) {
                    const _0x4bd135 = {
                            'ack': _0x23975d,
                            'messageId': _0x427a8c['id']['id'],
                            'ticketId': _0x566516['id'],
                            'externalKey': _0xb46d6f[_0x3ecbaf(0x189)](_0x5a464a, null) || _0xb46d6f[_0x3ecbaf(0x170)](_0x5a464a, void (0x516 + -0xf38 + -0x2 * -0x511)) ? void (0x16c9 + 0x160c + 0x1 * -0x2cd5) : _0x5a464a[_0x3ecbaf(0x16a) + 'y'],
                            'authToken': _0xb46d6f[_0x3ecbaf(0x170)](_0x5a464a, null) || _0xb46d6f[_0x3ecbaf(0x189)](_0x5a464a, void (0x1240 * 0x2 + -0xc0b + -0x827 * 0x3)) ? void (-0x1c20 + 0x1 * -0xceb + 0x290b) : _0x5a464a[_0x3ecbaf(0x165)],
                            'type': _0xb46d6f[_0x3ecbaf(0x18f)]
                        }, _0x396ed6 = {};
                    _0x396ed6[_0x3ecbaf(0x148)] = _0x5a464a[_0x3ecbaf(0x178) + _0x3ecbaf(0x153)], _0x396ed6[_0x3ecbaf(0x14e)] = _0x4bd135[_0x3ecbaf(0x14e)], _0x396ed6[_0x3ecbaf(0x18c)] = _0x4bd135, Queue_1[_0x3ecbaf(0x18a)][_0x3ecbaf(0x181)](_0xb46d6f[_0x3ecbaf(0x154)], _0x396ed6);
                }
            }
            const _0xdc6c2f = {};
            _0xdc6c2f[_0x3ecbaf(0x14a)] = _0x427a8c['id']['id'];
            const _0x3e5609 = {};
            _0x3e5609[_0x3ecbaf(0x18d)] = _0xdc6c2f;
            const _0x38a88f = yield ApiMessage_1[_0x3ecbaf(0x18a)][_0x3ecbaf(0x149)](_0x3e5609);
            if (_0x38a88f) {
                const _0x472a76 = {};
                _0x472a76[_0x3ecbaf(0x162)] = _0x23975d, yield _0x38a88f[_0x3ecbaf(0x161)](_0x472a76);
            }
            const _0x3de62d = {};
            _0x3de62d[_0x3ecbaf(0x14a)] = _0x427a8c['id']['id'];
            const _0x3a6871 = {};
            _0x3a6871[_0x3ecbaf(0x18d)] = _0x3de62d;
            const _0x1a325b = yield CampaignContacts_1[_0x3ecbaf(0x18a)][_0x3ecbaf(0x149)](_0x3a6871);
            if (_0x1a325b) {
                const _0x2da45d = {};
                _0x2da45d[_0x3ecbaf(0x162)] = _0x23975d, yield _0x1a325b[_0x3ecbaf(0x161)](_0x2da45d);
            }
        } catch (_0x4a7695) {
            logger_1[_0x3ecbaf(0x195)][_0x3ecbaf(0x190)](_0x4a7695);
        }
    });
exports[_0x2e3d02(0x18a)] = HandleMsgAck;