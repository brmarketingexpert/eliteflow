'use strict';
const _0x3e24d3 = _0x5503;
(function (_0x1483b0, _0x3fc36c) {
    const _0x4f5e5c = _0x5503, _0x171050 = _0x1483b0();
    while (!![]) {
        try {
            const _0x5cbedf = -parseInt(_0x4f5e5c(0x17f)) / (-0x13de + 0x1 * -0xfd7 + 0x23b6) * (-parseInt(_0x4f5e5c(0x164)) / (0x41e * 0x1 + -0x1c99 + -0x187d * -0x1)) + -parseInt(_0x4f5e5c(0x182)) / (-0xdbf + 0x55 * 0x6 + 0xbc4) * (parseInt(_0x4f5e5c(0x1d3)) / (0x1361 + -0xd73 + 0x5ea * -0x1)) + parseInt(_0x4f5e5c(0x1cd)) / (-0x11df + -0x31c * -0x7 + -0x2 * 0x1f0) * (parseInt(_0x4f5e5c(0x177)) / (0x7f * -0xa + 0x1 * -0x2705 + 0x2c01)) + parseInt(_0x4f5e5c(0x15a)) / (0xf * 0xb7 + -0x32 + -0x2 * 0x540) + parseInt(_0x4f5e5c(0x18a)) / (0xc5a + 0x177 * 0x13 + -0x2827) + parseInt(_0x4f5e5c(0x1b5)) / (0x5d * -0x57 + -0xd7 * -0xb + 0x1667) * (-parseInt(_0x4f5e5c(0x1c6)) / (-0xbff + 0x7 * 0x19b + 0xcc)) + parseInt(_0x4f5e5c(0x187)) / (0x23b0 + -0x3 * 0x55d + 0x9c7 * -0x2) * (-parseInt(_0x4f5e5c(0x17b)) / (0x1adf * -0x1 + -0x1f * -0xf + -0x6 * -0x42f));
            if (_0x5cbedf === _0x3fc36c)
                break;
            else
                _0x171050['push'](_0x171050['shift']());
        } catch (_0x6053ec) {
            _0x171050['push'](_0x171050['shift']());
        }
    }
}(_0xba6d, -0x10f4f9 + -0x375d * -0x3c + 0x7217 * 0x23));
function _0x5503(_0x2f054e, _0x104238) {
    const _0x54b604 = _0xba6d();
    return _0x5503 = function (_0x14ba98, _0x4af38b) {
        _0x14ba98 = _0x14ba98 - (-0xb16 + -0x12c8 * -0x2 + -0x1927);
        let _0x14227c = _0x54b604[_0x14ba98];
        return _0x14227c;
    }, _0x5503(_0x2f054e, _0x104238);
}
var __awaiter = this && this[_0x3e24d3(0x194)] || function (_0x3708eb, _0x345b81, _0x3002fb, _0x23572b) {
        const _0x13e3eb = _0x3e24d3, _0x5ba2c7 = {
                'QTjjZ': function (_0x1ae3c9, _0x3609b7) {
                    return _0x1ae3c9(_0x3609b7);
                },
                'rBraZ': function (_0x97abd6, _0x510842) {
                    return _0x97abd6 instanceof _0x510842;
                },
                'CMfsJ': function (_0x1099f7, _0x33208a) {
                    return _0x1099f7(_0x33208a);
                },
                'VZauO': _0x13e3eb(0x167),
                'tcrLk': function (_0x4b74f6, _0x2897a7) {
                    return _0x4b74f6(_0x2897a7);
                }
            };
        function _0x358ede(_0x4e1e1b) {
            const _0x53edca = _0x13e3eb, _0xd15cea = {
                    'hgfMV': function (_0x3e4fa2, _0x1e83b0) {
                        const _0x1b5a6f = _0x5503;
                        return _0x5ba2c7[_0x1b5a6f(0x17a)](_0x3e4fa2, _0x1e83b0);
                    }
                };
            return _0x5ba2c7[_0x53edca(0x1c7)](_0x4e1e1b, _0x3002fb) ? _0x4e1e1b : new _0x3002fb(function (_0x43b118) {
                const _0x433783 = _0x53edca;
                _0xd15cea[_0x433783(0x1a2)](_0x43b118, _0x4e1e1b);
            });
        }
        return new (_0x3002fb || (_0x3002fb = Promise))(function (_0x27d39c, _0x4ff1ea) {
            const _0x56f119 = _0x13e3eb;
            function _0xfe5c8(_0x1d30a4) {
                const _0x1713ee = _0x5503;
                try {
                    _0x5ba2c7[_0x1713ee(0x17a)](_0x45f164, _0x23572b[_0x1713ee(0x1a6)](_0x1d30a4));
                } catch (_0x1f228f) {
                    _0x5ba2c7[_0x1713ee(0x17a)](_0x4ff1ea, _0x1f228f);
                }
            }
            function _0xa880(_0x30f185) {
                const _0x1ad188 = _0x5503;
                try {
                    _0x5ba2c7[_0x1ad188(0x1be)](_0x45f164, _0x23572b[_0x5ba2c7[_0x1ad188(0x1ca)]](_0x30f185));
                } catch (_0x5a057b) {
                    _0x5ba2c7[_0x1ad188(0x155)](_0x4ff1ea, _0x5a057b);
                }
            }
            function _0x45f164(_0x18f662) {
                const _0x38eccf = _0x5503;
                _0x18f662[_0x38eccf(0x1a8)] ? _0x5ba2c7[_0x38eccf(0x155)](_0x27d39c, _0x18f662[_0x38eccf(0x195)]) : _0x5ba2c7[_0x38eccf(0x1be)](_0x358ede, _0x18f662[_0x38eccf(0x195)])[_0x38eccf(0x162)](_0xfe5c8, _0xa880);
            }
            _0x5ba2c7[_0x56f119(0x17a)](_0x45f164, (_0x23572b = _0x23572b[_0x56f119(0x191)](_0x3708eb, _0x345b81 || []))[_0x56f119(0x1a6)]());
        });
    }, __importDefault = this && this[_0x3e24d3(0x1c1) + _0x3e24d3(0x181)] || function (_0xae89d9) {
        const _0x41db39 = _0x3e24d3;
        return _0xae89d9 && _0xae89d9[_0x41db39(0x1d2)] ? _0xae89d9 : { 'default': _0xae89d9 };
    };
const _0xedd036 = {};
_0xedd036[_0x3e24d3(0x195)] = !![], Object[_0x3e24d3(0x1a9) + _0x3e24d3(0x1b9)](exports, _0x3e24d3(0x1d2), _0xedd036);
function _0xba6d() {
    const _0x315405 = [
        'channel',
        'tQvDN',
        'sChatFlowT',
        'wServices/',
        'now',
        'uZAYP',
        'isFarewell',
        'key',
        'CHAT:\x20',
        'unreadCoun',
        'fetchMessa',
        '19611mHGedm',
        'authToken',
        'replace',
        'TicketServ',
        'erty',
        'ndOrCreate',
        'WebHooksAP',
        'tenantId',
        'fromMe',
        'CMfsJ',
        'Erro\x20ao\x20sy',
        'getChats',
        '__importDe',
        'findOne',
        'where',
        'type',
        'VerifyMedi',
        '4370YCaaca',
        'rBraZ',
        'Lnruf',
        'default',
        'VZauO',
        'VerifyMess',
        'split',
        '130Yqauee',
        'VJPbe',
        'payload',
        'MSG:\x20',
        'bidden\x20war',
        '__esModule',
        '12mJGNSF',
        'aBtKR',
        'WhHMv',
        'ZDRdF',
        'whatsapp',
        'tcrLk',
        'AESjh',
        'EMWTI',
        'map',
        'apiConfig',
        '7843563vvZkPz',
        'ice',
        'urlMessage',
        'VerifyCont',
        'isCampaign',
        'hasMedia',
        's/logger',
        'ycIng',
        'then',
        '../../mode',
        '3218VqfIlz',
        'includes',
        'number',
        'throw',
        'Message',
        'phvlX',
        'ages',
        'isSync',
        '../ChatFlo',
        'age',
        'error',
        'LEYoc',
        'info',
        'AyReY',
        'ning.',
        'VerifyStep',
        'ivFLm',
        'ges',
        'add',
        '255306FPdUPr',
        'Status',
        'ervices/Fi',
        'QTjjZ',
        '7173588XqMZrU',
        'irlZR',
        'forbiddenN',
        '../../libs',
        '187IYGZkN',
        'aMessage',
        'fault',
        '703503xjhYBc',
        'url',
        'all',
        'ryEpB',
        'length',
        '11Dofkku',
        'answered',
        'externalKe',
        '3897144oLgjgW',
        'icket',
        '../../util',
        'isGroup',
        'Number\x20for',
        'hookMessag',
        'ncronizar\x20',
        'apply',
        './helpers/',
        'ls/Setting',
        '__awaiter',
        'value',
        'logger',
        'umbers',
        'aDGfg',
        'warn',
        'mensagens',
        'GGGkM',
        'oTuGo',
        'whatsappId',
        'act',
        'unreadMess',
        'getContact',
        'contact',
        'hgfMV',
        '/Queue',
        '../TicketS',
        'Number\x20',
        'next',
        '\x20forbidden',
        'done',
        'defineProp'
    ];
    _0xba6d = function () {
        return _0x315405;
    };
    return _0xba6d();
}
const Queue_1 = __importDefault(require(_0x3e24d3(0x17e) + _0x3e24d3(0x1a3))), logger_1 = require(_0x3e24d3(0x18c) + _0x3e24d3(0x160)), VerifyStepsChatFlowTicket_1 = __importDefault(require(_0x3e24d3(0x16c) + _0x3e24d3(0x1ad) + _0x3e24d3(0x173) + _0x3e24d3(0x1ac) + _0x3e24d3(0x18b))), FindOrCreateTicketService_1 = __importDefault(require(_0x3e24d3(0x1a4) + _0x3e24d3(0x179) + _0x3e24d3(0x1ba) + _0x3e24d3(0x1b8) + _0x3e24d3(0x15b))), VerifyContact_1 = __importDefault(require(_0x3e24d3(0x192) + _0x3e24d3(0x15d) + _0x3e24d3(0x19e))), VerifyMediaMessage_1 = __importDefault(require(_0x3e24d3(0x192) + _0x3e24d3(0x1c5) + _0x3e24d3(0x180))), VerifyMessage_1 = __importDefault(require(_0x3e24d3(0x192) + _0x3e24d3(0x1cb) + _0x3e24d3(0x16d))), Setting_1 = __importDefault(require(_0x3e24d3(0x163) + _0x3e24d3(0x193))), SyncUnreadMessagesWbot = (_0xad1fc7, _0x545f4c) => __awaiter(void (-0xd0e + 0xfdf + 0x67 * -0x7), void (-0x141e + 0x1 * -0xc47 + -0x2065 * -0x1), void (0x1b85 + 0x6bb * -0x5 + -0x13a * -0x5), function* () {
        const _0x35c4aa = _0x3e24d3, _0x47ee79 = {};
        _0x47ee79[_0x35c4aa(0x1ce)] = function (_0x3920f2, _0x40d41c) {
            return _0x3920f2 === _0x40d41c;
        }, _0x47ee79[_0x35c4aa(0x19b)] = function (_0x5e1f8d, _0xd09e4f) {
            return _0x5e1f8d - _0xd09e4f;
        }, _0x47ee79[_0x35c4aa(0x153)] = function (_0x9be247, _0x2f9ffd) {
            return _0x9be247 === _0x2f9ffd;
        }, _0x47ee79[_0x35c4aa(0x17c)] = function (_0x5c36f4, _0x2dc652) {
            return _0x5c36f4 === _0x2dc652;
        }, _0x47ee79[_0x35c4aa(0x16f)] = function (_0x5477ee, _0x122551) {
            return _0x5477ee === _0x122551;
        }, _0x47ee79[_0x35c4aa(0x1d5)] = function (_0x272268, _0x5c9cc0) {
            return _0x272268 === _0x5c9cc0;
        }, _0x47ee79[_0x35c4aa(0x1ab)] = function (_0x7121cf, _0x41bc86) {
            return _0x7121cf === _0x41bc86;
        }, _0x47ee79[_0x35c4aa(0x169)] = _0x35c4aa(0x18f) + 'e', _0x47ee79[_0x35c4aa(0x171)] = _0x35c4aa(0x1bb) + 'I', _0x47ee79[_0x35c4aa(0x174)] = function (_0x5ce44b, _0x2bc081) {
            return _0x5ce44b > _0x2bc081;
        }, _0x47ee79[_0x35c4aa(0x156)] = _0x35c4aa(0x17d) + _0x35c4aa(0x197), _0x47ee79[_0x35c4aa(0x157)] = function (_0x323594, _0x1a197e) {
            return _0x323594 + _0x1a197e;
        }, _0x47ee79[_0x35c4aa(0x185)] = function (_0x582059, _0x2d57fc) {
            return _0x582059 + _0x2d57fc;
        }, _0x47ee79[_0x35c4aa(0x1c8)] = _0x35c4aa(0x1a5), _0x47ee79[_0x35c4aa(0x1d4)] = _0x35c4aa(0x1a7) + '.', _0x47ee79[_0x35c4aa(0x198)] = _0x35c4aa(0x18e) + _0x35c4aa(0x1d1) + _0x35c4aa(0x172), _0x47ee79[_0x35c4aa(0x19c)] = _0x35c4aa(0x154), _0x47ee79[_0x35c4aa(0x161)] = function (_0x197128, _0x3e9a00) {
            return _0x197128 === _0x3e9a00;
        }, _0x47ee79[_0x35c4aa(0x1af)] = _0x35c4aa(0x1bf) + _0x35c4aa(0x190) + _0x35c4aa(0x19a);
        const _0x3a353d = _0x47ee79;
        try {
            const _0x12917a = yield _0xad1fc7[_0x35c4aa(0x1c0)]();
            yield Promise[_0x35c4aa(0x184)](_0x12917a[_0x35c4aa(0x158)](_0x30aa86 => __awaiter(void (-0x17b * 0x13 + -0x1508 + 0xf * 0x347), void (0x1a36 + 0x1743 + -0x3179), void (-0x953 + -0x15c7 + -0xf8d * -0x2), function* () {
                const _0x366de1 = _0x35c4aa;
                if (_0x3a353d[_0x366de1(0x174)](_0x30aa86[_0x366de1(0x1b3) + 't'], 0xcc8 + 0x1ab4 + -0x13 * 0x214)) {
                    const _0x44e164 = yield _0x30aa86[_0x366de1(0x1b4) + _0x366de1(0x175)]({ 'limit': _0x30aa86[_0x366de1(0x1b3) + 't'] });
                    logger_1[_0x366de1(0x196)][_0x366de1(0x170)](_0x366de1(0x1b2) + _0x30aa86);
                    if (_0x30aa86[_0x366de1(0x18d)])
                        return;
                    const _0x4e1bac = yield _0x30aa86[_0x366de1(0x1a0)](), _0x267893 = yield (-0x171f * 0x1 + -0x485 * 0x8 + 0x3b47, VerifyContact_1[_0x366de1(0x1c9)])(_0x4e1bac, _0x545f4c);
                    try {
                        const _0x34e64d = {};
                        _0x34e64d[_0x366de1(0x1b1)] = _0x3a353d[_0x366de1(0x156)], _0x34e64d[_0x366de1(0x1bc)] = _0x545f4c;
                        const _0x11f590 = {};
                        _0x11f590[_0x366de1(0x1c3)] = _0x34e64d;
                        const _0x1ffd8f = yield Setting_1[_0x366de1(0x1c9)][_0x366de1(0x1c2)](_0x11f590);
                        if (_0x1ffd8f && _0x1ffd8f[_0x366de1(0x195)]) {
                            const _0x5d46c5 = _0x1ffd8f[_0x366de1(0x195)][_0x366de1(0x1cc)](','), _0x160ff3 = _0x267893[_0x366de1(0x166)][_0x366de1(0x1b7)](/\D/g, '');
                            if (_0x5d46c5[_0x366de1(0x165)](_0x160ff3)) {
                                logger_1[_0x366de1(0x196)][_0x366de1(0x170)](_0x3a353d[_0x366de1(0x157)](_0x3a353d[_0x366de1(0x185)](_0x3a353d[_0x366de1(0x1c8)], _0x160ff3), _0x3a353d[_0x366de1(0x1d4)]));
                                return;
                            }
                        }
                    } catch (_0x1d82b6) {
                        logger_1[_0x366de1(0x196)][_0x366de1(0x199)](_0x3a353d[_0x366de1(0x198)]);
                    }
                    const _0x3497d6 = {};
                    _0x3497d6[_0x366de1(0x1a1)] = _0x267893, _0x3497d6[_0x366de1(0x19d)] = _0xad1fc7['id'], _0x3497d6[_0x366de1(0x19f) + _0x366de1(0x16a)] = _0x30aa86[_0x366de1(0x1b3) + 't'], _0x3497d6[_0x366de1(0x1bc)] = _0x545f4c, _0x3497d6[_0x366de1(0x16b)] = !![], _0x3497d6[_0x366de1(0x1aa)] = _0x3a353d[_0x366de1(0x19c)];
                    const _0x5a1bdc = yield (0x128b + -0xe7f * 0x1 + -0x40c, FindOrCreateTicketService_1[_0x366de1(0x1c9)])(_0x3497d6);
                    if (_0x3a353d[_0x366de1(0x16f)](_0x5a1bdc, null) || _0x3a353d[_0x366de1(0x1d5)](_0x5a1bdc, void (-0x64a + 0x15df + -0xf95)) ? void (-0x247 * 0x5 + -0x1 * 0x179e + 0x2301) : _0x5a1bdc[_0x366de1(0x15e) + _0x366de1(0x168)])
                        return;
                    if (_0x3a353d[_0x366de1(0x1ce)](_0x5a1bdc, null) || _0x3a353d[_0x366de1(0x161)](_0x5a1bdc, void (0x4d8 + -0x3b * 0x6d + 0x1447)) ? void (0x2673 * -0x1 + -0xa31 * -0x3 + -0x120 * -0x7) : _0x5a1bdc[_0x366de1(0x1b0) + _0x366de1(0x168)])
                        return;
                    _0x44e164[_0x366de1(0x158)]((_0x37d26d, _0xf5eed9) => __awaiter(void (-0x18ce + 0xa07 + 0xec7), void (0x24c5 + -0xab6 + 0x3b9 * -0x7), void (-0x12a3 + 0x2356 * 0x1 + -0x10b3), function* () {
                        const _0x257522 = _0x366de1;
                        var _0x44b8a3;
                        logger_1[_0x257522(0x196)][_0x257522(0x170)](_0x257522(0x1d0) + _0x37d26d, _0x3a353d[_0x257522(0x1ce)](_0x44b8a3 = _0x37d26d['id'], null) || _0x3a353d[_0x257522(0x1ce)](_0x44b8a3, void (-0x1136 + -0x254d + 0x3683)) ? void (0x21f * -0xd + 0xcb3 * 0x3 + -0xa86) : _0x44b8a3['id']);
                        _0x37d26d[_0x257522(0x15f)] ? yield (-0x365 * 0x8 + -0x43 * -0x43 + 0x99f, VerifyMediaMessage_1[_0x257522(0x1c9)])(_0x37d26d, _0x5a1bdc, _0x267893) : yield (0x5ab + 0x23 + -0x2e7 * 0x2, VerifyMessage_1[_0x257522(0x1c9)])(_0x37d26d, _0x5a1bdc, _0x267893);
                        if (_0x3a353d[_0x257522(0x1ce)](_0xf5eed9, _0x3a353d[_0x257522(0x19b)](_0x44e164[_0x257522(0x186)], -0xc25 * 0x1 + 0x1247 * -0x2 + 0x30b4))) {
                            yield (-0x2032 + -0x59 * 0x1 + 0x208b, VerifyStepsChatFlowTicket_1[_0x257522(0x1c9)])(_0x37d26d, _0x5a1bdc);
                            const _0x2298e1 = _0x5a1bdc[_0x257522(0x159)] || {};
                            if (!_0x37d26d[_0x257522(0x1bd)] && !_0x5a1bdc[_0x257522(0x18d)] && !_0x5a1bdc[_0x257522(0x188)] && (_0x3a353d[_0x257522(0x153)](_0x2298e1, null) || _0x3a353d[_0x257522(0x153)](_0x2298e1, void (0x177f + 0x1 * 0xaa9 + -0x2228)) ? void (-0x15f5 + -0x2508 + 0x3afd) : _0x2298e1[_0x257522(0x189) + 'y']) && (_0x3a353d[_0x257522(0x17c)](_0x2298e1, null) || _0x3a353d[_0x257522(0x16f)](_0x2298e1, void (-0x35b + -0x733 + 0xa8e)) ? void (-0x264b + 0xf * 0x1 + 0x98f * 0x4) : _0x2298e1[_0x257522(0x15c) + _0x257522(0x178)])) {
                                const _0x4fff1d = {
                                        'timestamp': Date[_0x257522(0x1ae)](),
                                        'msg': _0x37d26d,
                                        'messageId': _0x37d26d['id']['id'],
                                        'ticketId': _0x5a1bdc['id'],
                                        'externalKey': _0x3a353d[_0x257522(0x1d5)](_0x2298e1, null) || _0x3a353d[_0x257522(0x153)](_0x2298e1, void (-0x54e + -0x2a * -0xe9 + -0x20ec)) ? void (-0x8c9 * -0x1 + -0x7 * 0x1cf + 0x3e0) : _0x2298e1[_0x257522(0x189) + 'y'],
                                        'authToken': _0x3a353d[_0x257522(0x1ab)](_0x2298e1, null) || _0x3a353d[_0x257522(0x1ce)](_0x2298e1, void (-0xb21 * 0x1 + -0x14b4 + -0x1fd5 * -0x1)) ? void (0x1acb * 0x1 + 0x7a1 + -0x1 * 0x226c) : _0x2298e1[_0x257522(0x1b6)],
                                        'type': _0x3a353d[_0x257522(0x169)]
                                    }, _0x4d5346 = {};
                                _0x4d5346[_0x257522(0x183)] = _0x2298e1[_0x257522(0x15c) + _0x257522(0x178)], _0x4d5346[_0x257522(0x1c4)] = _0x4fff1d[_0x257522(0x1c4)], _0x4d5346[_0x257522(0x1cf)] = _0x4fff1d, Queue_1[_0x257522(0x1c9)][_0x257522(0x176)](_0x3a353d[_0x257522(0x171)], _0x4d5346);
                            }
                        }
                    }));
                }
            })));
        } catch (_0x209f99) {
            logger_1[_0x35c4aa(0x196)][_0x35c4aa(0x16e)](_0x3a353d[_0x35c4aa(0x1af)], _0x209f99);
        }
    });
exports[_0x3e24d3(0x1c9)] = SyncUnreadMessagesWbot;