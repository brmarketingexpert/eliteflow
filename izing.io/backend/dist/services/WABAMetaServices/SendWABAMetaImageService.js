'use strict';
const _0x37659c = _0x14d4;
(function (_0x3740e8, _0x101acd) {
    const _0x3b723a = _0x14d4, _0x235dc4 = _0x3740e8();
    while (!![]) {
        try {
            const _0x2a2415 = parseInt(_0x3b723a(0xb5)) / (0x17 * 0xd9 + -0x2 * 0x12a + 0xa9 * -0x1a) + -parseInt(_0x3b723a(0xbb)) / (0x1ef4 * -0x1 + -0x1 * 0x2629 + 0x451f) * (-parseInt(_0x3b723a(0xbc)) / (0x1d3 + 0x5 * -0x6 + 0x1f * -0xe)) + -parseInt(_0x3b723a(0x93)) / (0x782 * -0x2 + 0x51 * -0x4b + 0x26c3) * (parseInt(_0x3b723a(0xe4)) / (0xfe8 + 0x201 + -0x2 * 0x8f2)) + -parseInt(_0x3b723a(0xb8)) / (0x571 + -0x1dc3 + 0x1858) + parseInt(_0x3b723a(0xe0)) / (0x289 + 0x169b + -0x3 * 0x85f) * (-parseInt(_0x3b723a(0xaf)) / (-0x23 * -0x4d + 0x11b2 + -0x1c31)) + parseInt(_0x3b723a(0xb3)) / (0x1950 + 0x1 * -0x1e67 + 0x520) + parseInt(_0x3b723a(0x9b)) / (0x3d7 * 0x5 + 0x23d5 + 0x1b7f * -0x2) * (parseInt(_0x3b723a(0xa4)) / (0x130f + 0x1 * -0x2362 + 0x346 * 0x5));
            if (_0x2a2415 === _0x101acd)
                break;
            else
                _0x235dc4['push'](_0x235dc4['shift']());
        } catch (_0x178592) {
            _0x235dc4['push'](_0x235dc4['shift']());
        }
    }
}(_0x33b5, 0x1 * 0xa1b0 + 0x58c9 + 0x4af * 0x25));
var __awaiter = this && this[_0x37659c(0xa0)] || function (_0x59b814, _0x14a151, _0x128604, _0x1cd6af) {
        const _0xdbdb13 = _0x37659c, _0x2a1dd4 = {
                'XOTrF': function (_0x5f4b42, _0x5ad89e) {
                    return _0x5f4b42(_0x5ad89e);
                },
                'rlkVG': function (_0x3f832d, _0x2dbd29) {
                    return _0x3f832d instanceof _0x2dbd29;
                },
                'TfABS': function (_0x4d75a3, _0x347f46) {
                    return _0x4d75a3(_0x347f46);
                },
                'nwQEX': function (_0x398bfd, _0x32588a) {
                    return _0x398bfd(_0x32588a);
                },
                'yyfXY': _0xdbdb13(0xb2),
                'wWAMd': function (_0x3ba089, _0x191f43) {
                    return _0x3ba089(_0x191f43);
                },
                'AlDQq': function (_0xde5c65, _0x5ca1bc) {
                    return _0xde5c65(_0x5ca1bc);
                }
            };
        function _0x26a21b(_0xd288b7) {
            const _0x104b03 = _0xdbdb13, _0x1f72df = {
                    'OFtRi': function (_0x3e40e9, _0x353333) {
                        const _0x3c257b = _0x14d4;
                        return _0x2a1dd4[_0x3c257b(0xd7)](_0x3e40e9, _0x353333);
                    }
                };
            return _0x2a1dd4[_0x104b03(0xb1)](_0xd288b7, _0x128604) ? _0xd288b7 : new _0x128604(function (_0x51c053) {
                const _0x2e0a71 = _0x104b03;
                _0x1f72df[_0x2e0a71(0xa5)](_0x51c053, _0xd288b7);
            });
        }
        return new (_0x128604 || (_0x128604 = Promise))(function (_0x43c8eb, _0x86af04) {
            const _0x143e67 = _0xdbdb13, _0x523f00 = {
                    'GUduc': function (_0x3f3362, _0x22d3dd) {
                        const _0x3fd28d = _0x14d4;
                        return _0x2a1dd4[_0x3fd28d(0xa7)](_0x3f3362, _0x22d3dd);
                    }
                };
            function _0x4c9368(_0x4ab57e) {
                const _0x618854 = _0x14d4;
                try {
                    _0x2a1dd4[_0x618854(0xa7)](_0xc2555c, _0x1cd6af[_0x618854(0x90)](_0x4ab57e));
                } catch (_0x18c8ca) {
                    _0x2a1dd4[_0x618854(0xc6)](_0x86af04, _0x18c8ca);
                }
            }
            function _0x19ceb7(_0x3e791e) {
                const _0x4ff668 = _0x14d4;
                try {
                    _0x2a1dd4[_0x4ff668(0xa7)](_0xc2555c, _0x1cd6af[_0x2a1dd4[_0x4ff668(0xde)]](_0x3e791e));
                } catch (_0x5e5925) {
                    _0x2a1dd4[_0x4ff668(0x8c)](_0x86af04, _0x5e5925);
                }
            }
            function _0xc2555c(_0x2bbb19) {
                const _0xceec59 = _0x14d4;
                _0x2bbb19[_0xceec59(0xe1)] ? _0x523f00[_0xceec59(0x89)](_0x43c8eb, _0x2bbb19[_0xceec59(0xd6)]) : _0x523f00[_0xceec59(0x89)](_0x26a21b, _0x2bbb19[_0xceec59(0xd6)])[_0xceec59(0xd4)](_0x4c9368, _0x19ceb7);
            }
            _0x2a1dd4[_0x143e67(0xc1)](_0xc2555c, (_0x1cd6af = _0x1cd6af[_0x143e67(0xed)](_0x59b814, _0x14a151 || []))[_0x143e67(0x90)]());
        });
    }, __importDefault = this && this[_0x37659c(0x98) + _0x37659c(0xc0)] || function (_0x110773) {
        const _0x55609a = _0x37659c;
        return _0x110773 && _0x110773[_0x55609a(0xcb)] ? _0x110773 : { 'default': _0x110773 };
    };
function _0x33b5() {
    const _0x183d71 = [
        '__esModule',
        'update',
        'tenantId',
        'error',
        'findOne',
        'headers',
        'status',
        'NqIsu',
        'aph.facebo',
        'then',
        'fromMe',
        'value',
        'XOTrF',
        'XOgmY',
        'erty',
        'ers/socket',
        'LkDWw',
        'https://gr',
        'applicatio',
        'yyfXY',
        '../../help',
        '3325rJbBdh',
        'done',
        'HQdZM',
        'defineProp',
        '478190ENjwSI',
        '/messages?',
        'ls/Ticket',
        'aqHbu',
        'Send\x20error',
        'access_tok',
        'WsvnI',
        'CONNECTED',
        'ok.com/v19',
        'apply',
        'messaging_',
        'rs/AppErro',
        '../../erro',
        'Emit',
        'GUduc',
        'method',
        'ERR_WHATSA',
        'wWAMd',
        '.0/',
        'PP_OFFLINE',
        'WwuTu',
        'next',
        'pGcNE',
        'sended',
        '4iRjJJU',
        'sendImage',
        'contact',
        'Kbcii',
        'POST',
        '__importDe',
        'n/json',
        'getTime',
        '16030OyiYDy',
        'idFront',
        'ls/Message',
        'ticket:upd',
        'product',
        '__awaiter',
        'ate',
        'vdbSU',
        'split',
        '407GaJUVW',
        'OFtRi',
        'now',
        'TfABS',
        'image',
        'axios',
        'link',
        'Content-Ty',
        'chat:ack',
        'bmToken',
        'ruqdH',
        '2056KRNiKJ',
        'nGxrP',
        'rlkVG',
        'throw',
        '1603422wPOcVe',
        '../../mode',
        '50790WWSOGw',
        'en=',
        'OYjDB',
        '378576WizHhG',
        'default',
        'body',
        '33678kUdvwM',
        '18xcmqvl',
        'whatsapp',
        'payload',
        'url',
        'fault',
        'AlDQq',
        'jBIMr',
        'data',
        'kvcwc',
        'public/',
        'nwQEX',
        'where',
        'messageId',
        'type',
        'messages'
    ];
    _0x33b5 = function () {
        return _0x183d71;
    };
    return _0x33b5();
}
const _0x4728ff = {};
_0x4728ff[_0x37659c(0xd6)] = !![], Object[_0x37659c(0xe3) + _0x37659c(0xd9)](exports, _0x37659c(0xcb), _0x4728ff);
const axios_1 = __importDefault(require(_0x37659c(0xa9))), Ticket_1 = __importDefault(require(_0x37659c(0xb4) + _0x37659c(0xe6))), Message_1 = __importDefault(require(_0x37659c(0xb4) + _0x37659c(0x9d))), socketEmit_1 = __importDefault(require(_0x37659c(0xdf) + _0x37659c(0xda) + _0x37659c(0x88))), AppError_1 = __importDefault(require(_0x37659c(0x87) + _0x37659c(0x86) + 'r'));
function _0x14d4(_0x2a6cae, _0xff7695) {
    const _0x475f9e = _0x33b5();
    return _0x14d4 = function (_0x5c35db, _0x2c7f4d) {
        _0x5c35db = _0x5c35db - (-0x329 * 0x5 + 0x97 * 0x13 + 0x51e);
        let _0x3653ce = _0x475f9e[_0x5c35db];
        return _0x3653ce;
    }, _0x14d4(_0x2a6cae, _0xff7695);
}
class SendImage {
    [_0x37659c(0x94)]({
        from: _0x5dbca6,
        phone_number_id: _0x421854,
        imageUrl: _0x5b364c,
        ticket: _0x4beb53,
        tenantId: _0x5c80ce,
        idFront: _0x308378,
        whatsapp: _0x3e9f19
    }) {
        const _0x236536 = _0x37659c, _0x2dd08b = {
                'WsvnI': function (_0x42489, _0x1feb2f) {
                    return _0x42489 !== _0x1feb2f;
                },
                'WwuTu': _0x236536(0xeb),
                'ruqdH': _0x236536(0x8b) + _0x236536(0x8e),
                'XOgmY': function (_0x1da42, _0x5ef20d) {
                    return _0x1da42 === _0x5ef20d;
                },
                'vdbSU': function (_0x5553fe, _0x233057) {
                    return _0x5553fe === _0x233057;
                },
                'aqHbu': _0x236536(0x97),
                'LkDWw': _0x236536(0xbd),
                'HQdZM': _0x236536(0xa8),
                'OYjDB': _0x236536(0xdd) + _0x236536(0x99),
                'nGxrP': _0x236536(0xc5),
                'jBIMr': _0x236536(0x92),
                'NqIsu': _0x236536(0x9e) + _0x236536(0xa1),
                'pGcNE': _0x236536(0xac),
                'Kbcii': _0x236536(0xe8) + ':',
                'kvcwc': function (_0x1ff6f2, _0x384072, _0x28a17d, _0xe10bc7, _0x29f1a7) {
                    return _0x1ff6f2(_0x384072, _0x28a17d, _0xe10bc7, _0x29f1a7);
                }
            };
        return _0x2dd08b[_0x236536(0xc4)](__awaiter, this, void (0x2 * 0x59e + -0x9 * 0x247 + 0x1 * 0x943), void (0x1 * 0x1e65 + 0xf79 + -0x2dde), function* () {
            const _0x123c62 = _0x236536;
            if (_0x2dd08b[_0x123c62(0xea)](_0x3e9f19[_0x123c62(0xd1)], _0x2dd08b[_0x123c62(0x8f)]))
                throw new AppError_1[(_0x123c62(0xb9))](_0x2dd08b[_0x123c62(0xae)], 0x86b * 0x1 + 0x1 * -0xf6a + 0x88f * 0x1);
            try {
                const _0x717cb1 = _0x123c62(0xdc) + _0x123c62(0xd3) + _0x123c62(0xec) + _0x123c62(0x8d) + _0x421854 + (_0x123c62(0xe5) + _0x123c62(0xe9) + _0x123c62(0xb6)) + (_0x2dd08b[_0x123c62(0xd8)](_0x3e9f19, null) || _0x2dd08b[_0x123c62(0xa2)](_0x3e9f19, void (0x66b * 0x3 + 0x17 * -0x107 + 0x460)) ? void (0x23 * -0xad + -0x8 * 0x24f + -0x107 * -0x29) : _0x3e9f19[_0x123c62(0xad)]), _0x5bd79c = {};
                _0x5bd79c[_0x123c62(0xaa)] = _0x5b364c;
                const _0x568d22 = {};
                _0x568d22[_0x123c62(0x8a)] = _0x2dd08b[_0x123c62(0xe7)], _0x568d22[_0x123c62(0xbf)] = _0x717cb1, _0x568d22[_0x123c62(0xc3)] = {}, _0x568d22[_0x123c62(0xd0)] = {}, _0x568d22[_0x123c62(0xc3)][_0x123c62(0xee) + _0x123c62(0x9f)] = _0x2dd08b[_0x123c62(0xdb)], _0x568d22[_0x123c62(0xc3)]['to'] = _0x5dbca6, _0x568d22[_0x123c62(0xc3)][_0x123c62(0xc9)] = _0x2dd08b[_0x123c62(0xe2)], _0x568d22[_0x123c62(0xc3)][_0x123c62(0xa8)] = _0x5bd79c, _0x568d22[_0x123c62(0xd0)][_0x123c62(0xab) + 'pe'] = _0x2dd08b[_0x123c62(0xb7)];
                const _0x4d0979 = yield (0x5 * 0x565 + -0x1 * 0x8cf + -0x122a, axios_1[_0x123c62(0xb9)])(_0x568d22);
                let _0x7734f7 = Date[_0x123c62(0xa6)]();
                const _0x4a0ec0 = {
                        'messageId': _0x4d0979[_0x123c62(0xc3)][_0x123c62(0xca)][0xcfb + 0x11a4 + -0x1e9f]['id'] || '',
                        'ticketId': _0x4beb53['id'],
                        'contactId': _0x4beb53[_0x123c62(0x95)]['id'],
                        'body': _0x5b364c[_0x123c62(0xa3)](_0x2dd08b[_0x123c62(0xb0)])[-0x16d * 0x11 + -0xb08 + -0x70e * -0x5] || '',
                        'fromMe': !![],
                        'mediaType': _0x2dd08b[_0x123c62(0xe2)],
                        'read': !![],
                        'ack': 0x1,
                        'timestamp': _0x7734f7,
                        'status': _0x2dd08b[_0x123c62(0xc2)]
                    }, _0x9f959e = {};
                _0x9f959e['id'] = _0x4beb53['id'];
                const _0x12978c = {};
                _0x12978c[_0x123c62(0xc7)] = _0x9f959e;
                const _0x3f282a = yield Ticket_1[_0x123c62(0xb9)][_0x123c62(0xcf)](_0x12978c);
                if (!_0x3f282a)
                    return;
                yield _0x3f282a[_0x123c62(0xcc)]({
                    'lastMessage': _0x4a0ec0[_0x123c62(0xba)],
                    'lastMessageAt': new Date()[_0x123c62(0x9a)](),
                    'answered': _0x4d0979[_0x123c62(0xc3)][_0x123c62(0xd5)] || ![]
                });
                const _0x553fce = {};
                _0x553fce[_0x123c62(0x9c)] = _0x308378, _0x553fce[_0x123c62(0xcd)] = _0x5c80ce;
                const _0x5ada90 = {};
                _0x5ada90[_0x123c62(0xc7)] = _0x553fce;
                const _0x130393 = yield Message_1[_0x123c62(0xb9)][_0x123c62(0xcf)](_0x5ada90);
                if (!_0x130393)
                    return;
                yield _0x130393[_0x123c62(0xcc)]({
                    'messageId': _0x4d0979[_0x123c62(0xc3)][_0x123c62(0xca)][0x1 * 0x1b31 + 0xd76 + 0x28a7 * -0x1]['id'],
                    'ack': 0x2,
                    'status': _0x2dd08b[_0x123c62(0xc2)],
                    'mediaUrl': _0x5b364c[_0x123c62(0xa3)](_0x2dd08b[_0x123c62(0xb0)])[-0xa * 0x11b + -0x293 + -0x1 * -0xda2] || '',
                    'mediaType': _0x2dd08b[_0x123c62(0xe2)],
                    'sendType': _0x2dd08b[_0x123c62(0xe2)]
                });
                const _0x13a77a = {};
                _0x13a77a[_0x123c62(0xcd)] = _0x5c80ce, _0x13a77a[_0x123c62(0xc9)] = _0x2dd08b[_0x123c62(0xd2)], _0x13a77a[_0x123c62(0xbe)] = _0x4beb53, (-0x53 * 0x43 + -0x1225 + 0x27de, socketEmit_1[_0x123c62(0xb9)])(_0x13a77a);
                const _0x437125 = {};
                _0x437125[_0x123c62(0xc8)] = _0x4d0979[_0x123c62(0xc3)][_0x123c62(0xca)][-0x2 * -0x122b + 0xb96 + -0x2fec]['id'], _0x437125[_0x123c62(0xcd)] = _0x5c80ce;
                const _0x377be7 = {};
                _0x377be7[_0x123c62(0xc7)] = _0x437125;
                const _0x281e9e = yield Message_1[_0x123c62(0xb9)][_0x123c62(0xcf)](_0x377be7);
                if (!_0x281e9e)
                    return;
                const _0x121108 = {};
                return _0x121108[_0x123c62(0xcd)] = _0x5c80ce, _0x121108[_0x123c62(0xc9)] = _0x2dd08b[_0x123c62(0x91)], _0x121108[_0x123c62(0xbe)] = _0x281e9e, (-0x205d + -0xe91 * 0x1 + 0x2eee, socketEmit_1[_0x123c62(0xb9)])(_0x121108), _0x4d0979[_0x123c62(0xc3)];
            } catch (_0x6ac635) {
                console[_0x123c62(0xce)](_0x2dd08b[_0x123c62(0x96)], _0x6ac635);
                throw _0x6ac635;
            }
        });
    }
}
exports[_0x37659c(0xb9)] = SendImage;