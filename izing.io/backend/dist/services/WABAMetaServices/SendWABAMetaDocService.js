'use strict';
const _0xcae84 = _0x5815;
(function (_0x2cfe60, _0x2e2747) {
    const _0x56f15d = _0x5815, _0x56add7 = _0x2cfe60();
    while (!![]) {
        try {
            const _0x2b7bd5 = parseInt(_0x56f15d(0x11f)) / (0x1bc * 0x3 + -0x64 * 0x37 + 0x1049) * (-parseInt(_0x56f15d(0x126)) / (0x62b * 0x6 + -0x17d9 + -0xd27)) + parseInt(_0x56f15d(0x10c)) / (-0x35c * 0x1 + -0xd * 0xa7 + 0xbda) + parseInt(_0x56f15d(0x100)) / (0x20a * -0x2 + -0x124a + 0x1 * 0x1662) + parseInt(_0x56f15d(0x132)) / (0x2 * -0x864 + -0x445 + 0xba * 0x1d) + -parseInt(_0x56f15d(0x107)) / (0x2 * 0x322 + -0xba5 * 0x2 + -0x110c * -0x1) * (-parseInt(_0x56f15d(0xf9)) / (-0xbc3 + -0xbd + -0x1 * -0xc87)) + parseInt(_0x56f15d(0x101)) / (-0x11d5 * -0x1 + -0x72 + 0x1 * -0x115b) + -parseInt(_0x56f15d(0x122)) / (-0x1988 + 0x1b37 + -0x1a6) * (parseInt(_0x56f15d(0xf0)) / (-0x2 * -0x26 + 0x63 * -0x4c + 0x1d22));
            if (_0x2b7bd5 === _0x2e2747)
                break;
            else
                _0x56add7['push'](_0x56add7['shift']());
        } catch (_0x5cf155) {
            _0x56add7['push'](_0x56add7['shift']());
        }
    }
}(_0x1a78, -0x23 * 0x583 + 0x3d2db + 0x31fc9));
var __awaiter = this && this[_0xcae84(0x148)] || function (_0x18cbec, _0x5a74a2, _0x394f79, _0x3119e7) {
        const _0x26b26e = _0xcae84, _0x406260 = {
                'TzQPQ': function (_0x3a7339, _0x47f6d4) {
                    return _0x3a7339(_0x47f6d4);
                },
                'QXYqS': function (_0x19082b, _0x2c9283) {
                    return _0x19082b instanceof _0x2c9283;
                },
                'tyOVU': function (_0x47f3ef, _0x31dbe2) {
                    return _0x47f3ef(_0x31dbe2);
                },
                'CyyDT': _0x26b26e(0x10e),
                'dYNhx': function (_0x522633, _0x209957) {
                    return _0x522633(_0x209957);
                },
                'ACeGt': function (_0x38afd4, _0x1ff1c2) {
                    return _0x38afd4(_0x1ff1c2);
                },
                'eEmcT': function (_0x4d480c, _0x2327ec) {
                    return _0x4d480c(_0x2327ec);
                },
                'oiwgR': function (_0x146b8d, _0x2266c6) {
                    return _0x146b8d(_0x2266c6);
                }
            };
        function _0x4d1714(_0x2fd355) {
            const _0x1de5e0 = _0x26b26e;
            return _0x406260[_0x1de5e0(0xff)](_0x2fd355, _0x394f79) ? _0x2fd355 : new _0x394f79(function (_0x16a5cc) {
                const _0x2b866c = _0x1de5e0;
                _0x406260[_0x2b866c(0x154)](_0x16a5cc, _0x2fd355);
            });
        }
        return new (_0x394f79 || (_0x394f79 = Promise))(function (_0x1c4e3a, _0x362efc) {
            const _0x7e4695 = _0x26b26e, _0x96fef5 = {
                    'WxfGx': function (_0x31efe7, _0x1a6fd4) {
                        const _0x126f9f = _0x5815;
                        return _0x406260[_0x126f9f(0x102)](_0x31efe7, _0x1a6fd4);
                    },
                    'mSZHH': function (_0x31b47c, _0x35ce37) {
                        const _0x505802 = _0x5815;
                        return _0x406260[_0x505802(0x145)](_0x31b47c, _0x35ce37);
                    }
                };
            function _0x56cb6d(_0x508329) {
                const _0x4aadba = _0x5815;
                try {
                    _0x96fef5[_0x4aadba(0x113)](_0x1af6c5, _0x3119e7[_0x4aadba(0x142)](_0x508329));
                } catch (_0x2e738f) {
                    _0x96fef5[_0x4aadba(0x147)](_0x362efc, _0x2e738f);
                }
            }
            function _0x780287(_0x135f89) {
                const _0x1a6c80 = _0x5815;
                try {
                    _0x406260[_0x1a6c80(0x135)](_0x1af6c5, _0x3119e7[_0x406260[_0x1a6c80(0x110)]](_0x135f89));
                } catch (_0x5b713f) {
                    _0x406260[_0x1a6c80(0x106)](_0x362efc, _0x5b713f);
                }
            }
            function _0x1af6c5(_0x1ece74) {
                const _0x29308f = _0x5815;
                _0x1ece74[_0x29308f(0x11a)] ? _0x406260[_0x29308f(0x118)](_0x1c4e3a, _0x1ece74[_0x29308f(0x11b)]) : _0x406260[_0x29308f(0x145)](_0x4d1714, _0x1ece74[_0x29308f(0x11b)])[_0x29308f(0x103)](_0x56cb6d, _0x780287);
            }
            _0x406260[_0x7e4695(0x135)](_0x1af6c5, (_0x3119e7 = _0x3119e7[_0x7e4695(0x143)](_0x18cbec, _0x5a74a2 || []))[_0x7e4695(0x142)]());
        });
    }, __importDefault = this && this[_0xcae84(0x136) + _0xcae84(0xf2)] || function (_0x1a55ad) {
        const _0x1622ea = _0xcae84;
        return _0x1a55ad && _0x1a55ad[_0x1622ea(0x115)] ? _0x1a55ad : { 'default': _0x1a55ad };
    };
const _0x345d41 = {};
_0x345d41[_0xcae84(0x11b)] = !![], Object[_0xcae84(0x146) + _0xcae84(0x125)](exports, _0xcae84(0x115), _0x345d41);
const axios_1 = __importDefault(require(_0xcae84(0x152))), Ticket_1 = __importDefault(require(_0xcae84(0xf5) + _0xcae84(0x139))), Message_1 = __importDefault(require(_0xcae84(0xf5) + _0xcae84(0x124))), socketEmit_1 = __importDefault(require(_0xcae84(0x14b) + _0xcae84(0x13e) + _0xcae84(0xea))), AppError_1 = __importDefault(require(_0xcae84(0xf1) + _0xcae84(0x10a) + 'r'));
class SendDoc {
    [_0xcae84(0x120)]({
        from: _0x28aa12,
        phone_number_id: _0x237bf9,
        docUrl: _0xf79621,
        caption: _0x4628e3,
        ticket: _0x10a391,
        tenantId: _0x4f01d8,
        idFront: _0x37a7b1,
        whatsapp: _0xc23090
    }) {
        const _0x4e4af0 = _0xcae84, _0x85e983 = {
                'whRoK': function (_0x5aba6a, _0x438db5) {
                    return _0x5aba6a !== _0x438db5;
                },
                'cUQIz': _0x4e4af0(0x155),
                'Stnrf': _0x4e4af0(0x12e) + _0x4e4af0(0x116),
                'QOQIA': function (_0x35b5de, _0x5b4cc7) {
                    return _0x35b5de === _0x5b4cc7;
                },
                'WjHvB': function (_0x19663f, _0x3377a1) {
                    return _0x19663f === _0x3377a1;
                },
                'wDlFH': _0x4e4af0(0xf3),
                'MgYSf': _0x4e4af0(0x119),
                'lrUof': _0x4e4af0(0x114),
                'QnnEF': _0x4e4af0(0x10f) + _0x4e4af0(0x111),
                'yHxSA': function (_0x49f4b8, _0x2ab18f) {
                    return _0x49f4b8 || _0x2ab18f;
                },
                'kImeq': _0x4e4af0(0x10f) + 'n',
                'JKPuQ': _0x4e4af0(0xee),
                'tsujC': _0x4e4af0(0x141),
                'zrTPl': _0x4e4af0(0x11d) + _0x4e4af0(0x14a),
                'HjRws': _0x4e4af0(0xe9),
                'GjFcf': _0x4e4af0(0x109) + ':',
                'qJylN': function (_0x46aa36, _0x181b93, _0x3b0c91, _0x57d5bf, _0x3ce2d4) {
                    return _0x46aa36(_0x181b93, _0x3b0c91, _0x57d5bf, _0x3ce2d4);
                }
            };
        return _0x85e983[_0x4e4af0(0x149)](__awaiter, this, void (-0x4 * -0x3ce + 0x1 * 0x1a2d + -0x2965), void (-0x1079 * -0x1 + -0xc1 * 0x22 + 0x929), function* () {
            const _0xf5199d = _0x4e4af0;
            if (_0x85e983[_0xf5199d(0x14d)](_0xc23090[_0xf5199d(0x151)], _0x85e983[_0xf5199d(0x13f)]))
                throw new AppError_1[(_0xf5199d(0x153))](_0x85e983[_0xf5199d(0xeb)], -0x20 * -0xf1 + -0x1988 + -0x4 * 0xc2);
            try {
                const _0x4cdae6 = _0xf5199d(0x123) + _0xf5199d(0xfd) + _0xf5199d(0xfe) + _0xf5199d(0x13d) + _0x237bf9 + (_0xf5199d(0x12d) + _0xf5199d(0x12a) + _0xf5199d(0xf7)) + (_0x85e983[_0xf5199d(0x12c)](_0xc23090, null) || _0x85e983[_0xf5199d(0x134)](_0xc23090, void (-0x1900 + -0x17cc + 0x30cc)) ? void (0x1 * 0x1ee9 + 0x5b * -0x32 + -0x1 * 0xd23) : _0xc23090[_0xf5199d(0x11e)]), _0x2e827c = {};
                _0x2e827c[_0xf5199d(0xf8)] = _0xf79621, _0x2e827c[_0xf5199d(0x14f)] = _0x4628e3, _0x2e827c[_0xf5199d(0x121)] = _0x4628e3;
                const _0x12d391 = {};
                _0x12d391[_0xf5199d(0x14c)] = _0x85e983[_0xf5199d(0x140)], _0x12d391[_0xf5199d(0x11c)] = _0x4cdae6, _0x12d391[_0xf5199d(0x108)] = {}, _0x12d391[_0xf5199d(0x130)] = {}, _0x12d391[_0xf5199d(0x108)][_0xf5199d(0xfc) + _0xf5199d(0xfa)] = _0x85e983[_0xf5199d(0xef)], _0x12d391[_0xf5199d(0x108)]['to'] = _0x28aa12, _0x12d391[_0xf5199d(0x108)][_0xf5199d(0x14e)] = _0x85e983[_0xf5199d(0x129)], _0x12d391[_0xf5199d(0x108)][_0xf5199d(0x114)] = _0x2e827c, _0x12d391[_0xf5199d(0x130)][_0xf5199d(0x13b) + 'pe'] = _0x85e983[_0xf5199d(0x13c)];
                const _0x3b485c = yield (0x1 * -0x1a39 + -0xb7 + 0x10 * 0x1af, axios_1[_0xf5199d(0x153)])(_0x12d391);
                let _0x4dbba6 = Date[_0xf5199d(0x12f)]();
                const _0x41eda7 = {
                        'messageId': _0x3b485c[_0xf5199d(0x108)][_0xf5199d(0x105)][-0x2 * -0xc29 + 0x217e + -0x39d0]['id'] || '',
                        'ticketId': _0x10a391['id'],
                        'contactId': _0x10a391[_0xf5199d(0xf6)]['id'],
                        'body': _0x85e983[_0xf5199d(0x10d)](_0x4628e3, ''),
                        'fromMe': !![],
                        'mediaType': _0x85e983[_0xf5199d(0xf4)],
                        'read': !![],
                        'ack': 0x1,
                        'timestamp': _0x4dbba6,
                        'status': _0x85e983[_0xf5199d(0x127)]
                    }, _0x84d7ba = {};
                _0x84d7ba['id'] = _0x10a391['id'];
                const _0x4c017a = {};
                _0x4c017a[_0xf5199d(0x150)] = _0x84d7ba;
                const _0x10f6f5 = yield Ticket_1[_0xf5199d(0x153)][_0xf5199d(0x13a)](_0x4c017a);
                if (!_0x10f6f5)
                    return;
                yield _0x10f6f5[_0xf5199d(0xed)]({
                    'lastMessage': _0x41eda7[_0xf5199d(0x137)],
                    'lastMessageAt': new Date()[_0xf5199d(0x10b)](),
                    'answered': _0x3b485c[_0xf5199d(0x108)][_0xf5199d(0x117)] || ![]
                });
                const _0x264601 = {};
                _0x264601[_0xf5199d(0x112)] = _0x37a7b1, _0x264601[_0xf5199d(0x131)] = _0x4f01d8;
                const _0x92e455 = {};
                _0x92e455[_0xf5199d(0x150)] = _0x264601;
                const _0xd309a6 = yield Message_1[_0xf5199d(0x153)][_0xf5199d(0x13a)](_0x92e455);
                if (!_0xd309a6)
                    return;
                yield _0xd309a6[_0xf5199d(0xed)]({
                    'messageId': _0x3b485c[_0xf5199d(0x108)][_0xf5199d(0x105)][-0x1e71 + 0x2 * -0x70b + -0x2c87 * -0x1]['id'],
                    'ack': 0x2,
                    'status': _0x85e983[_0xf5199d(0x127)],
                    'mediaUrl': _0xf79621[_0xf5199d(0x138)](_0x85e983[_0xf5199d(0xfb)])[0x1db2 + -0x23a7 * -0x1 + -0x33 * 0x148] || '',
                    'mediaType': _0x85e983[_0xf5199d(0xf4)],
                    'sendType': _0x85e983[_0xf5199d(0xf4)]
                });
                const _0x32441c = {};
                _0x32441c[_0xf5199d(0x131)] = _0x4f01d8, _0x32441c[_0xf5199d(0x14e)] = _0x85e983[_0xf5199d(0x133)], _0x32441c[_0xf5199d(0x128)] = _0x10a391, (-0x1c64 + -0x95f * -0x2 + 0x9a6, socketEmit_1[_0xf5199d(0x153)])(_0x32441c);
                const _0x1c9cb4 = {};
                _0x1c9cb4[_0xf5199d(0xec)] = _0x3b485c[_0xf5199d(0x108)][_0xf5199d(0x105)][0x21f8 + -0x1256 + 0x2e * -0x57]['id'], _0x1c9cb4[_0xf5199d(0x131)] = _0x4f01d8;
                const _0x528d48 = {};
                _0x528d48[_0xf5199d(0x150)] = _0x1c9cb4;
                const _0x24e4cd = yield Message_1[_0xf5199d(0x153)][_0xf5199d(0x13a)](_0x528d48);
                if (!_0x24e4cd)
                    return;
                const _0x306ea1 = {};
                return _0x306ea1[_0xf5199d(0x131)] = _0x4f01d8, _0x306ea1[_0xf5199d(0x14e)] = _0x85e983[_0xf5199d(0x12b)], _0x306ea1[_0xf5199d(0x128)] = _0x24e4cd, (-0x1510 + -0x3d1 + 0x18e1, socketEmit_1[_0xf5199d(0x153)])(_0x306ea1), _0x3b485c[_0xf5199d(0x108)];
            } catch (_0x4d4ae2) {
                console[_0xf5199d(0x144)](_0x85e983[_0xf5199d(0x104)], _0x4d4ae2);
                throw _0x4d4ae2;
            }
        });
    }
}
exports[_0xcae84(0x153)] = SendDoc;
function _0x5815(_0x466cc3, _0x56d622) {
    const _0x32f361 = _0x1a78();
    return _0x5815 = function (_0x2c91fd, _0x1eb8c1) {
        _0x2c91fd = _0x2c91fd - (0x12cb + 0xdcd * -0x1 + -0x415);
        let _0x471f7c = _0x32f361[_0x2c91fd];
        return _0x471f7c;
    }, _0x5815(_0x466cc3, _0x56d622);
}
function _0x1a78() {
    const _0x58e1c1 = [
        'sendDoc',
        'filename',
        '8217117pQJauQ',
        'https://gr',
        'ls/Message',
        'erty',
        '24406ANNFCa',
        'JKPuQ',
        'payload',
        'lrUof',
        'access_tok',
        'HjRws',
        'QOQIA',
        '/messages?',
        'ERR_WHATSA',
        'now',
        'headers',
        'tenantId',
        '1238840AZrDfP',
        'zrTPl',
        'WjHvB',
        'tyOVU',
        '__importDe',
        'body',
        'split',
        'ls/Ticket',
        'findOne',
        'Content-Ty',
        'QnnEF',
        '.0/',
        'ers/socket',
        'cUQIz',
        'wDlFH',
        'public/',
        'next',
        'apply',
        'error',
        'eEmcT',
        'defineProp',
        'mSZHH',
        '__awaiter',
        'qJylN',
        'ate',
        '../../help',
        'method',
        'whRoK',
        'type',
        'caption',
        'where',
        'status',
        'axios',
        'default',
        'TzQPQ',
        'CONNECTED',
        'chat:ack',
        'Emit',
        'Stnrf',
        'messageId',
        'update',
        'sended',
        'MgYSf',
        '10DRcpCg',
        '../../erro',
        'fault',
        'POST',
        'kImeq',
        '../../mode',
        'contact',
        'en=',
        'link',
        '31661cKgOYz',
        'product',
        'tsujC',
        'messaging_',
        'aph.facebo',
        'ok.com/v19',
        'QXYqS',
        '1946828dIBNIR',
        '4549056dZtnjo',
        'oiwgR',
        'then',
        'GjFcf',
        'messages',
        'dYNhx',
        '36Dxprit',
        'data',
        'Send\x20error',
        'rs/AppErro',
        'getTime',
        '2382339nyowEq',
        'yHxSA',
        'throw',
        'applicatio',
        'CyyDT',
        'n/json',
        'idFront',
        'WxfGx',
        'document',
        '__esModule',
        'PP_OFFLINE',
        'fromMe',
        'ACeGt',
        'whatsapp',
        'done',
        'value',
        'url',
        'ticket:upd',
        'bmToken',
        '66XnyQII'
    ];
    _0x1a78 = function () {
        return _0x58e1c1;
    };
    return _0x1a78();
}