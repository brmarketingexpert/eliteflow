'use strict';
function _0x357e() {
    const _0x3e7da7 = [
        'edited_mes',
        'SWSqR',
        '../WbotSer',
        'TicketServ',
        'ers/Verify',
        'wServices/',
        'FHnAZ',
        'VbvZX',
        '4mPpFMr',
        'age',
        'icket',
        'aMessage',
        'pjQSr',
        'xVWGU',
        'ZuWkd',
        './Telegram',
        'pService/S',
        '949135QaBXWB',
        'text',
        'value',
        'body',
        'ervices/Fi',
        '__awaiter',
        'message',
        'fromMe',
        'ZaRPq',
        'default',
        'VfpPe',
        'erty',
        'then',
        'done',
        'pService',
        'date',
        '308136RIboef',
        '8WwjWhS',
        'throw',
        '44RhDgGi',
        'VerifyStep',
        'urs',
        'DtWyi',
        'vices/help',
        'howWhatsAp',
        'apply',
        'act',
        'telegram',
        'tIyEx',
        'VerifyMedi',
        'next',
        'ice',
        'BusinessHo',
        'VerifyMess',
        'tenantId',
        'Message',
        'from',
        '../Whatsap',
        'chat',
        'assign',
        'gKirJ',
        'update',
        'sage',
        '200390kuhlzu',
        '../ChatFlo',
        'fault',
        'WEvvu',
        'timestamp',
        'sluVd',
        'getMe',
        '../TicketS',
        '1197266ZumLzY',
        '280557WNgSDO',
        '__esModule',
        'XAfxf',
        'AKnmJ',
        '42645xBRQDj',
        'bpVBZ',
        '__importDe',
        'isFarewell',
        'sChatFlowT',
        'yBBAx',
        'defineProp',
        'ndOrCreate',
        'IfxKA',
        'QplfZ',
        'VerifyCont',
        'VemFf',
        '209lkpMEA',
        '79687ouvUKZ'
    ];
    _0x357e = function () {
        return _0x3e7da7;
    };
    return _0x357e();
}
const _0x13b0f2 = _0x5001;
(function (_0x4bbe77, _0x22ff16) {
    const _0x50ef43 = _0x5001, _0x370f7c = _0x4bbe77();
    while (!![]) {
        try {
            const _0x8ac723 = -parseInt(_0x50ef43(0xe6)) / (-0x1a42 + -0x1 * -0xdca + 0xc79) * (parseInt(_0x50ef43(0xef)) / (-0x11a + 0x18 * 0x31 + -0xdf * 0x4)) + parseInt(_0x50ef43(0xd9)) / (0x25ff + -0x8d7 + 0x33d * -0x9) * (-parseInt(_0x50ef43(0xb4)) / (-0x5b0 + 0x1606 + -0x1052)) + parseInt(_0x50ef43(0xf8)) / (0xa76 + -0x5 * 0x1cd + 0x5c * -0x4) + parseInt(_0x50ef43(0x108)) / (0x264e + 0x7 * 0x423 + -0x433d) + -parseInt(_0x50ef43(0xd4)) / (-0x21c1 + -0x2 * 0x1265 + 0x4692) * (parseInt(_0x50ef43(0x109)) / (-0x1daa + -0x2 * 0x10ef + 0x3f90)) + -parseInt(_0x50ef43(0xd5)) / (-0x986 + 0xc16 + 0x1 * -0x287) + parseInt(_0x50ef43(0xcc)) / (0xb * -0x2b0 + 0x5 * 0x92 + 0x1ac0) * (parseInt(_0x50ef43(0xe5)) / (-0x2a * -0x59 + -0x11 * 0x5b + -0x884));
            if (_0x8ac723 === _0x22ff16)
                break;
            else
                _0x370f7c['push'](_0x370f7c['shift']());
        } catch (_0x48eaa3) {
            _0x370f7c['push'](_0x370f7c['shift']());
        }
    }
}(_0x357e, -0x1b * -0xbf9 + 0x24eb5 + 0x2f * -0xace));
var __awaiter = this && this[_0x13b0f2(0xfd)] || function (_0x2bd875, _0x542a47, _0x1bef9a, _0x1eeaa9) {
        const _0x4ec041 = _0x13b0f2, _0x52c3ea = {
                'sluVd': function (_0x1ee081, _0x15c385) {
                    return _0x1ee081(_0x15c385);
                },
                'tIyEx': function (_0x5b25f0, _0x65c45) {
                    return _0x5b25f0 instanceof _0x65c45;
                },
                'yBBAx': _0x4ec041(0x10a),
                'xVWGU': function (_0x464dbf, _0x2a398d) {
                    return _0x464dbf(_0x2a398d);
                },
                'XAfxf': function (_0x22e595, _0x3b8290) {
                    return _0x22e595(_0x3b8290);
                }
            };
        function _0x2ec78f(_0x10f486) {
            const _0x5f2a16 = _0x4ec041, _0x19780c = {
                    'ZaRPq': function (_0x1282e6, _0x240aaa) {
                        const _0x46e2d2 = _0x5001;
                        return _0x52c3ea[_0x46e2d2(0xd1)](_0x1282e6, _0x240aaa);
                    }
                };
            return _0x52c3ea[_0x5f2a16(0xbd)](_0x10f486, _0x1bef9a) ? _0x10f486 : new _0x1bef9a(function (_0x34fdea) {
                const _0x29a4eb = _0x5f2a16;
                _0x19780c[_0x29a4eb(0x100)](_0x34fdea, _0x10f486);
            });
        }
        return new (_0x1bef9a || (_0x1bef9a = Promise))(function (_0x268d85, _0x394110) {
            const _0x328921 = _0x4ec041, _0xfeb80b = {
                    'VbvZX': function (_0x129f2c, _0x398305) {
                        const _0x4a127d = _0x5001;
                        return _0x52c3ea[_0x4a127d(0xd1)](_0x129f2c, _0x398305);
                    },
                    'gKirJ': function (_0x5a06f5, _0x5228f5) {
                        const _0x4ea1c1 = _0x5001;
                        return _0x52c3ea[_0x4ea1c1(0xd1)](_0x5a06f5, _0x5228f5);
                    },
                    'VfpPe': _0x52c3ea[_0x328921(0xde)],
                    'WEvvu': function (_0x1bf73e, _0x14d0db) {
                        const _0x32535f = _0x328921;
                        return _0x52c3ea[_0x32535f(0xf4)](_0x1bf73e, _0x14d0db);
                    }
                };
            function _0x2f53e4(_0xd6170d) {
                const _0x1f32e0 = _0x328921;
                try {
                    _0xfeb80b[_0x1f32e0(0xee)](_0x117735, _0x1eeaa9[_0x1f32e0(0xbf)](_0xd6170d));
                } catch (_0x15601b) {
                    _0xfeb80b[_0x1f32e0(0xc9)](_0x394110, _0x15601b);
                }
            }
            function _0x81c411(_0x36c2bf) {
                const _0x32e499 = _0x328921;
                try {
                    _0xfeb80b[_0x32e499(0xee)](_0x117735, _0x1eeaa9[_0xfeb80b[_0x32e499(0x102)]](_0x36c2bf));
                } catch (_0x6fdb2e) {
                    _0xfeb80b[_0x32e499(0xc9)](_0x394110, _0x6fdb2e);
                }
            }
            function _0x117735(_0x4fcd90) {
                const _0x546f0d = _0x328921;
                _0x4fcd90[_0x546f0d(0x105)] ? _0xfeb80b[_0x546f0d(0xcf)](_0x268d85, _0x4fcd90[_0x546f0d(0xfa)]) : _0xfeb80b[_0x546f0d(0xcf)](_0x2ec78f, _0x4fcd90[_0x546f0d(0xfa)])[_0x546f0d(0x104)](_0x2f53e4, _0x81c411);
            }
            _0x52c3ea[_0x328921(0xd7)](_0x117735, (_0x1eeaa9 = _0x1eeaa9[_0x328921(0xba)](_0x2bd875, _0x542a47 || []))[_0x328921(0xbf)]());
        });
    }, __importDefault = this && this[_0x13b0f2(0xdb) + _0x13b0f2(0xce)] || function (_0x3fb168) {
        const _0xbd7153 = _0x13b0f2;
        return _0x3fb168 && _0x3fb168[_0xbd7153(0xd6)] ? _0x3fb168 : { 'default': _0x3fb168 };
    };
const _0x3b7112 = {};
_0x3b7112[_0x13b0f2(0xfa)] = !![], Object[_0x13b0f2(0xdf) + _0x13b0f2(0x103)](exports, _0x13b0f2(0xd6), _0x3b7112);
function _0x5001(_0x9a550b, _0x52f2b7) {
    const _0x139a59 = _0x357e();
    return _0x5001 = function (_0x416f7b, _0x150326) {
        _0x416f7b = _0x416f7b - (0x2de * 0x5 + -0xa3 * -0x2f + -0x2b8f);
        let _0xf39e7 = _0x139a59[_0x416f7b];
        return _0xf39e7;
    }, _0x5001(_0x9a550b, _0x52f2b7);
}
const ShowWhatsAppService_1 = __importDefault(require(_0x13b0f2(0xc6) + _0x13b0f2(0xf7) + _0x13b0f2(0xb9) + _0x13b0f2(0x106))), TelegramVerifyContact_1 = __importDefault(require(_0x13b0f2(0xf6) + _0x13b0f2(0xe3) + _0x13b0f2(0xbb))), FindOrCreateTicketService_1 = __importDefault(require(_0x13b0f2(0xd3) + _0x13b0f2(0xfc) + _0x13b0f2(0xe0) + _0x13b0f2(0xea) + _0x13b0f2(0xc0))), TelegramVerifyMediaMessage_1 = __importDefault(require(_0x13b0f2(0xf6) + _0x13b0f2(0xbe) + _0x13b0f2(0xf2))), TelegramVerifyMessage_1 = __importDefault(require(_0x13b0f2(0xf6) + _0x13b0f2(0xc2) + _0x13b0f2(0xf0))), VerifyBusinessHours_1 = __importDefault(require(_0x13b0f2(0xe9) + _0x13b0f2(0xb8) + _0x13b0f2(0xeb) + _0x13b0f2(0xc1) + _0x13b0f2(0xb6))), VerifyStepsChatFlowTicket_1 = __importDefault(require(_0x13b0f2(0xcd) + _0x13b0f2(0xec) + _0x13b0f2(0xb5) + _0x13b0f2(0xdd) + _0x13b0f2(0xf1))), HandleMessage = (_0x568f6c, _0x42f05a) => __awaiter(void (-0x5 * -0x74 + 0x33 * 0x71 + -0x18c7), void (-0x445 + 0xfe7 + -0xba2), void (0x1 * 0x2197 + -0x1 * 0x8fd + -0x189a), function* () {
        const _0x2d119d = _0x13b0f2, _0x4c0d0f = {};
        _0x4c0d0f[_0x2d119d(0xb7)] = function (_0x31ca1e, _0x229e87) {
            return _0x31ca1e === _0x229e87;
        }, _0x4c0d0f[_0x2d119d(0xd8)] = function (_0x1e3467, _0x6aa356) {
            return _0x1e3467 === _0x6aa356;
        }, _0x4c0d0f[_0x2d119d(0xf3)] = function (_0x2e1cfe, _0x5989ff) {
            return _0x2e1cfe && _0x5989ff;
        }, _0x4c0d0f[_0x2d119d(0xe4)] = function (_0x39e1ce, _0x47c3c9) {
            return _0x39e1ce === _0x47c3c9;
        }, _0x4c0d0f[_0x2d119d(0xe2)] = function (_0x21efe4, _0x2e9b6d) {
            return _0x21efe4 === _0x2e9b6d;
        }, _0x4c0d0f[_0x2d119d(0xed)] = function (_0xd205dc, _0x3332c0) {
            return _0xd205dc * _0x3332c0;
        }, _0x4c0d0f[_0x2d119d(0xe8)] = _0x2d119d(0xbc), _0x4c0d0f[_0x2d119d(0xda)] = function (_0x35af21, _0x374bb5) {
            return _0x35af21 === _0x374bb5;
        }, _0x4c0d0f[_0x2d119d(0xf5)] = function (_0x9e1d0, _0x35267b) {
            return _0x9e1d0 === _0x35267b;
        }, _0x4c0d0f[_0x2d119d(0xe1)] = function (_0xa4af71, _0x390206) {
            return _0xa4af71 === _0x390206;
        };
        const _0x40933c = _0x4c0d0f;
        var _0x11be03;
        const _0x15fe64 = {};
        _0x15fe64['id'] = _0x42f05a['id'];
        const _0x42dacb = yield (-0xdb8 * 0x2 + 0x748 + -0xc * -0x1ae, ShowWhatsAppService_1[_0x2d119d(0x101)])(_0x15fe64);
        let _0x3f9c0f, _0x5f5def = {};
        _0x3f9c0f = _0x40933c[_0x2d119d(0xb7)](_0x568f6c, null) || _0x40933c[_0x2d119d(0xb7)](_0x568f6c, void (-0x1821 + -0x1 * -0xafb + -0x21 * -0x66)) ? void (-0x1150 + -0xb05 + 0x1c55 * 0x1) : _0x568f6c[_0x2d119d(0xfe)], _0x5f5def = _0x40933c[_0x2d119d(0xb7)](_0x568f6c, null) || _0x40933c[_0x2d119d(0xd8)](_0x568f6c, void (-0x1 * 0x493 + 0x16f * 0x11 + 0x7 * -0x2d4)) ? void (0x1324 + 0x1 * 0xacf + -0x1df3) : _0x568f6c[_0x2d119d(0xca)];
        _0x40933c[_0x2d119d(0xf3)](!_0x3f9c0f, _0x5f5def) && (_0x3f9c0f = _0x40933c[_0x2d119d(0xe4)](_0x5f5def, null) || _0x40933c[_0x2d119d(0xd8)](_0x5f5def, void (-0x103c + -0xb43 + 0x1b7f)) ? void (-0xda9 * 0x2 + 0x1a3c + 0x116) : _0x5f5def[_0x2d119d(0xe7) + _0x2d119d(0xcb)]);
        const _0x24e804 = _0x40933c[_0x2d119d(0xe2)](_0x3f9c0f, null) || _0x40933c[_0x2d119d(0xd8)](_0x3f9c0f, void (0x205f * -0x1 + -0xa3 * -0x2e + -0x1 * -0x315)) ? void (0x191b * -0x1 + 0xd * -0x34 + 0x1 * 0x1bbf) : _0x3f9c0f[_0x2d119d(0xc7)], _0x6bacc7 = yield _0x568f6c[_0x2d119d(0xbc)][_0x2d119d(0xd2)](), _0xda53db = _0x40933c[_0x2d119d(0xb7)](_0x6bacc7['id'], _0x40933c[_0x2d119d(0xe2)](_0x11be03 = _0x568f6c[_0x2d119d(0xfe)], null) || _0x40933c[_0x2d119d(0xe2)](_0x11be03, void (0x1 * -0x2635 + -0x2026 + 0x465b)) ? void (0x69e + 0x1d4e + -0x23ec) : _0x11be03[_0x2d119d(0xc5)]['id']), _0x1efbfc = Object[_0x2d119d(0xc8)](Object[_0x2d119d(0xc8)]({}, _0x3f9c0f), { 'timestamp': _0x40933c[_0x2d119d(0xed)](+_0x3f9c0f[_0x2d119d(0x107)], 0x216 * -0x11 + 0x174a + 0x1014) }), _0x58d6ef = yield (0x1f * -0x99 + 0x1e01 + -0x71 * 0x1a, TelegramVerifyContact_1[_0x2d119d(0x101)])(_0x568f6c, _0x42dacb[_0x2d119d(0xc3)]), _0x272917 = yield (0x1 * -0x18ad + -0x22fa + 0x3ba7, FindOrCreateTicketService_1[_0x2d119d(0x101)])({
                'contact': _0x58d6ef,
                'whatsappId': _0x42f05a['id'],
                'unreadMessages': _0xda53db ? -0x17dc + -0x17f4 + -0xff0 * -0x3 : -0x6a8 + 0x3 * -0x809 + 0x1ec4,
                'tenantId': _0x42dacb[_0x2d119d(0xc3)],
                'msg': Object[_0x2d119d(0xc8)](Object[_0x2d119d(0xc8)]({}, _0x1efbfc), { 'fromMe': _0xda53db }),
                'channel': _0x40933c[_0x2d119d(0xe8)]
            });
        if (_0x40933c[_0x2d119d(0xda)](_0x272917, null) || _0x40933c[_0x2d119d(0xf5)](_0x272917, void (-0xba2 + -0xaee * 0x1 + 0x1690)) ? void (0x333 + 0x2b6 + -0x59 * 0x11) : _0x272917[_0x2d119d(0xdc) + _0x2d119d(0xc4)])
            return;
        !(_0x40933c[_0x2d119d(0xe1)](_0x1efbfc, null) || _0x40933c[_0x2d119d(0xda)](_0x1efbfc, void (0xc8e * -0x1 + -0x1486 + 0x2114)) ? void (-0xbda + 0xab * 0x2b + 0x10df * -0x1) : _0x1efbfc[_0x2d119d(0xf9)]) && (_0x40933c[_0x2d119d(0xf5)](_0x24e804, null) || _0x40933c[_0x2d119d(0xda)](_0x24e804, void (-0x15db + -0x1b9 + 0x1794)) ? void (0x93e + -0xc02 + 0x2c4) : _0x24e804['id']) ? yield (-0x4 * 0x476 + -0x19ba + 0xd * 0x35a, TelegramVerifyMediaMessage_1[_0x2d119d(0x101)])(_0x568f6c, _0xda53db, _0x272917, _0x58d6ef) : yield (0x2c * 0x20 + 0x163c + -0x1bbc, TelegramVerifyMessage_1[_0x2d119d(0x101)])(_0x568f6c, _0xda53db, _0x272917, _0x58d6ef);
        const _0xfead56 = {};
        _0xfead56[_0x2d119d(0xff)] = _0xda53db, _0xfead56[_0x2d119d(0xfb)] = _0x3f9c0f[_0x2d119d(0xf9)] || '', yield (0x9 * -0x3b + -0x1 * 0x167 + 0x37a, VerifyStepsChatFlowTicket_1[_0x2d119d(0x101)])(_0xfead56, _0x272917);
        const _0x457d34 = {};
        _0x457d34[_0x2d119d(0xff)] = _0xda53db, _0x457d34[_0x2d119d(0xd0)] = _0x1efbfc[_0x2d119d(0xd0)], yield (0x8bb + -0xbab + 0x2f0, VerifyBusinessHours_1[_0x2d119d(0x101)])(_0x457d34, _0x272917);
    });
exports[_0x13b0f2(0x101)] = HandleMessage;