'use strict';
var _0xfd29c5 = _0x170e;
(function (_0x44dd6c, _0x2cac35) {
    var _0x313c4a = _0x170e, _0x46b7cc = _0x44dd6c();
    while (!![]) {
        try {
            var _0x2e2d24 = -parseInt(_0x313c4a(0x212)) / (-0x1505 * 0x1 + 0xd8a + 0x1df * 0x4) * (parseInt(_0x313c4a(0x1f2)) / (-0x18 * -0x97 + -0x2 * -0x767 + -0x1cf4)) + parseInt(_0x313c4a(0x1fb)) / (0x8f * -0x26 + -0x2 * 0x1297 + -0x1 * -0x3a6b) * (parseInt(_0x313c4a(0x204)) / (-0x1873 * -0x1 + -0x22f8 + 0xa89)) + parseInt(_0x313c4a(0x1f0)) / (-0x1ee1 + 0x20d9 + -0x1f3 * 0x1) * (parseInt(_0x313c4a(0x21b)) / (0x1 * -0x268d + 0x1796 + 0xefd)) + parseInt(_0x313c4a(0x207)) / (0x201c + -0x647 * -0x6 + -0x5 * 0xdf3) * (-parseInt(_0x313c4a(0x1ec)) / (0x305 * 0x3 + -0x1e17 + -0x2 * -0xa88)) + parseInt(_0x313c4a(0x203)) / (-0x18b6 + -0x3 * -0x485 + 0xb30) * (-parseInt(_0x313c4a(0x1ff)) / (-0x3d2 + 0xb * 0x1df + -0x10b9)) + parseInt(_0x313c4a(0x20c)) / (-0x1392 + -0x1 * -0x1a18 + -0x67b) + parseInt(_0x313c4a(0x21a)) / (-0x1bca + 0x1c41 + 0x1 * -0x6b) * (-parseInt(_0x313c4a(0x20b)) / (-0x3c0 + -0x2 * 0x1279 + 0x28bf));
            if (_0x2e2d24 === _0x2cac35)
                break;
            else
                _0x46b7cc['push'](_0x46b7cc['shift']());
        } catch (_0x8f364a) {
            _0x46b7cc['push'](_0x46b7cc['shift']());
        }
    }
}(_0x3800, 0xa250 * -0x1a + -0x9a93c + 0x24584f * 0x1));
var __awaiter = this && this[_0xfd29c5(0x219)] || function (_0x4f3126, _0x4f126e, _0x1c0996, _0x388c73) {
        var _0x1fb7eb = _0xfd29c5, _0x22451e = {
                'edMkc': function (_0x2e98e7, _0x37a6f7) {
                    return _0x2e98e7(_0x37a6f7);
                },
                'TANBe': function (_0x57bca6, _0x58edcb) {
                    return _0x57bca6 instanceof _0x58edcb;
                },
                'UbqYH': function (_0x2c3351, _0x456661) {
                    return _0x2c3351(_0x456661);
                },
                'wFaMt': function (_0x3a426c, _0x1d7698) {
                    return _0x3a426c(_0x1d7698);
                },
                'MPqKg': _0x1fb7eb(0x20f),
                'IAAdB': function (_0x374fa2, _0x5c0be8) {
                    return _0x374fa2(_0x5c0be8);
                }
            };
        function _0x282421(_0x4b0626) {
            var _0x1e48a8 = _0x1fb7eb, _0x420bcd = {
                    'mqMsC': function (_0x50971d, _0x2577f3) {
                        var _0x22db07 = _0x170e;
                        return _0x22451e[_0x22db07(0x1f7)](_0x50971d, _0x2577f3);
                    }
                };
            return _0x22451e[_0x1e48a8(0x1ed)](_0x4b0626, _0x1c0996) ? _0x4b0626 : new _0x1c0996(function (_0x44c875) {
                var _0x367c2b = _0x1e48a8;
                _0x420bcd[_0x367c2b(0x1f6)](_0x44c875, _0x4b0626);
            });
        }
        return new (_0x1c0996 || (_0x1c0996 = Promise))(function (_0xaa2655, _0x41c0c5) {
            var _0x49c733 = _0x1fb7eb, _0x451b90 = {
                    'GTDyC': function (_0x7145d, _0x2d5840) {
                        var _0x232a0f = _0x170e;
                        return _0x22451e[_0x232a0f(0x1f3)](_0x7145d, _0x2d5840);
                    }
                };
            function _0x53be6c(_0x4f8563) {
                var _0x55baf0 = _0x170e;
                try {
                    _0x22451e[_0x55baf0(0x211)](_0x4f8726, _0x388c73[_0x55baf0(0x200)](_0x4f8563));
                } catch (_0x2dde4b) {
                    _0x22451e[_0x55baf0(0x211)](_0x41c0c5, _0x2dde4b);
                }
            }
            function _0x5c6026(_0x5c4b07) {
                var _0x433023 = _0x170e;
                try {
                    _0x22451e[_0x433023(0x1f3)](_0x4f8726, _0x388c73[_0x22451e[_0x433023(0x210)]](_0x5c4b07));
                } catch (_0x49211e) {
                    _0x22451e[_0x433023(0x211)](_0x41c0c5, _0x49211e);
                }
            }
            function _0x4f8726(_0x571cb7) {
                var _0x1ae06c = _0x170e;
                _0x571cb7[_0x1ae06c(0x1f8)] ? _0x451b90[_0x1ae06c(0x1f9)](_0xaa2655, _0x571cb7[_0x1ae06c(0x1f1)]) : _0x451b90[_0x1ae06c(0x1f9)](_0x282421, _0x571cb7[_0x1ae06c(0x1f1)])[_0x1ae06c(0x208)](_0x53be6c, _0x5c6026);
            }
            _0x22451e[_0x49c733(0x215)](_0x4f8726, (_0x388c73 = _0x388c73[_0x49c733(0x1ef)](_0x4f3126, _0x4f126e || []))[_0x49c733(0x200)]());
        });
    }, __importDefault = this && this[_0xfd29c5(0x21c) + _0xfd29c5(0x20a)] || function (_0x51ee47) {
        var _0x46f8dc = _0xfd29c5;
        return _0x51ee47 && _0x51ee47[_0x46f8dc(0x1eb)] ? _0x51ee47 : { 'default': _0x51ee47 };
    }, _0x2d58c0 = {};
_0x2d58c0[_0xfd29c5(0x1f1)] = !![], Object[_0xfd29c5(0x1fe) + _0xfd29c5(0x20d)](exports, _0xfd29c5(0x1eb), _0x2d58c0);
function _0x3800() {
    var _0x209867 = [
        'erty',
        'Services/C',
        'throw',
        'MPqKg',
        'UbqYH',
        '881dkWPxp',
        'default',
        'reateMessa',
        'IAAdB',
        'getTime',
        'OWluE',
        'timestamp',
        '__awaiter',
        '12oKpgQn',
        '1782WalsQY',
        '__importDe',
        '__esModule',
        '641048xZHChO',
        'TANBe',
        'update',
        'apply',
        '14045HudwCL',
        'value',
        '810KFAcEI',
        'wFaMt',
        'text',
        'received',
        'mqMsC',
        'edMkc',
        'done',
        'GTDyC',
        'type',
        '3FRxnrm',
        'geService',
        '../Message',
        'defineProp',
        '30BFenVa',
        'next',
        'body',
        'vwMsc',
        '493326SBwuGE',
        '2509112aUGQaG',
        'fromMe',
        'messageDat',
        '35DUtpXe',
        'then',
        'tenantId',
        'fault',
        '240136SCUIFK',
        '1619486aUQhmp'
    ];
    _0x3800 = function () {
        return _0x209867;
    };
    return _0x3800();
}
const CreateMessageService_1 = __importDefault(require(_0xfd29c5(0x1fd) + _0xfd29c5(0x20e) + _0xfd29c5(0x214) + _0xfd29c5(0x1fc))), VerifyMessage360 = (_0x535cfc, _0xee8ac9, _0x40c0a3) => __awaiter(void (0x14f * -0x2 + 0x4 * 0x358 + -0x561 * 0x2), void (0x1890 * 0x1 + 0x1167 + -0x3 * 0xdfd), void (0x26d6 + -0x886 + -0x1e50), function* () {
        var _0x1747e4 = _0xfd29c5, _0x3fa175 = {};
        _0x3fa175[_0x1747e4(0x202)] = function (_0x2f9252, _0x452281) {
            return _0x2f9252 === _0x452281;
        }, _0x3fa175[_0x1747e4(0x217)] = _0x1747e4(0x1f5);
        var _0x12abc5 = _0x3fa175, _0x50e918;
        const _0x4bd676 = {
            'messageId': _0x535cfc['id'] || '',
            'ticketId': _0xee8ac9['id'],
            'contactId': _0x535cfc[_0x1747e4(0x205)] ? undefined : _0x40c0a3['id'],
            'body': (_0x12abc5[_0x1747e4(0x202)](_0x50e918 = _0x535cfc[_0x1747e4(0x1f4)], null) || _0x12abc5[_0x1747e4(0x202)](_0x50e918, void (-0xa * 0x1bf + 0x1 * 0x1aab + -0x935)) ? void (-0x194b * -0x1 + 0x3d * -0x8b + 0x7d4) : _0x50e918[_0x1747e4(0x201)]) || '',
            'fromMe': _0x535cfc[_0x1747e4(0x205)],
            'mediaType': _0x535cfc[_0x1747e4(0x1fa)],
            'read': _0x535cfc[_0x1747e4(0x205)],
            'timestamp': +_0x535cfc[_0x1747e4(0x218)],
            'status': _0x12abc5[_0x1747e4(0x217)]
        };
        yield _0xee8ac9[_0x1747e4(0x1ee)]({
            'lastMessage': _0x4bd676[_0x1747e4(0x201)],
            'lastMessageAt': new Date()[_0x1747e4(0x216)](),
            'answered': _0x535cfc[_0x1747e4(0x205)] || ![]
        });
        var _0x3cc90f = {};
        _0x3cc90f[_0x1747e4(0x206) + 'a'] = _0x4bd676, _0x3cc90f[_0x1747e4(0x209)] = _0xee8ac9[_0x1747e4(0x209)], yield (-0x3ae + -0xc08 + 0xfb6, CreateMessageService_1[_0x1747e4(0x213)])(_0x3cc90f);
    });
function _0x170e(_0x5e0e9b, _0x57a77b) {
    var _0x593774 = _0x3800();
    return _0x170e = function (_0xa7be1d, _0x6f783b) {
        _0xa7be1d = _0xa7be1d - (-0x8bd * 0x3 + 0x1272 + 0x9b0);
        var _0x12943f = _0x593774[_0xa7be1d];
        return _0x12943f;
    }, _0x170e(_0x5e0e9b, _0x57a77b);
}
exports[_0xfd29c5(0x213)] = VerifyMessage360;