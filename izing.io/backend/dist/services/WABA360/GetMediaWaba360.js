'use strict';
const _0x10eef4 = _0x932c;
(function (_0x441e41, _0xffc009) {
    const _0x4f68bf = _0x932c, _0x316268 = _0x441e41();
    while (!![]) {
        try {
            const _0x2d2f3d = -parseInt(_0x4f68bf(0x148)) / (0x16f6 + -0x753 + -0xfa2) * (-parseInt(_0x4f68bf(0x15e)) / (-0x64d * 0x5 + 0x2b * -0xb2 + 0x3d69)) + parseInt(_0x4f68bf(0x121)) / (-0x1327 + 0xc0c + -0x1 * -0x71e) * (-parseInt(_0x4f68bf(0x132)) / (-0xc15 + -0xf0c + 0x1b25)) + parseInt(_0x4f68bf(0x14d)) / (-0x2509 + -0x7a8 * 0x1 + 0x2cb6) * (-parseInt(_0x4f68bf(0x146)) / (-0x6 * -0x23c + 0x8f * 0x1d + -0x1 * 0x1d95)) + -parseInt(_0x4f68bf(0x159)) / (-0x26d4 + 0x2005 + 0xa * 0xaf) * (-parseInt(_0x4f68bf(0x138)) / (0x25eb + -0x45a * -0x3 + -0xa1 * 0x51)) + -parseInt(_0x4f68bf(0x15f)) / (0x27 * -0x64 + -0x16ec + -0x3 * -0xcbb) * (parseInt(_0x4f68bf(0x12b)) / (-0xbc5 * -0x1 + 0x21af * 0x1 + -0x2d6a)) + -parseInt(_0x4f68bf(0x117)) / (-0x1 * 0x26ae + -0x978 * -0x3 + -0x8b * -0x13) * (-parseInt(_0x4f68bf(0x136)) / (0x17f6 + 0xc1c * -0x1 + -0xbce)) + parseInt(_0x4f68bf(0x14f)) / (-0x1463 * -0x1 + -0xff + 0x1 * -0x1357) * (parseInt(_0x4f68bf(0x10f)) / (-0x1144 + 0x1d39 * -0x1 + 0x2e8b));
            if (_0x2d2f3d === _0xffc009)
                break;
            else
                _0x316268['push'](_0x316268['shift']());
        } catch (_0xedfc2a) {
            _0x316268['push'](_0x316268['shift']());
        }
    }
}(_0x431f, 0x486d3 + 0xc78c + 0x34d27));
var __awaiter = this && this[_0x10eef4(0x122)] || function (_0x170ac8, _0x5d6835, _0x5c9271, _0x43aaf5) {
        const _0x1e41cb = _0x10eef4, _0x53c637 = {
                'uzTcN': function (_0x3f34d5, _0x3f42f4) {
                    return _0x3f34d5(_0x3f42f4);
                },
                'QBbKg': function (_0x78294, _0x13dae0) {
                    return _0x78294 instanceof _0x13dae0;
                },
                'WhdgR': function (_0x1e1297, _0x2742c0) {
                    return _0x1e1297(_0x2742c0);
                },
                'uVjhk': _0x1e41cb(0x108),
                'yKODf': function (_0x2b02c3, _0x1d05eb) {
                    return _0x2b02c3(_0x1d05eb);
                }
            };
        function _0x478827(_0x3ebb36) {
            const _0xe996a = _0x1e41cb, _0x9575bd = {
                    'bGaRI': function (_0x52080a, _0x1a2695) {
                        const _0x44b0ff = _0x932c;
                        return _0x53c637[_0x44b0ff(0x13c)](_0x52080a, _0x1a2695);
                    }
                };
            return _0x53c637[_0xe996a(0x123)](_0x3ebb36, _0x5c9271) ? _0x3ebb36 : new _0x5c9271(function (_0x52bb66) {
                const _0x287757 = _0xe996a;
                _0x9575bd[_0x287757(0x115)](_0x52bb66, _0x3ebb36);
            });
        }
        return new (_0x5c9271 || (_0x5c9271 = Promise))(function (_0x46cf02, _0x325dfa) {
            const _0x40d0a4 = _0x1e41cb, _0x5c863f = {
                    'CWfhP': function (_0x367c39, _0x3442d7) {
                        const _0x1ed4ab = _0x932c;
                        return _0x53c637[_0x1ed4ab(0x12e)](_0x367c39, _0x3442d7);
                    },
                    'YvuLo': function (_0x5dd9a1, _0x3e8120) {
                        const _0x196973 = _0x932c;
                        return _0x53c637[_0x196973(0x12e)](_0x5dd9a1, _0x3e8120);
                    }
                };
            function _0xefdd1c(_0x2f77ae) {
                const _0x5d1a53 = _0x932c;
                try {
                    _0x53c637[_0x5d1a53(0x12e)](_0x5b7c31, _0x43aaf5[_0x5d1a53(0x14a)](_0x2f77ae));
                } catch (_0x403d98) {
                    _0x53c637[_0x5d1a53(0x12e)](_0x325dfa, _0x403d98);
                }
            }
            function _0x38c5b9(_0x5bbef3) {
                const _0xc2eae0 = _0x932c;
                try {
                    _0x53c637[_0xc2eae0(0x12e)](_0x5b7c31, _0x43aaf5[_0x53c637[_0xc2eae0(0x154)]](_0x5bbef3));
                } catch (_0x21e700) {
                    _0x53c637[_0xc2eae0(0x13c)](_0x325dfa, _0x21e700);
                }
            }
            function _0x5b7c31(_0x486add) {
                const _0x157456 = _0x932c;
                _0x486add[_0x157456(0x125)] ? _0x5c863f[_0x157456(0x104)](_0x46cf02, _0x486add[_0x157456(0x15b)]) : _0x5c863f[_0x157456(0x15d)](_0x478827, _0x486add[_0x157456(0x15b)])[_0x157456(0x105)](_0xefdd1c, _0x38c5b9);
            }
            _0x53c637[_0x40d0a4(0x13d)](_0x5b7c31, (_0x43aaf5 = _0x43aaf5[_0x40d0a4(0x144)](_0x170ac8, _0x5d6835 || []))[_0x40d0a4(0x14a)]());
        });
    }, __importDefault = this && this[_0x10eef4(0x160) + _0x10eef4(0x151)] || function (_0x5af47c) {
        const _0x34c429 = _0x10eef4;
        return _0x5af47c && _0x5af47c[_0x34c429(0x141)] ? _0x5af47c : { 'default': _0x5af47c };
    };
function _0x431f() {
    const _0x4233c8 = [
        'erty',
        '11GEGlyV',
        'LOAD',
        'join',
        'audio',
        'ZMLZx',
        'defineProp',
        'ERROR\x20DONW',
        'tokenAPI',
        'PBnIs',
        'createWrit',
        '16461EbIgCT',
        '__awaiter',
        'QBbKg',
        'data',
        'done',
        '360_NOT_DO',
        'iqYVd',
        'headers',
        'error',
        'length',
        '9490kOlqPi',
        'document',
        'pipe',
        'WhdgR',
        'mczoL',
        'filename',
        'DcUoL',
        '12YfXmwO',
        '/v1/media/',
        'hJhSv',
        'public',
        '6909612VSsZaX',
        'mime_type',
        '867176xZTzuX',
        'D360-API-K',
        'CVxcZ',
        'CMKqD',
        'uzTcN',
        'yKODf',
        'stream',
        'LgpmQ',
        'OMdot',
        '__esModule',
        'RdhMB',
        'video',
        'apply',
        'YgByS',
        '570HoargC',
        'method',
        '64553gKynDB',
        'API_URL_36',
        'next',
        'uzGYQ',
        'image',
        '5835AnXShS',
        'default',
        '348127BXnzvF',
        's/logger',
        'fault',
        'finish',
        'IA:\x20',
        'uVjhk',
        'rs/AppErro',
        'eStream',
        'path',
        'GET',
        '7bgGIWN',
        'responseTy',
        'value',
        'voice',
        'YvuLo',
        '28hIeayA',
        '10026GZdoZS',
        '__importDe',
        'xfIFV',
        'nqFQg',
        'CWfhP',
        'then',
        'WNLOAD_MED',
        'WjsmU',
        'throw',
        'logger',
        'env',
        'getTime',
        'axios',
        'split',
        'url',
        '84FLVmye',
        '../../util',
        '../../erro',
        'oMGit',
        'PWwJz',
        'bbdmD',
        'bGaRI'
    ];
    _0x431f = function () {
        return _0x4233c8;
    };
    return _0x431f();
}
const _0x1fed82 = {};
function _0x932c(_0x3753b1, _0x5d93f9) {
    const _0x298d78 = _0x431f();
    return _0x932c = function (_0x15a5ab, _0x51f432) {
        _0x15a5ab = _0x15a5ab - (-0x294 * 0xf + -0x5 * -0x5b9 + -0x3b1 * -0x3);
        let _0x8d3aea = _0x298d78[_0x15a5ab];
        return _0x8d3aea;
    }, _0x932c(_0x3753b1, _0x5d93f9);
}
_0x1fed82[_0x10eef4(0x15b)] = !![], Object[_0x10eef4(0x11c) + _0x10eef4(0x116)](exports, _0x10eef4(0x141), _0x1fed82);
const axios_1 = __importDefault(require(_0x10eef4(0x10c))), fs_1 = require('fs'), path_1 = require(_0x10eef4(0x157)), AppError_1 = __importDefault(require(_0x10eef4(0x111) + _0x10eef4(0x155) + 'r')), logger_1 = require(_0x10eef4(0x110) + _0x10eef4(0x150)), downloadFile = (_0x35c1f7, _0x122b7c, _0x5c3ff5) => __awaiter(void (0x368 + -0x1b9f * 0x1 + 0x1 * 0x1837), void (0x239 * -0x4 + -0x1b0 + -0x54a * -0x2), void (-0x5b5 + 0x148d + -0xed8), function* () {
        const _0x18e40f = _0x10eef4, _0x45e4cc = {
                'xfIFV': function (_0x6961f0, _0x2ecb3b) {
                    return _0x6961f0(_0x2ecb3b);
                },
                'CVxcZ': _0x18e40f(0x11d) + _0x18e40f(0x118),
                'nqFQg': function (_0x47c0b2, _0x488fab) {
                    return _0x47c0b2(_0x488fab);
                },
                'uzGYQ': _0x18e40f(0x152),
                'hJhSv': _0x18e40f(0x129),
                'mczoL': _0x18e40f(0x135),
                'WjsmU': _0x18e40f(0x158),
                'ZMLZx': _0x18e40f(0x13e)
            }, _0x2caa50 = process[_0x18e40f(0x10a)][_0x18e40f(0x149) + '0'] + _0x18e40f(0x133) + _0x122b7c, _0x5bf29a = (-0x7e2 + -0x2178 + 0x295a, path_1[_0x18e40f(0x119)])(__dirname, '..', '..', _0x45e4cc[_0x18e40f(0x12f)], _0x5c3ff5), _0x5ca27c = {};
        _0x5ca27c[_0x18e40f(0x139) + 'EY'] = _0x35c1f7;
        const _0x27f0f9 = {};
        _0x27f0f9[_0x18e40f(0x10e)] = _0x2caa50, _0x27f0f9[_0x18e40f(0x147)] = _0x45e4cc[_0x18e40f(0x107)], _0x27f0f9[_0x18e40f(0x15a) + 'pe'] = _0x45e4cc[_0x18e40f(0x11b)], _0x27f0f9[_0x18e40f(0x128)] = _0x5ca27c;
        const _0x57c808 = yield (-0x7b3 + -0x14cb * -0x1 + 0x8 * -0x1a3, axios_1[_0x18e40f(0x14e)])(_0x27f0f9);
        yield new Promise((_0x37fa1e, _0x406217) => {
            const _0x49fbed = _0x18e40f, _0x353812 = {
                    'oMGit': _0x45e4cc[_0x49fbed(0x13a)],
                    'PBnIs': function (_0x45fa44, _0x3f04a1) {
                        const _0x164a81 = _0x49fbed;
                        return _0x45e4cc[_0x164a81(0x162)](_0x45fa44, _0x3f04a1);
                    }
                };
            _0x57c808[_0x49fbed(0x124)][_0x49fbed(0x12d)]((0x1 * 0x10ed + -0x4b9 * -0x1 + -0x15a6, fs_1[_0x49fbed(0x120) + _0x49fbed(0x156)])(_0x5bf29a))['on'](_0x45e4cc[_0x49fbed(0x14b)], () => __awaiter(void (0x224 + 0x19fd + -0x1c21 * 0x1), void (-0x1 * -0x267d + -0x1abb + -0xbc2), void (-0x57 * 0x30 + -0x596 + -0x2 * -0xaf3), function* () {
                const _0xd84f3c = _0x49fbed;
                return _0x45e4cc[_0xd84f3c(0x161)](_0x37fa1e, !![]);
            }))['on'](_0x45e4cc[_0x49fbed(0x134)], _0x329b60 => {
                const _0x28ff0b = _0x49fbed;
                console[_0x28ff0b(0x129)](_0x353812[_0x28ff0b(0x112)], _0x329b60), _0x353812[_0x28ff0b(0x11f)](_0x406217, new Error(_0x329b60));
            });
        });
    }), GetMediaWaba360 = ({
        channel: _0x5ab9cd,
        msg: _0x17ef63,
        ticket: _0x4cdca6
    }) => __awaiter(void (0x1cfc + 0xad9 + -0x27d5), void (0xe6b * -0x1 + -0x23e9 + -0x2 * -0x192a), void (-0x5 * 0x535 + -0x1c18 + 0x95 * 0x5d), function* () {
        const _0x53b882 = _0x10eef4, _0x5f235a = {
                'YgByS': function (_0xb9b41b, _0x2e3a0d) {
                    return _0xb9b41b === _0x2e3a0d;
                },
                'PWwJz': function (_0x29ec43, _0x494050) {
                    return _0x29ec43 === _0x494050;
                },
                'CMKqD': function (_0x5be70e, _0x1a4413) {
                    return _0x5be70e === _0x1a4413;
                },
                'LgpmQ': function (_0x46c084, _0x275d8b) {
                    return _0x46c084 === _0x275d8b;
                },
                'DcUoL': function (_0x287173, _0xe0f1d3) {
                    return _0x287173 === _0xe0f1d3;
                },
                'bbdmD': function (_0x5c3042, _0x398385) {
                    return _0x5c3042 > _0x398385;
                },
                'OMdot': function (_0x4a3a11, _0x21f680) {
                    return _0x4a3a11 === _0x21f680;
                },
                'RdhMB': function (_0x42b620, _0xe6959c) {
                    return _0x42b620 === _0xe6959c;
                },
                'iqYVd': function (_0x11dfa4, _0x177062, _0x293832, _0x4f3f4f) {
                    return _0x11dfa4(_0x177062, _0x293832, _0x4f3f4f);
                }
            };
        try {
            let _0x466197 = '', _0x422898, _0x28eee1;
            (_0x5f235a[_0x53b882(0x145)](_0x17ef63, null) || _0x5f235a[_0x53b882(0x113)](_0x17ef63, void (0x255f + -0x185e + 0xd01 * -0x1)) ? void (0x1a98 + 0x246f + -0x3f07) : _0x17ef63[_0x53b882(0x12c)]) && (_0x466197 = _0x17ef63[_0x53b882(0x12c)]['id'] || '', _0x422898 = _0x17ef63[_0x53b882(0x12c)][_0x53b882(0x130)], _0x28eee1 = _0x17ef63[_0x53b882(0x12c)][_0x53b882(0x137)]);
            (_0x5f235a[_0x53b882(0x145)](_0x17ef63, null) || _0x5f235a[_0x53b882(0x13b)](_0x17ef63, void (0x14ef + 0x21 * -0x4e + -0xae1)) ? void (-0x59 * 0x4f + 0x355 + 0xc11 * 0x2) : _0x17ef63[_0x53b882(0x14c)]) && (_0x466197 = _0x17ef63[_0x53b882(0x14c)]['id'] || '', _0x28eee1 = _0x17ef63[_0x53b882(0x14c)][_0x53b882(0x137)]);
            (_0x5f235a[_0x53b882(0x13f)](_0x17ef63, null) || _0x5f235a[_0x53b882(0x131)](_0x17ef63, void (-0x5fb * -0x3 + 0x1b * -0x12b + -0xae * -0x14)) ? void (0x133 * -0x1 + 0x6ed * 0x5 + -0x216e) : _0x17ef63[_0x53b882(0x143)]) && (_0x466197 = _0x17ef63[_0x53b882(0x143)]['id'] || '', _0x28eee1 = _0x17ef63[_0x53b882(0x143)][_0x53b882(0x137)]);
            if (_0x5f235a[_0x53b882(0x13f)](_0x17ef63, null) || _0x5f235a[_0x53b882(0x13f)](_0x17ef63, void (0x1d2 + -0xf03 * -0x1 + -0x10d5)) ? void (-0x23a5 + -0x22c1 + -0x2 * -0x2333) : _0x17ef63[_0x53b882(0x15c)]) {
                _0x466197 = _0x17ef63[_0x53b882(0x15c)]['id'] || '';
                const _0x5f4151 = _0x17ef63[_0x53b882(0x15c)][_0x53b882(0x137)] || '', _0x22c933 = _0x5f4151[_0x53b882(0x10d)](';');
                _0x28eee1 = _0x5f235a[_0x53b882(0x114)](_0x22c933[_0x53b882(0x12a)], 0xbe1 + -0x220b + 0x162b) ? _0x22c933[-0xfe + -0xe * -0x20 + -0x1 * 0xc2] : _0x17ef63[_0x53b882(0x15c)][_0x53b882(0x137)];
            }
            (_0x5f235a[_0x53b882(0x140)](_0x17ef63, null) || _0x5f235a[_0x53b882(0x13b)](_0x17ef63, void (-0xa1a + -0xe81 + 0x189b)) ? void (0x73c * -0x2 + 0x3b * 0x2c + -0x2 * -0x22a) : _0x17ef63[_0x53b882(0x11a)]) && (_0x466197 = _0x17ef63[_0x53b882(0x11a)]['id'] || '', _0x28eee1 = _0x17ef63[_0x53b882(0x11a)][_0x53b882(0x137)]);
            const _0x57e8fc = _0x5f235a[_0x53b882(0x142)](_0x28eee1, null) || _0x5f235a[_0x53b882(0x13b)](_0x28eee1, void (-0x241 + -0x19df + 0x1e * 0xf0)) ? void (0x1523 + 0x4 * 0x7f3 + -0x34ef) : _0x28eee1[_0x53b882(0x10d)]('/')[0x2 * -0xeab + 0x1531 + 0x826][_0x53b882(0x10d)](';')[-0x2 * 0xcf1 + -0x254f * -0x1 + 0x41 * -0x2d], _0x3b2d3a = new Date()[_0x53b882(0x10b)](), _0x569d0c = _0x422898 ? _0x422898 + '_' + _0x4cdca6['id'] + '_' + _0x466197 + '_' + _0x3b2d3a + '.' + _0x57e8fc : _0x4cdca6['id'] + '_' + _0x466197 + '_' + _0x3b2d3a + '.' + _0x57e8fc;
            return yield _0x5f235a[_0x53b882(0x127)](downloadFile, _0x5ab9cd[_0x53b882(0x11e)], _0x466197, _0x569d0c), _0x569d0c;
        } catch (_0x3fc9bb) {
            logger_1[_0x53b882(0x109)][_0x53b882(0x129)](_0x3fc9bb);
            throw new AppError_1[(_0x53b882(0x14e))](_0x53b882(0x126) + _0x53b882(0x106) + _0x53b882(0x153) + _0x3fc9bb);
        }
    });
exports[_0x10eef4(0x14e)] = GetMediaWaba360;