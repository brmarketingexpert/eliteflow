'use strict';
function _0x3612() {
    const _0x2428e7 = [
        'TJYlZ',
        'hcYQm',
        'defineProp',
        '2761623ElShpM',
        'apply',
        'default',
        'value',
        'dmRzq',
        '__importDe',
        'quotedMsg',
        '54777FBiLOG',
        '__esModule',
        'CNemL',
        'include',
        'JkKgn',
        '2761770KsjqCK',
        '168ndmPGW',
        '10073bktUMe',
        'bVHnr',
        '895BoQIIm',
        'ticket',
        'chat:creat',
        'AcOqM',
        'tenantId',
        'findOne',
        'throw',
        'messageId',
        'done',
        'AEZfc',
        'next',
        'fYXlm',
        'payload',
        'fault',
        'NG_MESSAGE',
        'SavaE',
        'type',
        'ls/Ticket',
        'BuJPJ',
        'where',
        'ERR_CREATI',
        'contact',
        '86mOUamx',
        'oZNTp',
        'Ntjkd',
        '../../help',
        'XEHdV',
        'name',
        '888lccLoc',
        'erty',
        '18629zkiyrP',
        'Emit',
        'create',
        'then',
        '9280480hRFQzW',
        '3504TTfHrE',
        'assign',
        'zWqZN',
        'ls/Contact',
        'model',
        'update',
        '../../mode',
        'ers/socket',
        'ls/Message',
        '__awaiter'
    ];
    _0x3612 = function () {
        return _0x2428e7;
    };
    return _0x3612();
}
function _0x3d01(_0xce817c, _0x18d736) {
    const _0x518da0 = _0x3612();
    return _0x3d01 = function (_0xd85fc6, _0x2f8ccf) {
        _0xd85fc6 = _0xd85fc6 - (0x1 * 0x5e7 + 0x6f9 + -0xc49);
        let _0xbcec7b = _0x518da0[_0xd85fc6];
        return _0xbcec7b;
    }, _0x3d01(_0xce817c, _0x18d736);
}
const _0x1c6233 = _0x3d01;
(function (_0x125394, _0x43f1e6) {
    const _0x47bcba = _0x3d01, _0x13544e = _0x125394();
    while (!![]) {
        try {
            const _0x4dfb33 = -parseInt(_0x47bcba(0xaf)) / (0xe1a + -0xa * -0xa7 + 0x149f * -0x1) * (-parseInt(_0x47bcba(0xa7)) / (0xb6b * 0x2 + 0x58f + -0x1c63)) + -parseInt(_0x47bcba(0xc8)) / (0x53b + 0x1af2 * 0x1 + 0x2e * -0xb3) * (parseInt(_0x47bcba(0xce)) / (-0x13b6 + 0x1 * -0x1d69 + 0x1061 * 0x3)) + parseInt(_0x47bcba(0xd1)) / (-0x20f4 + -0xe4f + 0x2f48) * (-parseInt(_0x47bcba(0xb4)) / (-0x1239 + -0x23e4 + 0x3623)) + parseInt(_0x47bcba(0xcf)) / (0x1c41 + -0x3 * -0xc50 + -0x412a) * (-parseInt(_0x47bcba(0xad)) / (0x18 + 0x143c + -0xa26 * 0x2)) + -parseInt(_0x47bcba(0xc1)) / (-0x840 + -0x1a57 + 0x22a0) + parseInt(_0x47bcba(0xb3)) / (-0xf3 * -0x16 + 0x126e + -0x1 * 0x2746) + parseInt(_0x47bcba(0xcd)) / (-0x22 * 0x10 + 0x15 * -0x131 + 0x1b30);
            if (_0x4dfb33 === _0x43f1e6)
                break;
            else
                _0x13544e['push'](_0x13544e['shift']());
        } catch (_0x26e3fe) {
            _0x13544e['push'](_0x13544e['shift']());
        }
    }
}(_0x3612, 0x9e767 + 0x1 * -0x5bd07 + 0x3 * 0x1e0b5));
var __awaiter = this && this[_0x1c6233(0xbd)] || function (_0x161baf, _0x367197, _0x52608a, _0x165ac3) {
        const _0x4af3b6 = _0x1c6233, _0x4e1c52 = {
                'dmRzq': function (_0x1b0f9e, _0x2c59c8) {
                    return _0x1b0f9e(_0x2c59c8);
                },
                'AcOqM': function (_0x3dc882, _0x28c53c) {
                    return _0x3dc882 instanceof _0x28c53c;
                },
                'TJYlZ': function (_0x4e5d06, _0x1e8f18) {
                    return _0x4e5d06(_0x1e8f18);
                },
                'XEHdV': _0x4af3b6(0x97),
                'BuJPJ': function (_0x19f8b3, _0x484277) {
                    return _0x19f8b3(_0x484277);
                },
                'JkKgn': function (_0x1e13ab, _0x461e33) {
                    return _0x1e13ab(_0x461e33);
                },
                'Ntjkd': function (_0x5cf754, _0x1405fc) {
                    return _0x5cf754(_0x1405fc);
                },
                'CNemL': function (_0x97036e, _0x3dc612) {
                    return _0x97036e(_0x3dc612);
                }
            };
        function _0x5aab16(_0x1808b0) {
            const _0x15049e = _0x4af3b6, _0x2856b2 = {
                    'bVHnr': function (_0x3656d6, _0x5a9471) {
                        const _0x28071d = _0x3d01;
                        return _0x4e1c52[_0x28071d(0xc5)](_0x3656d6, _0x5a9471);
                    }
                };
            return _0x4e1c52[_0x15049e(0xd4)](_0x1808b0, _0x52608a) ? _0x1808b0 : new _0x52608a(function (_0x4c80c1) {
                const _0x3321ea = _0x15049e;
                _0x2856b2[_0x3321ea(0xd0)](_0x4c80c1, _0x1808b0);
            });
        }
        return new (_0x52608a || (_0x52608a = Promise))(function (_0x51accb, _0x3650a3) {
            const _0x5c3e17 = _0x4af3b6;
            function _0x459dac(_0x168868) {
                const _0x2759aa = _0x3d01;
                try {
                    _0x4e1c52[_0x2759aa(0xc5)](_0x343a1c, _0x165ac3[_0x2759aa(0x9b)](_0x168868));
                } catch (_0x20fe71) {
                    _0x4e1c52[_0x2759aa(0xbe)](_0x3650a3, _0x20fe71);
                }
            }
            function _0x2cbf54(_0xaf4482) {
                const _0x245306 = _0x3d01;
                try {
                    _0x4e1c52[_0x245306(0xbe)](_0x343a1c, _0x165ac3[_0x4e1c52[_0x245306(0xab)]](_0xaf4482));
                } catch (_0x236056) {
                    _0x4e1c52[_0x245306(0xa3)](_0x3650a3, _0x236056);
                }
            }
            function _0x343a1c(_0x4fcae3) {
                const _0x53f799 = _0x3d01;
                _0x4fcae3[_0x53f799(0x99)] ? _0x4e1c52[_0x53f799(0xcc)](_0x51accb, _0x4fcae3[_0x53f799(0xc4)]) : _0x4e1c52[_0x53f799(0xa9)](_0x5aab16, _0x4fcae3[_0x53f799(0xc4)])[_0x53f799(0xb2)](_0x459dac, _0x2cbf54);
            }
            _0x4e1c52[_0x5c3e17(0xca)](_0x343a1c, (_0x165ac3 = _0x165ac3[_0x5c3e17(0xc2)](_0x161baf, _0x367197 || []))[_0x5c3e17(0x9b)]());
        });
    }, __importDefault = this && this[_0x1c6233(0xc6) + _0x1c6233(0x9e)] || function (_0x3a50b6) {
        const _0x227850 = _0x1c6233;
        return _0x3a50b6 && _0x3a50b6[_0x227850(0xc9)] ? _0x3a50b6 : { 'default': _0x3a50b6 };
    };
const _0x340f2b = {};
_0x340f2b[_0x1c6233(0xc4)] = !![], Object[_0x1c6233(0xc0) + _0x1c6233(0xae)](exports, _0x1c6233(0xc9), _0x340f2b);
const Message_1 = __importDefault(require(_0x1c6233(0xba) + _0x1c6233(0xbc))), Ticket_1 = __importDefault(require(_0x1c6233(0xba) + _0x1c6233(0xa2))), socketEmit_1 = __importDefault(require(_0x1c6233(0xaa) + _0x1c6233(0xbb) + _0x1c6233(0xb0))), Contact_1 = __importDefault(require(_0x1c6233(0xba) + _0x1c6233(0xb7))), CreateMessageService = ({
        messageData: _0x425d93,
        tenantId: _0x10f480
    }) => __awaiter(void (-0x2438 + -0x8ae + -0x7 * -0x66a), void (0x1b47 * -0x1 + 0x26a7 + -0x10 * 0xb6), void (0x2 * -0x12c8 + 0x2d5 * -0x1 + 0x2865), function* () {
        const _0x283b75 = _0x1c6233, _0x322104 = {};
        _0x322104[_0x283b75(0xa8)] = _0x283b75(0xd2), _0x322104[_0x283b75(0xb6)] = _0x283b75(0xa6), _0x322104[_0x283b75(0xa0)] = _0x283b75(0xc7), _0x322104[_0x283b75(0x9c)] = _0x283b75(0xac), _0x322104[_0x283b75(0x9a)] = _0x283b75(0xa5) + _0x283b75(0x9f), _0x322104[_0x283b75(0xbf)] = _0x283b75(0xd3) + 'e';
        const _0x3ad581 = _0x322104, _0x2935a2 = {};
        _0x2935a2[_0x283b75(0x98)] = _0x425d93[_0x283b75(0x98)], _0x2935a2[_0x283b75(0xd5)] = _0x10f480;
        const _0x1c4f7e = {};
        _0x1c4f7e[_0x283b75(0xa4)] = _0x2935a2;
        const _0x1733d0 = yield Message_1[_0x283b75(0xc3)][_0x283b75(0xd6)](_0x1c4f7e);
        if (!_0x1733d0) {
            const _0x280670 = {};
            _0x280670[_0x283b75(0xd5)] = _0x10f480, yield Message_1[_0x283b75(0xc3)][_0x283b75(0xb1)](Object[_0x283b75(0xb5)](Object[_0x283b75(0xb5)]({}, _0x425d93), _0x280670));
        } else
            yield _0x1733d0[_0x283b75(0xb9)](_0x425d93);
        const _0x304b9c = {};
        _0x304b9c[_0x283b75(0x98)] = _0x425d93[_0x283b75(0x98)], _0x304b9c[_0x283b75(0xd5)] = _0x10f480;
        const _0x4ed1a4 = {};
        _0x4ed1a4[_0x283b75(0xd5)] = _0x10f480;
        const _0xb2ff0c = {};
        _0xb2ff0c[_0x283b75(0xb8)] = Ticket_1[_0x283b75(0xc3)], _0xb2ff0c['as'] = _0x3ad581[_0x283b75(0xa8)], _0xb2ff0c[_0x283b75(0xa4)] = _0x4ed1a4, _0xb2ff0c[_0x283b75(0xcb)] = [_0x3ad581[_0x283b75(0xb6)]];
        const _0x3124d9 = yield Message_1[_0x283b75(0xc3)][_0x283b75(0xd6)]({
            'where': _0x304b9c,
            'include': [
                _0xb2ff0c,
                {
                    'model': Message_1[_0x283b75(0xc3)],
                    'as': _0x3ad581[_0x283b75(0xa0)],
                    'include': [_0x3ad581[_0x283b75(0xb6)]]
                },
                {
                    'model': Contact_1[_0x283b75(0xc3)],
                    'attributes': [
                        'id',
                        _0x3ad581[_0x283b75(0x9c)]
                    ]
                }
            ]
        });
        if (!_0x3124d9)
            throw new Error(_0x3ad581[_0x283b75(0x9a)]);
        const _0xf59f5e = {};
        return _0xf59f5e[_0x283b75(0xd5)] = _0x10f480, _0xf59f5e[_0x283b75(0xa1)] = _0x3ad581[_0x283b75(0xbf)], _0xf59f5e[_0x283b75(0x9d)] = _0x3124d9, (-0x59b + -0x3 * 0xc05 + 0x29aa, socketEmit_1[_0x283b75(0xc3)])(_0xf59f5e), _0x3124d9;
    });
exports[_0x1c6233(0xc3)] = CreateMessageService;