'use strict';
const _0x1c1e38 = _0x3188;
(function (_0x35ace4, _0x34e311) {
    const _0x32f757 = _0x3188, _0x2d8f89 = _0x35ace4();
    while (!![]) {
        try {
            const _0x53637b = parseInt(_0x32f757(0x1ef)) / (-0x1df2 * -0x1 + 0x4d3 + 0x37a * -0xa) * (-parseInt(_0x32f757(0x1dc)) / (-0x1053 * -0x1 + 0x1f86 + 0x14b * -0x25)) + parseInt(_0x32f757(0x1f8)) / (0x1cd7 + 0x1 * 0xd71 + -0x2a45) + -parseInt(_0x32f757(0x211)) / (-0x1 * -0x1ed + 0x125e * -0x1 + 0x1075) + parseInt(_0x32f757(0x1f3)) / (-0xf9e * 0x2 + -0x215f + 0x40a0) + parseInt(_0x32f757(0x229)) / (0xa0f + -0x5 * -0x62 + -0xbf3) * (parseInt(_0x32f757(0x1aa)) / (-0x2 * -0x6b6 + -0x1dca + 0x1065)) + parseInt(_0x32f757(0x210)) / (0x44f + 0x85c + -0xca3) + parseInt(_0x32f757(0x22b)) / (-0x13 * 0x1ed + 0x352 + 0x57 * 0x62);
            if (_0x53637b === _0x34e311)
                break;
            else
                _0x2d8f89['push'](_0x2d8f89['shift']());
        } catch (_0x236348) {
            _0x2d8f89['push'](_0x2d8f89['shift']());
        }
    }
}(_0x45df, -0x21cd * -0x3 + -0x16866f + 0x22bc9f));
var __awaiter = this && this[_0x1c1e38(0x1ad)] || function (_0x34844c, _0x5bc29e, _0x11a731, _0x2a6234) {
        const _0x3c8169 = _0x1c1e38, _0x30da76 = {
                'OIoHC': function (_0x1e20bb, _0x596e81) {
                    return _0x1e20bb(_0x596e81);
                },
                'DJIcW': function (_0x3b525d, _0x597163) {
                    return _0x3b525d instanceof _0x597163;
                },
                'MelTz': function (_0x1905d4, _0x4b9c61) {
                    return _0x1905d4(_0x4b9c61);
                },
                'oRSij': function (_0x5099b4, _0x3c63f7) {
                    return _0x5099b4(_0x3c63f7);
                },
                'MhOsV': _0x3c8169(0x1f0),
                'aEgqT': function (_0x3a9252, _0x5ca3d5) {
                    return _0x3a9252(_0x5ca3d5);
                }
            };
        function _0x2f9636(_0x1bd9e5) {
            const _0x3f44ef = _0x3c8169, _0x8b6b10 = {
                    'PUNfR': function (_0x244c51, _0x5c4e31) {
                        const _0x388278 = _0x3188;
                        return _0x30da76[_0x388278(0x21e)](_0x244c51, _0x5c4e31);
                    }
                };
            return _0x30da76[_0x3f44ef(0x1b1)](_0x1bd9e5, _0x11a731) ? _0x1bd9e5 : new _0x11a731(function (_0x5a06d5) {
                const _0x19c50f = _0x3f44ef;
                _0x8b6b10[_0x19c50f(0x23e)](_0x5a06d5, _0x1bd9e5);
            });
        }
        return new (_0x11a731 || (_0x11a731 = Promise))(function (_0x375641, _0x35fc18) {
            const _0x265a1b = _0x3c8169, _0x14a1ca = {
                    'OCpvT': function (_0x16eb17, _0x3251f3) {
                        const _0x43963e = _0x3188;
                        return _0x30da76[_0x43963e(0x203)](_0x16eb17, _0x3251f3);
                    },
                    'gnIEd': function (_0x1cc4f5, _0x4b325c) {
                        const _0x4fa31c = _0x3188;
                        return _0x30da76[_0x4fa31c(0x21e)](_0x1cc4f5, _0x4b325c);
                    },
                    'ROpYy': _0x30da76[_0x265a1b(0x23d)],
                    'olCVh': function (_0x122580, _0x42b1b3) {
                        const _0x17684c = _0x265a1b;
                        return _0x30da76[_0x17684c(0x203)](_0x122580, _0x42b1b3);
                    }
                };
            function _0xda7b69(_0x5a24e8) {
                const _0x471abb = _0x265a1b;
                try {
                    _0x14a1ca[_0x471abb(0x1ea)](_0x39b951, _0x2a6234[_0x471abb(0x219)](_0x5a24e8));
                } catch (_0x20bc81) {
                    _0x14a1ca[_0x471abb(0x1c4)](_0x35fc18, _0x20bc81);
                }
            }
            function _0x118c09(_0x2a7212) {
                const _0x41d3d8 = _0x265a1b;
                try {
                    _0x14a1ca[_0x41d3d8(0x1c4)](_0x39b951, _0x2a6234[_0x14a1ca[_0x41d3d8(0x213)]](_0x2a7212));
                } catch (_0x5984aa) {
                    _0x14a1ca[_0x41d3d8(0x20b)](_0x35fc18, _0x5984aa);
                }
            }
            function _0x39b951(_0x247c26) {
                const _0x5f2ece = _0x265a1b;
                _0x247c26[_0x5f2ece(0x1f7)] ? _0x30da76[_0x5f2ece(0x209)](_0x375641, _0x247c26[_0x5f2ece(0x1fe)]) : _0x30da76[_0x5f2ece(0x203)](_0x2f9636, _0x247c26[_0x5f2ece(0x1fe)])[_0x5f2ece(0x1da)](_0xda7b69, _0x118c09);
            }
            _0x30da76[_0x265a1b(0x1b7)](_0x39b951, (_0x2a6234 = _0x2a6234[_0x265a1b(0x1f5)](_0x34844c, _0x5bc29e || []))[_0x265a1b(0x219)]());
        });
    }, __importDefault = this && this[_0x1c1e38(0x1b2) + _0x1c1e38(0x218)] || function (_0x479035) {
        const _0x1dc19e = _0x1c1e38;
        return _0x479035 && _0x479035[_0x1dc19e(0x201)] ? _0x479035 : { 'default': _0x479035 };
    };
function _0x45df() {
    const _0x580767 = [
        'dirname',
        'quotedMsg',
        'all',
        'peg',
        'eStream',
        'Service',
        's/logger',
        'body',
        '/socket',
        'MhOsV',
        'PUNfR',
        'CreateMess',
        'substr',
        '.mp3',
        '7609byoXmu',
        'extname',
        'userId',
        '__awaiter',
        'timestamp',
        'writeFile',
        'public',
        'DJIcW',
        '__importDe',
        'setFfmpegP',
        'chat',
        'Encoding\x20E',
        'error',
        'aEgqT',
        'ls/Ticket',
        'tucfs',
        'createWrit',
        'buffer',
        'findByPk',
        'Ticket\x20aud',
        'cceeded\x20!',
        'ticket',
        'filename',
        'hawti',
        'exit',
        'ERR_CREATI',
        'gnIEd',
        'create',
        'mp3',
        'message',
        'DbFfZ',
        'split',
        'QMKfJ',
        'toString',
        'Idxvj',
        '-notificat',
        'hGfEj',
        'ticketId',
        'map',
        'tenantId',
        'OffLine',
        'ath',
        'ULSiU',
        '../../mode',
        'nSAaE',
        'rder\x20close',
        'nNHnI',
        'base64',
        'then',
        'FxbuY',
        '1874MredkO',
        'inputForma',
        'close',
        'scoding\x20su',
        'xKsZf',
        'logger',
        'mpeg',
        'read',
        'nIosQ',
        'NGTSi',
        'join',
        'basename',
        'status',
        'ls/Message',
        'OCpvT',
        'contactId',
        'include',
        'update',
        'ogg',
        '1728OKBudM',
        'throw',
        'yLrVd',
        'lnYKi',
        '3619175YsTXST',
        'NG_MESSAGE',
        'apply',
        'defineProp',
        'done',
        '2567892ruwoDz',
        'default',
        'LknVm',
        'JXOGJ',
        'hBLuQ',
        'ageOffLine',
        'value',
        'getIO',
        'path',
        '__esModule',
        'mimetype',
        'oRSij',
        '.ogg',
        'toFormat',
        'fluent-ffm',
        'indexOf',
        'TjLto',
        'MelTz',
        'FebWl',
        'olCVh',
        'Audio\x20Tran',
        'io\x20update!',
        'erty',
        'QNudF',
        '1304408KICvWu',
        '2205020bCKqGB',
        'getTime',
        'ROpYy',
        'rder\x20exite',
        'klwcD',
        'mediaUrl',
        '@ffmpeg-in',
        'fault',
        'next',
        'wId',
        'assign',
        '../../util',
        'end',
        'OIoHC',
        'rror:\x20',
        'lastIndexO',
        'Audio\x20reco',
        'util',
        'lVRif',
        'promisify',
        'substring',
        'DZohf',
        'mediaType',
        '../../libs',
        '4296RcrrDS',
        'ziIZD',
        '4279608LCCdXS',
        'fromMe',
        'staller/ff',
        'pipe',
        'info',
        'ion',
        'emit',
        '-appMessag',
        'contact'
    ];
    _0x45df = function () {
        return _0x580767;
    };
    return _0x45df();
}
function _0x3188(_0x53d759, _0x2d54fb) {
    const _0x5c1b59 = _0x45df();
    return _0x3188 = function (_0x3fdadc, _0x26553b) {
        _0x3fdadc = _0x3fdadc - (0x1 * -0x23cb + -0x2441 + 0x49b3);
        let _0x15235d = _0x5c1b59[_0x3fdadc];
        return _0x15235d;
    }, _0x3188(_0x53d759, _0x2d54fb);
}
const _0x117887 = {};
_0x117887[_0x1c1e38(0x1fe)] = !![], Object[_0x1c1e38(0x1f6) + _0x1c1e38(0x20e)](exports, _0x1c1e38(0x201), _0x117887);
const fs_1 = require('fs'), util_1 = require(_0x1c1e38(0x222)), path_1 = require(_0x1c1e38(0x200)), logger_1 = require(_0x1c1e38(0x21c) + _0x1c1e38(0x23a)), MessageOffLine_1 = __importDefault(require(_0x1c1e38(0x1d5) + _0x1c1e38(0x1e9) + _0x1c1e38(0x1d2))), socket_1 = require(_0x1c1e38(0x228) + _0x1c1e38(0x23c)), Ticket_1 = __importDefault(require(_0x1c1e38(0x1d5) + _0x1c1e38(0x1b8))), Message_1 = __importDefault(require(_0x1c1e38(0x1d5) + _0x1c1e38(0x1e9))), fluent_ffmpeg_1 = __importDefault(require(_0x1c1e38(0x206) + _0x1c1e38(0x237))), ffmpeg_1 = require(_0x1c1e38(0x217) + _0x1c1e38(0x22d) + _0x1c1e38(0x1e2)), fs_2 = __importDefault(require('fs')), path_2 = __importDefault(require(_0x1c1e38(0x200))), writeFileAsync = (0x1150 + 0x105b * 0x1 + -0x21ab, util_1[_0x1c1e38(0x224)])(fs_1[_0x1c1e38(0x1af)]), convertOggToMp3 = (_0x2ebf47, _0x547f26) => {
        const _0x4bedb9 = _0x1c1e38, _0x2238a1 = {
                'Idxvj': _0x4bedb9(0x20c) + _0x4bedb9(0x1df) + _0x4bedb9(0x1be),
                'ziIZD': function (_0x408a9d) {
                    return _0x408a9d();
                },
                'QMKfJ': function (_0x386587, _0x3e30c5) {
                    return _0x386587(_0x3e30c5);
                },
                'TjLto': _0x4bedb9(0x1ee),
                'nIosQ': _0x4bedb9(0x1c6),
                'nSAaE': _0x4bedb9(0x1b6),
                'ULSiU': _0x4bedb9(0x1c2),
                'hGfEj': _0x4bedb9(0x1de),
                'FxbuY': _0x4bedb9(0x21d)
            };
        return new Promise((_0x25c52f, _0x377854) => {
            const _0x214e07 = _0x4bedb9, _0x3b6c83 = {
                    'tucfs': function (_0x4e2260, _0x2f1734) {
                        const _0x41bf8f = _0x3188;
                        return _0x2238a1[_0x41bf8f(0x1ca)](_0x4e2260, _0x2f1734);
                    }
                }, _0x340813 = fs_2[_0x214e07(0x1f9)][_0x214e07(0x1ba) + _0x214e07(0x238)](_0x547f26);
            fluent_ffmpeg_1[_0x214e07(0x1f9)][_0x214e07(0x1b3) + _0x214e07(0x1d3)](ffmpeg_1[_0x214e07(0x200)]);
            const _0x3a206b = {};
            _0x3a206b[_0x214e07(0x21d)] = !![], (0x1377 + -0x23ca + 0x1053, fluent_ffmpeg_1[_0x214e07(0x1f9)])(_0x2ebf47)[_0x214e07(0x1dd) + 't'](_0x2238a1[_0x214e07(0x208)])[_0x214e07(0x205)](_0x2238a1[_0x214e07(0x1e4)])['on'](_0x2238a1[_0x214e07(0x1d6)], _0x442441 => {
                const _0x426f52 = _0x214e07;
                logger_1[_0x426f52(0x1e1)][_0x426f52(0x22f)](_0x426f52(0x1b5) + _0x426f52(0x21f) + _0x442441[_0x426f52(0x1c7)]), _0x3b6c83[_0x426f52(0x1b9)](_0x377854, _0x442441);
            })['on'](_0x2238a1[_0x214e07(0x1d4)], () => logger_1[_0x214e07(0x1e1)][_0x214e07(0x22f)](_0x214e07(0x221) + _0x214e07(0x214) + 'd'))['on'](_0x2238a1[_0x214e07(0x1ce)], () => logger_1[_0x214e07(0x1e1)][_0x214e07(0x22f)](_0x214e07(0x221) + _0x214e07(0x1d7) + 'd'))['on'](_0x2238a1[_0x214e07(0x1db)], () => {
                const _0x169614 = _0x214e07;
                logger_1[_0x169614(0x1e1)][_0x169614(0x22f)](_0x2238a1[_0x169614(0x1cc)]), _0x2238a1[_0x169614(0x22a)](_0x25c52f);
            })[_0x214e07(0x22e)](_0x340813, _0x3a206b);
        });
    }, CreateMessageOffilineService = ({
        msg: _0x459174,
        tenantId: _0xae0121,
        medias: _0x3382f4,
        ticket: _0x31a082,
        userId: _0x368e2f
    }) => __awaiter(void (0x16d2 + 0x351 * 0x7 + 0x1 * -0x2e09), void (-0x1 * 0xd3d + 0x182e + 0x1 * -0xaf1), void (-0x1fe8 + -0xc40 + 0x2c28), function* () {
        const _0x1dc6de = _0x1c1e38, _0x5f58e2 = {
                'lVRif': function (_0x40201f, _0x8dc85, _0x2e3220, _0x52d5dd) {
                    return _0x40201f(_0x8dc85, _0x2e3220, _0x52d5dd);
                },
                'yLrVd': _0x1dc6de(0x1b0),
                'DZohf': _0x1dc6de(0x1d9),
                'hawti': function (_0x175100, _0x17bb06) {
                    return _0x175100 < _0x17bb06;
                },
                'hBLuQ': function (_0x196ddf, _0x4b3958) {
                    return _0x196ddf === _0x4b3958;
                },
                'klwcD': _0x1dc6de(0x204),
                'DbFfZ': function (_0x51415d, _0x3480b4, _0x4b18fc) {
                    return _0x51415d(_0x3480b4, _0x4b18fc);
                },
                'nNHnI': _0x1dc6de(0x1bd) + _0x1dc6de(0x20d),
                'xKsZf': _0x1dc6de(0x233),
                'lnYKi': _0x1dc6de(0x1bf),
                'NGTSi': _0x1dc6de(0x235),
                'FebWl': _0x1dc6de(0x1c3) + _0x1dc6de(0x1f4),
                'QNudF': _0x1dc6de(0x1c5),
                'JXOGJ': _0x1dc6de(0x1b4),
                'LknVm': _0x1dc6de(0x1a7) + _0x1dc6de(0x1fd) + _0x1dc6de(0x239)
            }, _0xc2f1d = (0x68 * -0x25 + -0x95 * -0x7 + 0xaf5, socket_1[_0x1dc6de(0x1ff)])(), _0xb490c5 = {};
        _0xb490c5[_0x1dc6de(0x21a)] = undefined, _0xb490c5[_0x1dc6de(0x1cf)] = _0x31a082['id'], _0xb490c5[_0x1dc6de(0x23b)] = _0x459174[_0x1dc6de(0x23b)], _0xb490c5[_0x1dc6de(0x1eb)] = _0x31a082[_0x1dc6de(0x1eb)], _0xb490c5[_0x1dc6de(0x22c)] = _0x459174[_0x1dc6de(0x22c)], _0xb490c5[_0x1dc6de(0x1e3)] = !![], _0xb490c5[_0x1dc6de(0x227)] = _0x5f58e2[_0x1dc6de(0x1fb)], _0xb490c5[_0x1dc6de(0x216)] = undefined, _0xb490c5[_0x1dc6de(0x1ae)] = undefined, _0xb490c5[_0x1dc6de(0x1ac)] = _0x368e2f;
        const _0x2603ec = _0xb490c5;
        try {
            if (_0x3382f4)
                yield Promise[_0x1dc6de(0x236)](_0x3382f4[_0x1dc6de(0x1d0)](_0x3fed09 => __awaiter(void (0x2b * -0x91 + -0x13d * -0x7 + 0xfb0 * 0x1), void (0x181e + -0x1 * -0xaad + 0x3 * -0xb99), void (0x221b + 0x5f * 0x2b + 0x3210 * -0x1), function* () {
                    const _0x257fcf = _0x1dc6de;
                    try {
                        if (!_0x3fed09[_0x257fcf(0x1c0)]) {
                            const _0x5ea291 = _0x3fed09[_0x257fcf(0x202)][_0x257fcf(0x1c9)]('/')[0x3 * 0x774 + 0x11b1 * -0x2 + -0xd07 * -0x1][_0x257fcf(0x1c9)](';')[0x1d5c + 0x1042 + -0x2d9e];
                            _0x3fed09[_0x257fcf(0x1c0)] = new Date()[_0x257fcf(0x212)]() + '.' + _0x5ea291;
                        }
                        yield _0x5f58e2[_0x257fcf(0x223)](writeFileAsync, (0x14e2 + -0x13c3 + -0x7 * 0x29, path_1[_0x257fcf(0x1e6)])(__dirname, '..', '..', '..', '..', _0x5f58e2[_0x257fcf(0x1f1)], _0x3fed09[_0x257fcf(0x1c0)]), _0x3fed09[_0x257fcf(0x1bb)], _0x5f58e2[_0x257fcf(0x226)]);
                        const _0x763559 = path_2[_0x257fcf(0x1f9)][_0x257fcf(0x1e6)](__dirname, '..', '..', '..', '..', _0x5f58e2[_0x257fcf(0x1f1)], _0x3fed09[_0x257fcf(0x1c0)]), _0x558e10 = _0x763559[_0x257fcf(0x220) + 'f']('.'), _0x189d53 = _0x5f58e2[_0x257fcf(0x1c1)](_0x558e10, -0x65f * -0x1 + -0x190b + 0x12ac) ? '' : _0x763559[_0x257fcf(0x225)](_0x558e10), _0x5a69ea = _0x5f58e2[_0x257fcf(0x1fc)](_0x189d53, _0x5f58e2[_0x257fcf(0x215)]);
                        if (_0x5a69ea) {
                            const _0x50beee = path_2[_0x257fcf(0x1f9)][_0x257fcf(0x1e6)](path_2[_0x257fcf(0x1f9)][_0x257fcf(0x234)](_0x763559), path_2[_0x257fcf(0x1f9)][_0x257fcf(0x1e7)](_0x763559, path_2[_0x257fcf(0x1f9)][_0x257fcf(0x1ab)](_0x763559)) + _0x257fcf(0x1a9));
                            yield _0x5f58e2[_0x257fcf(0x1c8)](convertOggToMp3, _0x763559, _0x50beee), logger_1[_0x257fcf(0x1e1)][_0x257fcf(0x22f)](_0x5f58e2[_0x257fcf(0x1d8)]);
                        }
                    } catch (_0x2bfe75) {
                        logger_1[_0x257fcf(0x1e1)][_0x257fcf(0x1b6)](_0x2bfe75);
                    }
                    const _0x321db7 = Object[_0x257fcf(0x21b)](Object[_0x257fcf(0x21b)]({}, _0x2603ec), {
                            'mediaUrl': _0x3fed09[_0x257fcf(0x1c0)],
                            'mediaType': _0x3fed09[_0x257fcf(0x202)][_0x257fcf(0x1a8)](0x96d * -0x4 + 0x1 * -0x2365 + 0x4919 * 0x1, _0x3fed09[_0x257fcf(0x202)][_0x257fcf(0x207)]('/'))
                        }), _0x183c80 = yield MessageOffLine_1[_0x257fcf(0x1f9)][_0x257fcf(0x1c5)](_0x321db7), _0x12dcee = {};
                    _0x12dcee[_0x257fcf(0x1d1)] = _0xae0121;
                    const _0x18332c = {};
                    _0x18332c[_0x257fcf(0x1ec)] = [
                        _0x5f58e2[_0x257fcf(0x1e0)],
                        {
                            'model': Ticket_1[_0x257fcf(0x1f9)],
                            'as': _0x5f58e2[_0x257fcf(0x1f2)],
                            'where': _0x12dcee,
                            'include': [_0x5f58e2[_0x257fcf(0x1e0)]]
                        },
                        {
                            'model': Message_1[_0x257fcf(0x1f9)],
                            'as': _0x5f58e2[_0x257fcf(0x1e5)],
                            'include': [_0x5f58e2[_0x257fcf(0x1e0)]]
                        }
                    ];
                    const _0x50123e = yield MessageOffLine_1[_0x257fcf(0x1f9)][_0x257fcf(0x1bc)](_0x183c80['id'], _0x18332c);
                    if (!_0x50123e)
                        throw new Error(_0x5f58e2[_0x257fcf(0x20a)]);
                    _0xc2f1d['to'](_0xae0121 + '-' + _0x50123e[_0x257fcf(0x1cf)][_0x257fcf(0x1cb)]())['to'](_0xae0121 + '-' + _0x50123e[_0x257fcf(0x1bf)][_0x257fcf(0x1e8)])['to'](_0xae0121 + (_0x257fcf(0x1cd) + _0x257fcf(0x230)))[_0x257fcf(0x231)](_0xae0121 + (_0x257fcf(0x232) + 'e'), {
                        'action': _0x5f58e2[_0x257fcf(0x20f)],
                        'message': _0x50123e,
                        'ticket': _0x50123e[_0x257fcf(0x1bf)],
                        'contact': _0x50123e[_0x257fcf(0x1bf)][_0x257fcf(0x233)]
                    }), yield _0x31a082[_0x257fcf(0x1ed)]({
                        'lastMessage': _0x50123e[_0x257fcf(0x23b)],
                        'lastMessageAt': new Date()[_0x257fcf(0x212)]()
                    });
                })));
            else {
                const _0x788173 = {};
                _0x788173[_0x1dc6de(0x227)] = _0x5f58e2[_0x1dc6de(0x1fb)];
                const _0x4d4e36 = yield MessageOffLine_1[_0x1dc6de(0x1f9)][_0x1dc6de(0x1c5)](Object[_0x1dc6de(0x21b)](Object[_0x1dc6de(0x21b)]({}, _0x2603ec), _0x788173)), _0x34abca = {};
                _0x34abca[_0x1dc6de(0x1d1)] = _0xae0121;
                const _0x203845 = {};
                _0x203845[_0x1dc6de(0x1ec)] = [
                    _0x5f58e2[_0x1dc6de(0x1e0)],
                    {
                        'model': Ticket_1[_0x1dc6de(0x1f9)],
                        'as': _0x5f58e2[_0x1dc6de(0x1f2)],
                        'where': _0x34abca,
                        'include': [_0x5f58e2[_0x1dc6de(0x1e0)]]
                    },
                    {
                        'model': Message_1[_0x1dc6de(0x1f9)],
                        'as': _0x5f58e2[_0x1dc6de(0x1e5)],
                        'include': [_0x5f58e2[_0x1dc6de(0x1e0)]]
                    }
                ];
                const _0x57a1d9 = yield MessageOffLine_1[_0x1dc6de(0x1f9)][_0x1dc6de(0x1bc)](_0x4d4e36['id'], _0x203845);
                if (!_0x57a1d9)
                    throw new Error(_0x5f58e2[_0x1dc6de(0x20a)]);
                yield _0x31a082[_0x1dc6de(0x1ed)]({
                    'lastMessage': _0x57a1d9[_0x1dc6de(0x23b)],
                    'lastMessageAt': new Date()[_0x1dc6de(0x212)]()
                }), _0xc2f1d['to'](_0xae0121 + '-' + _0x57a1d9[_0x1dc6de(0x1cf)][_0x1dc6de(0x1cb)]())['to'](_0xae0121 + '-' + _0x57a1d9[_0x1dc6de(0x1bf)][_0x1dc6de(0x1e8)])['to'](_0xae0121 + (_0x1dc6de(0x1cd) + _0x1dc6de(0x230)))[_0x1dc6de(0x231)](_0xae0121 + (_0x1dc6de(0x232) + 'e'), {
                    'action': _0x5f58e2[_0x1dc6de(0x20f)],
                    'message': _0x57a1d9,
                    'ticket': _0x57a1d9[_0x1dc6de(0x1bf)],
                    'contact': _0x57a1d9[_0x1dc6de(0x1bf)][_0x1dc6de(0x233)]
                });
            }
        } catch (_0x33e4fb) {
            logger_1[_0x1dc6de(0x1e1)][_0x1dc6de(0x1b6)](_0x5f58e2[_0x1dc6de(0x1fa)], _0x33e4fb);
        }
    });
exports[_0x1c1e38(0x1f9)] = CreateMessageOffilineService;